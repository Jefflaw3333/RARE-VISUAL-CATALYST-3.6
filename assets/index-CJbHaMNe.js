(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();var Vf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Gh={exports:{}},qc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xg;function By(){if(xg)return qc;xg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,a){var l=null;if(a!==void 0&&(l=""+a),o.key!==void 0&&(l=""+o.key),"key"in o){a={};for(var c in o)c!=="key"&&(a[c]=o[c])}else a=o;return o=a.ref,{$$typeof:t,type:r,key:l,ref:o!==void 0?o:null,props:a}}return qc.Fragment=e,qc.jsx=n,qc.jsxs=n,qc}var Sg;function zy(){return Sg||(Sg=1,Gh.exports=By()),Gh.exports}var M=zy(),Hh={exports:{}},zt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ag;function qy(){if(Ag)return zt;Ag=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),_=Symbol.iterator;function y(Y){return Y===null||typeof Y!="object"?null:(Y=_&&Y[_]||Y["@@iterator"],typeof Y=="function"?Y:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,C={};function T(Y,R,G){this.props=Y,this.context=R,this.refs=C,this.updater=G||N}T.prototype.isReactComponent={},T.prototype.setState=function(Y,R){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,R,"setState")},T.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function k(){}k.prototype=T.prototype;function U(Y,R,G){this.props=Y,this.context=R,this.refs=C,this.updater=G||N}var z=U.prototype=new k;z.constructor=U,A(z,T.prototype),z.isPureReactComponent=!0;var q=Array.isArray;function J(){}var H={H:null,A:null,T:null,S:null},Z=Object.prototype.hasOwnProperty;function W(Y,R,G){var K=G.ref;return{$$typeof:t,type:Y,key:R,ref:K!==void 0?K:null,props:G}}function ae(Y,R){return W(Y.type,R,Y.props)}function B(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===t}function D(Y){var R={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(G){return R[G]})}var X=/\/+/g;function I(Y,R){return typeof Y=="object"&&Y!==null&&Y.key!=null?D(""+Y.key):R.toString(36)}function ce(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(J,J):(Y.status="pending",Y.then(function(R){Y.status==="pending"&&(Y.status="fulfilled",Y.value=R)},function(R){Y.status==="pending"&&(Y.status="rejected",Y.reason=R)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function oe(Y,R,G,K,ie){var ve=typeof Y;(ve==="undefined"||ve==="boolean")&&(Y=null);var Te=!1;if(Y===null)Te=!0;else switch(ve){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(Y.$$typeof){case t:case e:Te=!0;break;case p:return Te=Y._init,oe(Te(Y._payload),R,G,K,ie)}}if(Te)return ie=ie(Y),Te=K===""?"."+I(Y,0):K,q(ie)?(G="",Te!=null&&(G=Te.replace(X,"$&/")+"/"),oe(ie,R,G,"",function(We){return We})):ie!=null&&(B(ie)&&(ie=ae(ie,G+(ie.key==null||Y&&Y.key===ie.key?"":(""+ie.key).replace(X,"$&/")+"/")+Te)),R.push(ie)),1;Te=0;var we=K===""?".":K+":";if(q(Y))for(var Se=0;Se<Y.length;Se++)K=Y[Se],ve=we+I(K,Se),Te+=oe(K,R,G,ve,ie);else if(Se=y(Y),typeof Se=="function")for(Y=Se.call(Y),Se=0;!(K=Y.next()).done;)K=K.value,ve=we+I(K,Se++),Te+=oe(K,R,G,ve,ie);else if(ve==="object"){if(typeof Y.then=="function")return oe(ce(Y),R,G,K,ie);throw R=String(Y),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.")}return Te}function le(Y,R,G){if(Y==null)return Y;var K=[],ie=0;return oe(Y,K,"","",function(ve){return R.call(G,ve,ie++)}),K}function me(Y){if(Y._status===-1){var R=Y._result;R=R(),R.then(function(G){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=G)},function(G){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=G)}),Y._status===-1&&(Y._status=0,Y._result=R)}if(Y._status===1)return Y._result.default;throw Y._result}var ge=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var R=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(R))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)},Ne={map:le,forEach:function(Y,R,G){le(Y,function(){R.apply(this,arguments)},G)},count:function(Y){var R=0;return le(Y,function(){R++}),R},toArray:function(Y){return le(Y,function(R){return R})||[]},only:function(Y){if(!B(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}};return zt.Activity=v,zt.Children=Ne,zt.Component=T,zt.Fragment=n,zt.Profiler=o,zt.PureComponent=U,zt.StrictMode=r,zt.Suspense=f,zt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,zt.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return H.H.useMemoCache(Y)}},zt.cache=function(Y){return function(){return Y.apply(null,arguments)}},zt.cacheSignal=function(){return null},zt.cloneElement=function(Y,R,G){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var K=A({},Y.props),ie=Y.key;if(R!=null)for(ve in R.key!==void 0&&(ie=""+R.key),R)!Z.call(R,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&R.ref===void 0||(K[ve]=R[ve]);var ve=arguments.length-2;if(ve===1)K.children=G;else if(1<ve){for(var Te=Array(ve),we=0;we<ve;we++)Te[we]=arguments[we+2];K.children=Te}return W(Y.type,ie,K)},zt.createContext=function(Y){return Y={$$typeof:l,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:a,_context:Y},Y},zt.createElement=function(Y,R,G){var K,ie={},ve=null;if(R!=null)for(K in R.key!==void 0&&(ve=""+R.key),R)Z.call(R,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ie[K]=R[K]);var Te=arguments.length-2;if(Te===1)ie.children=G;else if(1<Te){for(var we=Array(Te),Se=0;Se<Te;Se++)we[Se]=arguments[Se+2];ie.children=we}if(Y&&Y.defaultProps)for(K in Te=Y.defaultProps,Te)ie[K]===void 0&&(ie[K]=Te[K]);return W(Y,ve,ie)},zt.createRef=function(){return{current:null}},zt.forwardRef=function(Y){return{$$typeof:c,render:Y}},zt.isValidElement=B,zt.lazy=function(Y){return{$$typeof:p,_payload:{_status:-1,_result:Y},_init:me}},zt.memo=function(Y,R){return{$$typeof:d,type:Y,compare:R===void 0?null:R}},zt.startTransition=function(Y){var R=H.T,G={};H.T=G;try{var K=Y(),ie=H.S;ie!==null&&ie(G,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(J,ge)}catch(ve){ge(ve)}finally{R!==null&&G.types!==null&&(R.types=G.types),H.T=R}},zt.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},zt.use=function(Y){return H.H.use(Y)},zt.useActionState=function(Y,R,G){return H.H.useActionState(Y,R,G)},zt.useCallback=function(Y,R){return H.H.useCallback(Y,R)},zt.useContext=function(Y){return H.H.useContext(Y)},zt.useDebugValue=function(){},zt.useDeferredValue=function(Y,R){return H.H.useDeferredValue(Y,R)},zt.useEffect=function(Y,R){return H.H.useEffect(Y,R)},zt.useEffectEvent=function(Y){return H.H.useEffectEvent(Y)},zt.useId=function(){return H.H.useId()},zt.useImperativeHandle=function(Y,R,G){return H.H.useImperativeHandle(Y,R,G)},zt.useInsertionEffect=function(Y,R){return H.H.useInsertionEffect(Y,R)},zt.useLayoutEffect=function(Y,R){return H.H.useLayoutEffect(Y,R)},zt.useMemo=function(Y,R){return H.H.useMemo(Y,R)},zt.useOptimistic=function(Y,R){return H.H.useOptimistic(Y,R)},zt.useReducer=function(Y,R,G){return H.H.useReducer(Y,R,G)},zt.useRef=function(Y){return H.H.useRef(Y)},zt.useState=function(Y){return H.H.useState(Y)},zt.useSyncExternalStore=function(Y,R,G){return H.H.useSyncExternalStore(Y,R,G)},zt.useTransition=function(){return H.H.useTransition()},zt.version="19.2.4",zt}var Eg;function Yp(){return Eg||(Eg=1,Hh.exports=qy()),Hh.exports}var lt=Yp();const Gy=jp(lt);var Vh={exports:{}},Gc={},jh={exports:{}},Yh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tg;function Hy(){return Tg||(Tg=1,(function(t){function e(oe,le){var me=oe.length;oe.push(le);e:for(;0<me;){var ge=me-1>>>1,Ne=oe[ge];if(0<o(Ne,le))oe[ge]=le,oe[me]=Ne,me=ge;else break e}}function n(oe){return oe.length===0?null:oe[0]}function r(oe){if(oe.length===0)return null;var le=oe[0],me=oe.pop();if(me!==le){oe[0]=me;e:for(var ge=0,Ne=oe.length,Y=Ne>>>1;ge<Y;){var R=2*(ge+1)-1,G=oe[R],K=R+1,ie=oe[K];if(0>o(G,me))K<Ne&&0>o(ie,G)?(oe[ge]=ie,oe[K]=me,ge=K):(oe[ge]=G,oe[R]=me,ge=R);else if(K<Ne&&0>o(ie,me))oe[ge]=ie,oe[K]=me,ge=K;else break e}}return le}function o(oe,le){var me=oe.sortIndex-le.sortIndex;return me!==0?me:oe.id-le.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var f=[],d=[],p=1,v=null,_=3,y=!1,N=!1,A=!1,C=!1,T=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function z(oe){for(var le=n(d);le!==null;){if(le.callback===null)r(d);else if(le.startTime<=oe)r(d),le.sortIndex=le.expirationTime,e(f,le);else break;le=n(d)}}function q(oe){if(A=!1,z(oe),!N)if(n(f)!==null)N=!0,J||(J=!0,D());else{var le=n(d);le!==null&&ce(q,le.startTime-oe)}}var J=!1,H=-1,Z=5,W=-1;function ae(){return C?!0:!(t.unstable_now()-W<Z)}function B(){if(C=!1,J){var oe=t.unstable_now();W=oe;var le=!0;try{e:{N=!1,A&&(A=!1,k(H),H=-1),y=!0;var me=_;try{t:{for(z(oe),v=n(f);v!==null&&!(v.expirationTime>oe&&ae());){var ge=v.callback;if(typeof ge=="function"){v.callback=null,_=v.priorityLevel;var Ne=ge(v.expirationTime<=oe);if(oe=t.unstable_now(),typeof Ne=="function"){v.callback=Ne,z(oe),le=!0;break t}v===n(f)&&r(f),z(oe)}else r(f);v=n(f)}if(v!==null)le=!0;else{var Y=n(d);Y!==null&&ce(q,Y.startTime-oe),le=!1}}break e}finally{v=null,_=me,y=!1}le=void 0}}finally{le?D():J=!1}}}var D;if(typeof U=="function")D=function(){U(B)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,I=X.port2;X.port1.onmessage=B,D=function(){I.postMessage(null)}}else D=function(){T(B,0)};function ce(oe,le){H=T(function(){oe(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(oe){oe.callback=null},t.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<oe?Math.floor(1e3/oe):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(oe){switch(_){case 1:case 2:case 3:var le=3;break;default:le=_}var me=_;_=le;try{return oe()}finally{_=me}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(oe,le){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var me=_;_=oe;try{return le()}finally{_=me}},t.unstable_scheduleCallback=function(oe,le,me){var ge=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?ge+me:ge):me=ge,oe){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=me+Ne,oe={id:p++,callback:le,priorityLevel:oe,startTime:me,expirationTime:Ne,sortIndex:-1},me>ge?(oe.sortIndex=me,e(d,oe),n(f)===null&&oe===n(d)&&(A?(k(H),H=-1):A=!0,ce(q,me-ge))):(oe.sortIndex=Ne,e(f,oe),N||y||(N=!0,J||(J=!0,D()))),oe},t.unstable_shouldYield=ae,t.unstable_wrapCallback=function(oe){var le=_;return function(){var me=_;_=le;try{return oe.apply(this,arguments)}finally{_=me}}}})(Yh)),Yh}var Ng;function Vy(){return Ng||(Ng=1,jh.exports=Hy()),jh.exports}var Jh={exports:{}},cr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cg;function jy(){if(Cg)return cr;Cg=1;var t=Yp();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function a(f,d,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:f,containerInfo:d,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return cr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,cr.createPortal=function(f,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(f,d,null,p)},cr.flushSync=function(f){var d=l.T,p=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=d,r.p=p,r.d.f()}},cr.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},cr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},cr.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var p=d.as,v=c(p,d.crossOrigin),_=typeof d.integrity=="string"?d.integrity:void 0,y=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:v,integrity:_,fetchPriority:y}):p==="script"&&r.d.X(f,{crossOrigin:v,integrity:_,fetchPriority:y,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},cr.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=c(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},cr.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,v=c(p,d.crossOrigin);r.d.L(f,p,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},cr.preloadModule=function(f,d){if(typeof f=="string")if(d){var p=c(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},cr.requestFormReset=function(f){r.d.r(f)},cr.unstable_batchedUpdates=function(f,d){return f(d)},cr.useFormState=function(f,d,p){return l.H.useFormState(f,d,p)},cr.useFormStatus=function(){return l.H.useHostTransitionStatus()},cr.version="19.2.4",cr}var Lg;function Yy(){if(Lg)return Jh.exports;Lg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Jh.exports=jy(),Jh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ig;function Jy(){if(Ig)return Gc;Ig=1;var t=Vy(),e=Yp(),n=Yy();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function a(i){var s=i,u=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(u=s.return),i=s.return;while(i)}return s.tag===3?u:null}function l(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function c(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(a(i)!==i)throw Error(r(188))}function d(i){var s=i.alternate;if(!s){if(s=a(i),s===null)throw Error(r(188));return s!==i?null:i}for(var u=i,h=s;;){var w=u.return;if(w===null)break;var S=w.alternate;if(S===null){if(h=w.return,h!==null){u=h;continue}break}if(w.child===S.child){for(S=w.child;S;){if(S===u)return f(w),i;if(S===h)return f(w),s;S=S.sibling}throw Error(r(188))}if(u.return!==h.return)u=w,h=S;else{for(var O=!1,ne=w.child;ne;){if(ne===u){O=!0,u=w,h=S;break}if(ne===h){O=!0,h=w,u=S;break}ne=ne.sibling}if(!O){for(ne=S.child;ne;){if(ne===u){O=!0,u=S,h=w;break}if(ne===h){O=!0,h=S,u=w;break}ne=ne.sibling}if(!O)throw Error(r(189))}}if(u.alternate!==h)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:s}function p(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=p(i),s!==null)return s;i=i.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),U=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),ae=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function D(i){return i===null||typeof i!="object"?null:(i=B&&i[B]||i["@@iterator"],typeof i=="function"?i:null)}var X=Symbol.for("react.client.reference");function I(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===X?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case A:return"Fragment";case T:return"Profiler";case C:return"StrictMode";case q:return"Suspense";case J:return"SuspenseList";case W:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case N:return"Portal";case U:return i.displayName||"Context";case k:return(i._context.displayName||"Context")+".Consumer";case z:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case H:return s=i.displayName||null,s!==null?s:I(i.type)||"Memo";case Z:s=i._payload,i=i._init;try{return I(i(s))}catch{}}return null}var ce=Array.isArray,oe=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},ge=[],Ne=-1;function Y(i){return{current:i}}function R(i){0>Ne||(i.current=ge[Ne],ge[Ne]=null,Ne--)}function G(i,s){Ne++,ge[Ne]=i.current,i.current=s}var K=Y(null),ie=Y(null),ve=Y(null),Te=Y(null);function we(i,s){switch(G(ve,s),G(ie,i),G(K,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?jm(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=jm(s),i=Ym(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}R(K),G(K,i)}function Se(){R(K),R(ie),R(ve)}function We(i){i.memoizedState!==null&&G(Te,i);var s=K.current,u=Ym(s,i.type);s!==u&&(G(ie,i),G(K,u))}function Ye(i){ie.current===i&&(R(K),R(ie)),Te.current===i&&(R(Te),Oc._currentValue=me)}var st,ot;function F(i){if(st===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);st=s&&s[1]||"",ot=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+st+i+ot}var ye=!1;function $(i,s){if(!i||ye)return"";ye=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(s){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(qe){var Be=qe}Reflect.construct(i,[],tt)}else{try{tt.call()}catch(qe){Be=qe}i.call(tt.prototype)}}else{try{throw Error()}catch(qe){Be=qe}(tt=i())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(qe){if(qe&&Be&&typeof qe.stack=="string")return[qe.stack,Be.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=h.DetermineComponentFrameRoot(),O=S[0],ne=S[1];if(O&&ne){var _e=O.split(`
`),Fe=ne.split(`
`);for(w=h=0;h<_e.length&&!_e[h].includes("DetermineComponentFrameRoot");)h++;for(;w<Fe.length&&!Fe[w].includes("DetermineComponentFrameRoot");)w++;if(h===_e.length||w===Fe.length)for(h=_e.length-1,w=Fe.length-1;1<=h&&0<=w&&_e[h]!==Fe[w];)w--;for(;1<=h&&0<=w;h--,w--)if(_e[h]!==Fe[w]){if(h!==1||w!==1)do if(h--,w--,0>w||_e[h]!==Fe[w]){var Je=`
`+_e[h].replace(" at new "," at ");return i.displayName&&Je.includes("<anonymous>")&&(Je=Je.replace("<anonymous>",i.displayName)),Je}while(1<=h&&0<=w);break}}}finally{ye=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?F(u):""}function ue(i,s){switch(i.tag){case 26:case 27:case 5:return F(i.type);case 16:return F("Lazy");case 13:return i.child!==s&&s!==null?F("Suspense Fallback"):F("Suspense");case 19:return F("SuspenseList");case 0:case 15:return $(i.type,!1);case 11:return $(i.type.render,!1);case 1:return $(i.type,!0);case 31:return F("Activity");default:return""}}function se(i){try{var s="",u=null;do s+=ue(i,u),u=i,i=i.return;while(i);return s}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var he=Object.prototype.hasOwnProperty,Ce=t.unstable_scheduleCallback,Re=t.unstable_cancelCallback,be=t.unstable_shouldYield,ze=t.unstable_requestPaint,He=t.unstable_now,Ve=t.unstable_getCurrentPriorityLevel,it=t.unstable_ImmediatePriority,gt=t.unstable_UserBlockingPriority,ft=t.unstable_NormalPriority,vt=t.unstable_LowPriority,Ct=t.unstable_IdlePriority,at=t.log,Vt=t.unstable_setDisableYieldValue,_t=null,cn=null;function Bt(i){if(typeof at=="function"&&Vt(i),cn&&typeof cn.setStrictMode=="function")try{cn.setStrictMode(_t,i)}catch{}}var Lt=Math.clz32?Math.clz32:Ir,di=Math.log,en=Math.LN2;function Ir(i){return i>>>=0,i===0?32:31-(di(i)/en|0)|0}var mn=256,si=262144,Fn=4194304;function Jt(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function xt(i,s,u){var h=i.pendingLanes;if(h===0)return 0;var w=0,S=i.suspendedLanes,O=i.pingedLanes;i=i.warmLanes;var ne=h&134217727;return ne!==0?(h=ne&~S,h!==0?w=Jt(h):(O&=ne,O!==0?w=Jt(O):u||(u=ne&~i,u!==0&&(w=Jt(u))))):(ne=h&~S,ne!==0?w=Jt(ne):O!==0?w=Jt(O):u||(u=h&~i,u!==0&&(w=Jt(u)))),w===0?0:s!==0&&s!==w&&(s&S)===0&&(S=w&-w,u=s&-s,S>=u||S===32&&(u&4194048)!==0)?s:w}function Yt(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Oi(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zn(){var i=Fn;return Fn<<=1,(Fn&62914560)===0&&(Fn=4194304),i}function oi(i){for(var s=[],u=0;31>u;u++)s.push(i);return s}function Li(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function St(i,s,u,h,w,S){var O=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var ne=i.entanglements,_e=i.expirationTimes,Fe=i.hiddenUpdates;for(u=O&~u;0<u;){var Je=31-Lt(u),tt=1<<Je;ne[Je]=0,_e[Je]=-1;var Be=Fe[Je];if(Be!==null)for(Fe[Je]=null,Je=0;Je<Be.length;Je++){var qe=Be[Je];qe!==null&&(qe.lane&=-536870913)}u&=~tt}h!==0&&Ki(i,h,0),S!==0&&w===0&&i.tag!==0&&(i.suspendedLanes|=S&~(O&~s))}function Ki(i,s,u){i.pendingLanes|=s,i.suspendedLanes&=~s;var h=31-Lt(s);i.entangledLanes|=s,i.entanglements[h]=i.entanglements[h]|1073741824|u&261930}function hi(i,s){var u=i.entangledLanes|=s;for(i=i.entanglements;u;){var h=31-Lt(u),w=1<<h;w&s|i[h]&s&&(i[h]|=s),u&=~w}}function pi(i,s){var u=s&-s;return u=(u&42)!==0?1:_n(u),(u&(i.suspendedLanes|s))!==0?0:u}function _n(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function wn(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function mi(){var i=le.p;return i!==0?i:(i=window.event,i===void 0?32:mg(i.type))}function ys(i,s){var u=le.p;try{return le.p=i,s()}finally{le.p=u}}var gi=Math.random().toString(36).slice(2),gn="__reactFiber$"+gi,Tn="__reactProps$"+gi,vi="__reactContainer$"+gi,tr="__reactEvents$"+gi,nr="__reactListeners$"+gi,Mr="__reactHandles$"+gi,ir="__reactResources$"+gi,Rr="__reactMarker$"+gi;function bs(i){delete i[gn],delete i[Tn],delete i[tr],delete i[nr],delete i[Mr]}function vr(i){var s=i[gn];if(s)return s;for(var u=i.parentNode;u;){if(s=u[vi]||u[gn]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(i=Qm(i);i!==null;){if(u=i[gn])return u;i=Qm(i)}return s}i=u,u=i.parentNode}return null}function ti(i){if(i=i[gn]||i[vi]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function is(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function _s(i){var s=i[ir];return s||(s=i[ir]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Vn(i){i[Rr]=!0}var Bs=new Set,Yo={};function kr(i,s){Dr(i,s),Dr(i+"Capture",s)}function Dr(i,s){for(Yo[i]=s,i=0;i<s.length;i++)Bs.add(s[i])}var Al=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jo={},La={};function Pr(i){return he.call(La,i)?!0:he.call(Jo,i)?!1:Al.test(i)?La[i]=!0:(Jo[i]=!0,!1)}function ws(i,s,u){if(Pr(s))if(u===null)i.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var h=s.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+u)}}function Nn(i,s,u){if(u===null)i.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+u)}}function rr(i,s,u,h){if(h===null)i.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(s,u,""+h)}}function yi(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Wo(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ko(i,s,u){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var w=h.get,S=h.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return w.call(this)},set:function(O){u=""+O,S.call(this,O)}}),Object.defineProperty(i,s,{enumerable:h.enumerable}),{getValue:function(){return u},setValue:function(O){u=""+O},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Xo(i){if(!i._valueTracker){var s=Wo(i)?"checked":"value";i._valueTracker=Ko(i,s,""+i[s])}}function sr(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var u=s.getValue(),h="";return i&&(h=Wo(i)?i.checked?"true":"false":i.value),i=h,i!==u?(s.setValue(i),!0):!1}function rs(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Fi=/[\n"\\]/g;function bi(i){return i.replace(Fi,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function co(i,s,u,h,w,S,O,ne){i.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?i.type=O:i.removeAttribute("type"),s!=null?O==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+yi(s)):i.value!==""+yi(s)&&(i.value=""+yi(s)):O!=="submit"&&O!=="reset"||i.removeAttribute("value"),s!=null?fo(i,O,yi(s)):u!=null?fo(i,O,yi(u)):h!=null&&i.removeAttribute("value"),w==null&&S!=null&&(i.defaultChecked=!!S),w!=null&&(i.checked=w&&typeof w!="function"&&typeof w!="symbol"),ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&typeof ne!="boolean"?i.name=""+yi(ne):i.removeAttribute("name")}function Ia(i,s,u,h,w,S,O,ne){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.type=S),s!=null||u!=null){if(!(S!=="submit"&&S!=="reset"||s!=null)){Xo(i);return}u=u!=null?""+yi(u):"",s=s!=null?""+yi(s):u,ne||s===i.value||(i.value=s),i.defaultValue=s}h=h??w,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=ne?i.checked:!!h,i.defaultChecked=!!h,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(i.name=O),Xo(i)}function fo(i,s,u){s==="number"&&rs(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function xs(i,s,u,h){if(i=i.options,s){s={};for(var w=0;w<u.length;w++)s["$"+u[w]]=!0;for(u=0;u<i.length;u++)w=s.hasOwnProperty("$"+i[u].value),i[u].selected!==w&&(i[u].selected=w),w&&h&&(i[u].defaultSelected=!0)}else{for(u=""+yi(u),s=null,w=0;w<i.length;w++){if(i[w].value===u){i[w].selected=!0,h&&(i[w].defaultSelected=!0);return}s!==null||i[w].disabled||(s=i[w])}s!==null&&(s.selected=!0)}}function Zo(i,s,u){if(s!=null&&(s=""+yi(s),s!==i.value&&(i.value=s),u==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=u!=null?""+yi(u):""}function Ma(i,s,u,h){if(s==null){if(h!=null){if(u!=null)throw Error(r(92));if(ce(h)){if(1<h.length)throw Error(r(93));h=h[0]}u=h}u==null&&(u=""),s=u}u=yi(s),i.defaultValue=u,h=i.textContent,h===u&&h!==""&&h!==null&&(i.value=h),Xo(i)}function Ur(i,s){if(s){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=s;return}}i.textContent=s}var El=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function de(i,s,u){var h=s.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":h?i.setProperty(s,u):typeof u!="number"||u===0||El.has(s)?s==="float"?i.cssFloat=u:i[s]=(""+u).trim():i[s]=u+"px"}function Ze(i,s,u){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||s!=null&&s.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var w in s)h=s[w],s.hasOwnProperty(w)&&u[w]!==h&&de(i,w,h)}else for(var S in s)s.hasOwnProperty(S)&&de(i,S,s[S])}function Xe(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var At=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function an(i){return Gt.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Kt(){}var Or=null;function Ss(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var mt=null,Bn=null;function yr(i){var s=ti(i);if(s&&(i=s.stateNode)){var u=i[Tn]||null;e:switch(i=s.stateNode,s.type){case"input":if(co(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),s=u.name,u.type==="radio"&&s!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+bi(""+s)+'"][type="radio"]'),s=0;s<u.length;s++){var h=u[s];if(h!==i&&h.form===i.form){var w=h[Tn]||null;if(!w)throw Error(r(90));co(h,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(s=0;s<u.length;s++)h=u[s],h.form===i.form&&sr(h)}break e;case"textarea":Zo(i,u.value,u.defaultValue);break e;case"select":s=u.value,s!=null&&xs(i,!!u.multiple,s,!1)}}}var Fr=!1;function Tl(i,s,u){if(Fr)return i(s,u);Fr=!0;try{var h=i(s);return h}finally{if(Fr=!1,(mt!==null||Bn!==null)&&(xf(),mt&&(s=mt,i=Bn,Bn=mt=null,yr(s),i)))for(s=0;s<i.length;s++)yr(i[s])}}function ho(i,s){var u=i.stateNode;if(u===null)return null;var h=u[Tn]||null;if(h===null)return null;u=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,s,typeof u));return u}var or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$o=!1;if(or)try{var Qo={};Object.defineProperty(Qo,"passive",{get:function(){$o=!0}}),window.addEventListener("test",Qo,Qo),window.removeEventListener("test",Qo,Qo)}catch{$o=!1}var As=null,Nl=null,po=null;function mo(){if(po)return po;var i,s=Nl,u=s.length,h,w="value"in As?As.value:As.textContent,S=w.length;for(i=0;i<u&&s[i]===w[i];i++);var O=u-i;for(h=1;h<=O&&s[u-h]===w[S-h];h++);return po=w.slice(i,1<h?1-h:void 0)}function ss(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Ra(){return!0}function go(){return!1}function _i(i){function s(u,h,w,S,O){this._reactName=u,this._targetInst=w,this.type=h,this.nativeEvent=S,this.target=O,this.currentTarget=null;for(var ne in i)i.hasOwnProperty(ne)&&(u=i[ne],this[ne]=u?u(S):S[ne]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Ra:go,this.isPropagationStopped=go,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ra)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ra)},persist:function(){},isPersistent:Ra}),s}var Br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ea=_i(Br),vo=v({},Br,{view:0,detail:0}),nu=_i(vo),ka,zr,br,Da=v({},vo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yo,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==br&&(br&&i.type==="mousemove"?(ka=i.screenX-br.screenX,zr=i.screenY-br.screenY):zr=ka=0,br=i),ka)},movementY:function(i){return"movementY"in i?i.movementY:zr}}),zs=_i(Da),os=v({},Da,{dataTransfer:0}),Cl=_i(os),ta=v({},vo,{relatedTarget:0}),Ll=_i(ta),Pa=v({},Br,{animationName:0,elapsedTime:0,pseudoElement:0}),ac=_i(Pa),Il=v({},Br,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ml=_i(Il),iu=v({},Br,{data:0}),na=_i(iu),Rl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lc(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=ru[i])?!!s[i]:!1}function yo(){return lc}var ia=v({},vo,{key:function(i){if(i.key){var s=Rl[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=ss(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?kl[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yo,charCode:function(i){return i.type==="keypress"?ss(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ss(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Dl=_i(ia),bo=v({},Da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ua=_i(bo),E=v({},vo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yo}),j=_i(E),pe=v({},Br,{propertyName:0,elapsedTime:0,pseudoElement:0}),xe=_i(pe),De=v({},Da,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),je=_i(De),rt=v({},Br,{newState:0,oldState:0}),pt=_i(rt),Tt=[9,13,27,32],Pt=or&&"CompositionEvent"in window,Rt=null;or&&"documentMode"in document&&(Rt=document.documentMode);var tn=or&&"TextEvent"in window&&!Rt,Un=or&&(!Pt||Rt&&8<Rt&&11>=Rt),zn=" ",$n=!1;function Ii(i,s){switch(i){case"keyup":return Tt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ai(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Bi=!1;function _r(i,s){switch(i){case"compositionend":return ai(s);case"keypress":return s.which!==32?null:($n=!0,zn);case"textInput":return i=s.data,i===zn&&$n?null:i;default:return null}}function Es(i,s){if(Bi)return i==="compositionend"||!Pt&&Ii(i,s)?(i=mo(),po=Nl=As=null,Bi=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Un&&s.locale!=="ko"?null:s.data;default:return null}}var su={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oa(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!su[i.type]:s==="textarea"}function Fa(i,s,u,h){mt?Bn?Bn.push(h):Bn=[h]:mt=h,s=Lf(s,"onChange"),0<s.length&&(u=new ea("onChange","change",null,u,h),i.push({event:u,listeners:s}))}var Ts=null,qs=null;function Pl(i){Bm(i,0)}function Gs(i){var s=is(i);if(sr(s))return i}function wi(i,s){if(i==="change")return s}var ra=!1;if(or){var _o;if(or){var wo="oninput"in document;if(!wo){var Ba=document.createElement("div");Ba.setAttribute("oninput","return;"),wo=typeof Ba.oninput=="function"}_o=wo}else _o=!1;ra=_o&&(!document.documentMode||9<document.documentMode)}function Xi(){Ts&&(Ts.detachEvent("onpropertychange",ou),qs=Ts=null)}function ou(i){if(i.propertyName==="value"&&Gs(qs)){var s=[];Fa(s,qs,i,Ss(i)),Tl(Pl,s)}}function Ul(i,s,u){i==="focusin"?(Xi(),Ts=s,qs=u,Ts.attachEvent("onpropertychange",ou)):i==="focusout"&&Xi()}function au(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Gs(qs)}function qr(i,s){if(i==="click")return Gs(s)}function za(i,s){if(i==="input"||i==="change")return Gs(s)}function lu(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var zi=typeof Object.is=="function"?Object.is:lu;function Gr(i,s){if(zi(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var u=Object.keys(i),h=Object.keys(s);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var w=u[h];if(!he.call(s,w)||!zi(i[w],s[w]))return!1}return!0}function xo(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Zi(i,s){var u=xo(i);i=0;for(var h;u;){if(u.nodeType===3){if(h=i+u.textContent.length,i<=s&&h>=s)return{node:u,offset:s-i};i=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=xo(u)}}function qi(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?qi(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Hs(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=rs(i.document);s instanceof i.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)i=s.contentWindow;else break;s=rs(i.document)}return s}function as(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var Vs=or&&"documentMode"in document&&11>=document.documentMode,ls=null,us=null,Mn=null,sa=!1;function Gi(i,s,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;sa||ls==null||ls!==rs(h)||(h=ls,"selectionStart"in h&&as(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Mn&&Gr(Mn,h)||(Mn=h,h=Lf(us,"onSelect"),0<h.length&&(s=new ea("onSelect","select",null,s,u),i.push({event:s,listeners:h}),s.target=ls)))}function xi(i,s){var u={};return u[i.toLowerCase()]=s.toLowerCase(),u["Webkit"+i]="webkit"+s,u["Moz"+i]="moz"+s,u}var cs={animationend:xi("Animation","AnimationEnd"),animationiteration:xi("Animation","AnimationIteration"),animationstart:xi("Animation","AnimationStart"),transitionrun:xi("Transition","TransitionRun"),transitionstart:xi("Transition","TransitionStart"),transitioncancel:xi("Transition","TransitionCancel"),transitionend:xi("Transition","TransitionEnd")},qa={},Ga={};or&&(Ga=document.createElement("div").style,"AnimationEvent"in window||(delete cs.animationend.animation,delete cs.animationiteration.animation,delete cs.animationstart.animation),"TransitionEvent"in window||delete cs.transitionend.transition);function wr(i){if(qa[i])return qa[i];if(!cs[i])return i;var s=cs[i],u;for(u in s)if(s.hasOwnProperty(u)&&u in Ga)return qa[i]=s[u];return i}var So=wr("animationend"),js=wr("animationiteration"),Ao=wr("animationstart"),Ha=wr("transitionrun"),oa=wr("transitionstart"),Eo=wr("transitioncancel"),Va=wr("transitionend"),xr=new Map,ar="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ar.push("scrollEnd");function Wt(i,s){xr.set(i,s),kr(s,[i])}var vn=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},ln=[],On=0,fs=0;function To(){for(var i=On,s=fs=On=0;s<i;){var u=ln[s];ln[s++]=null;var h=ln[s];ln[s++]=null;var w=ln[s];ln[s++]=null;var S=ln[s];if(ln[s++]=null,h!==null&&w!==null){var O=h.pending;O===null?w.next=w:(w.next=O.next,O.next=w),h.pending=w}S!==0&&Ol(u,w,S)}}function Ys(i,s,u,h){ln[On++]=i,ln[On++]=s,ln[On++]=u,ln[On++]=h,fs|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function ja(i,s,u,h){return Ys(i,s,u,h),Hi(i)}function Js(i,s){return Ys(i,null,null,s),Hi(i)}function Ol(i,s,u){i.lanes|=u;var h=i.alternate;h!==null&&(h.lanes|=u);for(var w=!1,S=i.return;S!==null;)S.childLanes|=u,h=S.alternate,h!==null&&(h.childLanes|=u),S.tag===22&&(i=S.stateNode,i===null||i._visibility&1||(w=!0)),i=S,S=S.return;return i.tag===3?(S=i.stateNode,w&&s!==null&&(w=31-Lt(u),i=S.hiddenUpdates,h=i[w],h===null?i[w]=[s]:h.push(s),s.lane=u|536870912),S):null}function Hi(i){if(50<Ic)throw Ic=0,dh=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Mi={};function uu(i,s,u,h){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vi(i,s,u,h){return new uu(i,s,u,h)}function cu(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Hr(i,s){var u=i.alternate;return u===null?(u=Vi(i.tag,s,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=s,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,s=i.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function Fl(i,s){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,s=u.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Ya(i,s,u,h,w,S){var O=0;if(h=i,typeof i=="function")cu(i)&&(O=1);else if(typeof i=="string")O=Ny(i,u,K.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case W:return i=Vi(31,u,s,w),i.elementType=W,i.lanes=S,i;case A:return No(u.children,w,S,s);case C:O=8,w|=24;break;case T:return i=Vi(12,u,s,w|2),i.elementType=T,i.lanes=S,i;case q:return i=Vi(13,u,s,w),i.elementType=q,i.lanes=S,i;case J:return i=Vi(19,u,s,w),i.elementType=J,i.lanes=S,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case U:O=10;break e;case k:O=9;break e;case z:O=11;break e;case H:O=14;break e;case Z:O=16,h=null;break e}O=29,u=Error(r(130,i===null?"null":typeof i,"")),h=null}return s=Vi(O,u,s,w),s.elementType=i,s.type=h,s.lanes=S,s}function No(i,s,u,h){return i=Vi(7,i,h,s),i.lanes=u,i}function Bl(i,s,u){return i=Vi(6,i,null,s),i.lanes=u,i}function fu(i){var s=Vi(18,null,null,0);return s.stateNode=i,s}function Ja(i,s,u){return s=Vi(4,i.children!==null?i.children:[],i.key,s),s.lanes=u,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var du=new WeakMap;function Vr(i,s){if(typeof i=="object"&&i!==null){var u=du.get(i);return u!==void 0?u:(s={value:i,source:s,stack:se(s)},du.set(i,s),s)}return{value:i,source:s,stack:se(s)}}var Wa=[],aa=0,hu=null,zl=0,jr=[],Yr=0,Co=null,Jr=1,Wr="";function Sr(i,s){Wa[aa++]=zl,Wa[aa++]=hu,hu=i,zl=s}function ef(i,s,u){jr[Yr++]=Jr,jr[Yr++]=Wr,jr[Yr++]=Co,Co=i;var h=Jr;i=Wr;var w=32-Lt(h)-1;h&=~(1<<w),u+=1;var S=32-Lt(s)+w;if(30<S){var O=w-w%5;S=(h&(1<<O)-1).toString(32),h>>=O,w-=O,Jr=1<<32-Lt(s)+w|u<<w|h,Wr=S+i}else Jr=1<<S|u<<w|h,Wr=i}function uc(i){i.return!==null&&(Sr(i,1),ef(i,1,0))}function pu(i){for(;i===hu;)hu=Wa[--aa],Wa[aa]=null,zl=Wa[--aa],Wa[aa]=null;for(;i===Co;)Co=jr[--Yr],jr[Yr]=null,Wr=jr[--Yr],jr[Yr]=null,Jr=jr[--Yr],jr[Yr]=null}function tf(i,s){jr[Yr++]=Jr,jr[Yr++]=Wr,jr[Yr++]=Co,Jr=s.id,Wr=s.overflow,Co=i}var Ri=null,Rn=null,Xt=!1,$i=null,jn=!1,ds=Error(r(519));function Lo(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ka(Vr(s,i)),ds}function cc(i){var s=i.stateNode,u=i.type,h=i.memoizedProps;switch(s[gn]=i,s[Tn]=h,u){case"dialog":Qt("cancel",s),Qt("close",s);break;case"iframe":case"object":case"embed":Qt("load",s);break;case"video":case"audio":for(u=0;u<Rc.length;u++)Qt(Rc[u],s);break;case"source":Qt("error",s);break;case"img":case"image":case"link":Qt("error",s),Qt("load",s);break;case"details":Qt("toggle",s);break;case"input":Qt("invalid",s),Ia(s,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Qt("invalid",s);break;case"textarea":Qt("invalid",s),Ma(s,h.value,h.defaultValue,h.children)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||s.textContent===""+u||h.suppressHydrationWarning===!0||Hm(s.textContent,u)?(h.popover!=null&&(Qt("beforetoggle",s),Qt("toggle",s)),h.onScroll!=null&&Qt("scroll",s),h.onScrollEnd!=null&&Qt("scrollend",s),h.onClick!=null&&(s.onclick=Kt),s=!0):s=!1,s||Lo(i,!0)}function Ws(i){for(Ri=i.return;Ri;)switch(Ri.tag){case 5:case 31:case 13:jn=!1;return;case 27:case 3:jn=!0;return;default:Ri=Ri.return}}function ki(i){if(i!==Ri)return!1;if(!Xt)return Ws(i),Xt=!0,!1;var s=i.tag,u;if((u=s!==3&&s!==27)&&((u=s===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||Nh(i.type,i.memoizedProps)),u=!u),u&&Rn&&Lo(i),Ws(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Rn=$m(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Rn=$m(i)}else s===27?(s=Rn,ul(i.type)?(i=Rh,Rh=null,Rn=i):Rn=s):Rn=Ri?ks(i.stateNode.nextSibling):null;return!0}function la(){Rn=Ri=null,Xt=!1}function fc(){var i=$i;return i!==null&&(es===null?es=i:es.push.apply(es,i),$i=null),i}function Ka(i){$i===null?$i=[i]:$i.push(i)}var mu=Y(null),Io=null,Ns=null;function Mo(i,s,u){G(mu,s._currentValue),s._currentValue=u}function Kr(i){i._currentValue=mu.current,R(mu)}function Xa(i,s,u){for(;i!==null;){var h=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),i===u)break;i=i.return}}function ua(i,s,u,h){var w=i.child;for(w!==null&&(w.return=i);w!==null;){var S=w.dependencies;if(S!==null){var O=w.child;S=S.firstContext;e:for(;S!==null;){var ne=S;S=w;for(var _e=0;_e<s.length;_e++)if(ne.context===s[_e]){S.lanes|=u,ne=S.alternate,ne!==null&&(ne.lanes|=u),Xa(S.return,u,i),h||(O=null);break e}S=ne.next}}else if(w.tag===18){if(O=w.return,O===null)throw Error(r(341));O.lanes|=u,S=O.alternate,S!==null&&(S.lanes|=u),Xa(O,u,i),O=null}else O=w.child;if(O!==null)O.return=w;else for(O=w;O!==null;){if(O===i){O=null;break}if(w=O.sibling,w!==null){w.return=O.return,O=w;break}O=O.return}w=O}}function Ro(i,s,u,h){i=null;for(var w=s,S=!1;w!==null;){if(!S){if((w.flags&524288)!==0)S=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var O=w.alternate;if(O===null)throw Error(r(387));if(O=O.memoizedProps,O!==null){var ne=w.type;zi(w.pendingProps.value,O.value)||(i!==null?i.push(ne):i=[ne])}}else if(w===Te.current){if(O=w.alternate,O===null)throw Error(r(387));O.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(i!==null?i.push(Oc):i=[Oc])}w=w.return}i!==null&&ua(s,i,u,h),s.flags|=262144}function gu(i){for(i=i.firstContext;i!==null;){if(!zi(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ko(i){Io=i,Ns=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Di(i){return nf(Io,i)}function vu(i,s){return Io===null&&ko(i),nf(i,s)}function nf(i,s){var u=s._currentValue;if(s={context:s,memoizedValue:u,next:null},Ns===null){if(i===null)throw Error(r(308));Ns=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Ns=Ns.next=s;return u}var Md=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(u,h){i.push(h)}};this.abort=function(){s.aborted=!0,i.forEach(function(u){return u()})}},Rd=t.unstable_scheduleCallback,kd=t.unstable_NormalPriority,Qn={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Za(){return{controller:new Md,data:new Map,refCount:0}}function ql(i){i.refCount--,i.refCount===0&&Rd(kd,function(){i.controller.abort()})}var Gl=null,yu=0,g=0,x=null;function L(i,s){if(Gl===null){var u=Gl=[];yu=0,g=yh(),x={status:"pending",value:void 0,then:function(h){u.push(h)}}}return yu++,s.then(P,P),s}function P(){if(--yu===0&&Gl!==null){x!==null&&(x.status="fulfilled");var i=Gl;Gl=null,g=0,x=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function V(i,s){var u=[],h={status:"pending",value:null,reason:null,then:function(w){u.push(w)}};return i.then(function(){h.status="fulfilled",h.value=s;for(var w=0;w<u.length;w++)(0,u[w])(s)},function(w){for(h.status="rejected",h.reason=w,w=0;w<u.length;w++)(0,u[w])(void 0)}),h}var Q=oe.S;oe.S=function(i,s){hm=He(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&L(i,s),Q!==null&&Q(i,s)};var ee=Y(null);function te(){var i=ee.current;return i!==null?i:Dn.pooledCache}function re(i,s){s===null?G(ee,ee.current):G(ee,s.pool)}function fe(){var i=te();return i===null?null:{parent:Qn._currentValue,pool:i}}var Ae=Error(r(460)),Ue=Error(r(474)),Pe=Error(r(542)),Me={then:function(){}};function et(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Ge(i,s,u){switch(u=i[u],u===void 0?i.push(s):u!==s&&(s.then(Kt,Kt),s=u),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,nt(i),i;default:if(typeof s.status=="string")s.then(Kt,Kt);else{if(i=Dn,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(h){if(s.status==="pending"){var w=s;w.status="fulfilled",w.value=h}},function(h){if(s.status==="pending"){var w=s;w.status="rejected",w.reason=h}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,nt(i),i}throw Ie=s,Ae}}function Ee(i){try{var s=i._init;return s(i._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Ie=u,Ae):u}}var Ie=null;function $e(){if(Ie===null)throw Error(r(459));var i=Ie;return Ie=null,i}function nt(i){if(i===Ae||i===Pe)throw Error(r(483))}var Ke=null,dt=0;function ut(i){var s=dt;return dt+=1,Ke===null&&(Ke=[]),Ge(Ke,i,s)}function Et(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function ct(i,s){throw s.$$typeof===_?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function un(i){function s(ke,Le){if(i){var Oe=ke.deletions;Oe===null?(ke.deletions=[Le],ke.flags|=16):Oe.push(Le)}}function u(ke,Le){if(!i)return null;for(;Le!==null;)s(ke,Le),Le=Le.sibling;return null}function h(ke){for(var Le=new Map;ke!==null;)ke.key!==null?Le.set(ke.key,ke):Le.set(ke.index,ke),ke=ke.sibling;return Le}function w(ke,Le){return ke=Hr(ke,Le),ke.index=0,ke.sibling=null,ke}function S(ke,Le,Oe){return ke.index=Oe,i?(Oe=ke.alternate,Oe!==null?(Oe=Oe.index,Oe<Le?(ke.flags|=67108866,Le):Oe):(ke.flags|=67108866,Le)):(ke.flags|=1048576,Le)}function O(ke){return i&&ke.alternate===null&&(ke.flags|=67108866),ke}function ne(ke,Le,Oe,Qe){return Le===null||Le.tag!==6?(Le=Bl(Oe,ke.mode,Qe),Le.return=ke,Le):(Le=w(Le,Oe),Le.return=ke,Le)}function _e(ke,Le,Oe,Qe){var Nt=Oe.type;return Nt===A?Je(ke,Le,Oe.props.children,Qe,Oe.key):Le!==null&&(Le.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===Z&&Ee(Nt)===Le.type)?(Le=w(Le,Oe.props),Et(Le,Oe),Le.return=ke,Le):(Le=Ya(Oe.type,Oe.key,Oe.props,null,ke.mode,Qe),Et(Le,Oe),Le.return=ke,Le)}function Fe(ke,Le,Oe,Qe){return Le===null||Le.tag!==4||Le.stateNode.containerInfo!==Oe.containerInfo||Le.stateNode.implementation!==Oe.implementation?(Le=Ja(Oe,ke.mode,Qe),Le.return=ke,Le):(Le=w(Le,Oe.children||[]),Le.return=ke,Le)}function Je(ke,Le,Oe,Qe,Nt){return Le===null||Le.tag!==7?(Le=No(Oe,ke.mode,Qe,Nt),Le.return=ke,Le):(Le=w(Le,Oe),Le.return=ke,Le)}function tt(ke,Le,Oe){if(typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint")return Le=Bl(""+Le,ke.mode,Oe),Le.return=ke,Le;if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case y:return Oe=Ya(Le.type,Le.key,Le.props,null,ke.mode,Oe),Et(Oe,Le),Oe.return=ke,Oe;case N:return Le=Ja(Le,ke.mode,Oe),Le.return=ke,Le;case Z:return Le=Ee(Le),tt(ke,Le,Oe)}if(ce(Le)||D(Le))return Le=No(Le,ke.mode,Oe,null),Le.return=ke,Le;if(typeof Le.then=="function")return tt(ke,ut(Le),Oe);if(Le.$$typeof===U)return tt(ke,vu(ke,Le),Oe);ct(ke,Le)}return null}function Be(ke,Le,Oe,Qe){var Nt=Le!==null?Le.key:null;if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return Nt!==null?null:ne(ke,Le,""+Oe,Qe);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case y:return Oe.key===Nt?_e(ke,Le,Oe,Qe):null;case N:return Oe.key===Nt?Fe(ke,Le,Oe,Qe):null;case Z:return Oe=Ee(Oe),Be(ke,Le,Oe,Qe)}if(ce(Oe)||D(Oe))return Nt!==null?null:Je(ke,Le,Oe,Qe,null);if(typeof Oe.then=="function")return Be(ke,Le,ut(Oe),Qe);if(Oe.$$typeof===U)return Be(ke,Le,vu(ke,Oe),Qe);ct(ke,Oe)}return null}function qe(ke,Le,Oe,Qe,Nt){if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number"||typeof Qe=="bigint")return ke=ke.get(Oe)||null,ne(Le,ke,""+Qe,Nt);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case y:return ke=ke.get(Qe.key===null?Oe:Qe.key)||null,_e(Le,ke,Qe,Nt);case N:return ke=ke.get(Qe.key===null?Oe:Qe.key)||null,Fe(Le,ke,Qe,Nt);case Z:return Qe=Ee(Qe),qe(ke,Le,Oe,Qe,Nt)}if(ce(Qe)||D(Qe))return ke=ke.get(Oe)||null,Je(Le,ke,Qe,Nt,null);if(typeof Qe.then=="function")return qe(ke,Le,Oe,ut(Qe),Nt);if(Qe.$$typeof===U)return qe(ke,Le,Oe,vu(Le,Qe),Nt);ct(Le,Qe)}return null}function yt(ke,Le,Oe,Qe){for(var Nt=null,dn=null,wt=Le,Ht=Le=0,sn=null;wt!==null&&Ht<Oe.length;Ht++){wt.index>Ht?(sn=wt,wt=null):sn=wt.sibling;var hn=Be(ke,wt,Oe[Ht],Qe);if(hn===null){wt===null&&(wt=sn);break}i&&wt&&hn.alternate===null&&s(ke,wt),Le=S(hn,Le,Ht),dn===null?Nt=hn:dn.sibling=hn,dn=hn,wt=sn}if(Ht===Oe.length)return u(ke,wt),Xt&&Sr(ke,Ht),Nt;if(wt===null){for(;Ht<Oe.length;Ht++)wt=tt(ke,Oe[Ht],Qe),wt!==null&&(Le=S(wt,Le,Ht),dn===null?Nt=wt:dn.sibling=wt,dn=wt);return Xt&&Sr(ke,Ht),Nt}for(wt=h(wt);Ht<Oe.length;Ht++)sn=qe(wt,ke,Ht,Oe[Ht],Qe),sn!==null&&(i&&sn.alternate!==null&&wt.delete(sn.key===null?Ht:sn.key),Le=S(sn,Le,Ht),dn===null?Nt=sn:dn.sibling=sn,dn=sn);return i&&wt.forEach(function(pl){return s(ke,pl)}),Xt&&Sr(ke,Ht),Nt}function Mt(ke,Le,Oe,Qe){if(Oe==null)throw Error(r(151));for(var Nt=null,dn=null,wt=Le,Ht=Le=0,sn=null,hn=Oe.next();wt!==null&&!hn.done;Ht++,hn=Oe.next()){wt.index>Ht?(sn=wt,wt=null):sn=wt.sibling;var pl=Be(ke,wt,hn.value,Qe);if(pl===null){wt===null&&(wt=sn);break}i&&wt&&pl.alternate===null&&s(ke,wt),Le=S(pl,Le,Ht),dn===null?Nt=pl:dn.sibling=pl,dn=pl,wt=sn}if(hn.done)return u(ke,wt),Xt&&Sr(ke,Ht),Nt;if(wt===null){for(;!hn.done;Ht++,hn=Oe.next())hn=tt(ke,hn.value,Qe),hn!==null&&(Le=S(hn,Le,Ht),dn===null?Nt=hn:dn.sibling=hn,dn=hn);return Xt&&Sr(ke,Ht),Nt}for(wt=h(wt);!hn.done;Ht++,hn=Oe.next())hn=qe(wt,ke,Ht,hn.value,Qe),hn!==null&&(i&&hn.alternate!==null&&wt.delete(hn.key===null?Ht:hn.key),Le=S(hn,Le,Ht),dn===null?Nt=hn:dn.sibling=hn,dn=hn);return i&&wt.forEach(function(Fy){return s(ke,Fy)}),Xt&&Sr(ke,Ht),Nt}function In(ke,Le,Oe,Qe){if(typeof Oe=="object"&&Oe!==null&&Oe.type===A&&Oe.key===null&&(Oe=Oe.props.children),typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case y:e:{for(var Nt=Oe.key;Le!==null;){if(Le.key===Nt){if(Nt=Oe.type,Nt===A){if(Le.tag===7){u(ke,Le.sibling),Qe=w(Le,Oe.props.children),Qe.return=ke,ke=Qe;break e}}else if(Le.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===Z&&Ee(Nt)===Le.type){u(ke,Le.sibling),Qe=w(Le,Oe.props),Et(Qe,Oe),Qe.return=ke,ke=Qe;break e}u(ke,Le);break}else s(ke,Le);Le=Le.sibling}Oe.type===A?(Qe=No(Oe.props.children,ke.mode,Qe,Oe.key),Qe.return=ke,ke=Qe):(Qe=Ya(Oe.type,Oe.key,Oe.props,null,ke.mode,Qe),Et(Qe,Oe),Qe.return=ke,ke=Qe)}return O(ke);case N:e:{for(Nt=Oe.key;Le!==null;){if(Le.key===Nt)if(Le.tag===4&&Le.stateNode.containerInfo===Oe.containerInfo&&Le.stateNode.implementation===Oe.implementation){u(ke,Le.sibling),Qe=w(Le,Oe.children||[]),Qe.return=ke,ke=Qe;break e}else{u(ke,Le);break}else s(ke,Le);Le=Le.sibling}Qe=Ja(Oe,ke.mode,Qe),Qe.return=ke,ke=Qe}return O(ke);case Z:return Oe=Ee(Oe),In(ke,Le,Oe,Qe)}if(ce(Oe))return yt(ke,Le,Oe,Qe);if(D(Oe)){if(Nt=D(Oe),typeof Nt!="function")throw Error(r(150));return Oe=Nt.call(Oe),Mt(ke,Le,Oe,Qe)}if(typeof Oe.then=="function")return In(ke,Le,ut(Oe),Qe);if(Oe.$$typeof===U)return In(ke,Le,vu(ke,Oe),Qe);ct(ke,Oe)}return typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint"?(Oe=""+Oe,Le!==null&&Le.tag===6?(u(ke,Le.sibling),Qe=w(Le,Oe),Qe.return=ke,ke=Qe):(u(ke,Le),Qe=Bl(Oe,ke.mode,Qe),Qe.return=ke,ke=Qe),O(ke)):u(ke,Le)}return function(ke,Le,Oe,Qe){try{dt=0;var Nt=In(ke,Le,Oe,Qe);return Ke=null,Nt}catch(wt){if(wt===Ae||wt===Pe)throw wt;var dn=Vi(29,wt,null,ke.mode);return dn.lanes=Qe,dn.return=ke,dn}finally{}}}var Zt=un(!0),nn=un(!1),Ot=!1;function yn(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fn(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function It(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function xn(i,s,u){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(bn&2)!==0){var w=h.pending;return w===null?s.next=s:(s.next=w.next,w.next=s),h.pending=s,s=Hi(i),Ol(i,null,u),s}return Ys(i,h,s,u),Hi(i)}function Si(i,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194048)!==0)){var h=s.lanes;h&=i.pendingLanes,u|=h,s.lanes=u,hi(i,u)}}function Yn(i,s){var u=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var w=null,S=null;if(u=u.firstBaseUpdate,u!==null){do{var O={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};S===null?w=S=O:S=S.next=O,u=u.next}while(u!==null);S===null?w=S=s:S=S.next=s}else w=S=s;u={baseState:h.baseState,firstBaseUpdate:w,lastBaseUpdate:S,shared:h.shared,callbacks:h.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=s:i.next=s,u.lastBaseUpdate=s}var ji=!1;function on(){if(ji){var i=x;if(i!==null)throw i}}function Pi(i,s,u,h){ji=!1;var w=i.updateQueue;Ot=!1;var S=w.firstBaseUpdate,O=w.lastBaseUpdate,ne=w.shared.pending;if(ne!==null){w.shared.pending=null;var _e=ne,Fe=_e.next;_e.next=null,O===null?S=Fe:O.next=Fe,O=_e;var Je=i.alternate;Je!==null&&(Je=Je.updateQueue,ne=Je.lastBaseUpdate,ne!==O&&(ne===null?Je.firstBaseUpdate=Fe:ne.next=Fe,Je.lastBaseUpdate=_e))}if(S!==null){var tt=w.baseState;O=0,Je=Fe=_e=null,ne=S;do{var Be=ne.lane&-536870913,qe=Be!==ne.lane;if(qe?(rn&Be)===Be:(h&Be)===Be){Be!==0&&Be===g&&(ji=!0),Je!==null&&(Je=Je.next={lane:0,tag:ne.tag,payload:ne.payload,callback:null,next:null});e:{var yt=i,Mt=ne;Be=s;var In=u;switch(Mt.tag){case 1:if(yt=Mt.payload,typeof yt=="function"){tt=yt.call(In,tt,Be);break e}tt=yt;break e;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=Mt.payload,Be=typeof yt=="function"?yt.call(In,tt,Be):yt,Be==null)break e;tt=v({},tt,Be);break e;case 2:Ot=!0}}Be=ne.callback,Be!==null&&(i.flags|=64,qe&&(i.flags|=8192),qe=w.callbacks,qe===null?w.callbacks=[Be]:qe.push(Be))}else qe={lane:Be,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null},Je===null?(Fe=Je=qe,_e=tt):Je=Je.next=qe,O|=Be;if(ne=ne.next,ne===null){if(ne=w.shared.pending,ne===null)break;qe=ne,ne=qe.next,qe.next=null,w.lastBaseUpdate=qe,w.shared.pending=null}}while(!0);Je===null&&(_e=tt),w.baseState=_e,w.firstBaseUpdate=Fe,w.lastBaseUpdate=Je,S===null&&(w.shared.lanes=0),rl|=O,i.lanes=O,i.memoizedState=tt}}function lr(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function li(i,s){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)lr(u[i],s)}var Jn=Y(null),Ai=Y(0);function Ar(i,s){i=wa,G(Ai,i),G(Jn,s),wa=i|s.baseLanes}function Xr(){G(Ai,wa),G(Jn,Jn.current)}function ni(){wa=Ai.current,R(Jn),R(Ai)}var ei=Y(null),Ei=null;function Er(i){var s=i.alternate;G(Wn,Wn.current&1),G(ei,i),Ei===null&&(s===null||Jn.current!==null||s.memoizedState!==null)&&(Ei=i)}function Cs(i){G(Wn,Wn.current),G(ei,i),Ei===null&&(Ei=i)}function qn(i){i.tag===22?(G(Wn,Wn.current),G(ei,i),Ei===null&&(Ei=i)):Ls()}function Ls(){G(Wn,Wn.current),G(ei,ei.current)}function ur(i){R(ei),Ei===i&&(Ei=null),R(Wn)}var Wn=Y(0);function ca(i){for(var s=i;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Ih(u)||Mh(u)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Tr=0,Ut=null,jt=null,kn=null,Ks=!1,fa=!1,Is=!1,Hl=0,Do=0,Po=null,bu=0;function Cn(){throw Error(r(321))}function dc(i,s){if(s===null)return!1;for(var u=0;u<s.length&&u<i.length;u++)if(!zi(i[u],s[u]))return!1;return!0}function hc(i,s,u,h,w,S){return Tr=S,Ut=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,oe.H=i===null||i.memoizedState===null?A0:qd,Is=!1,S=u(h,w),Is=!1,fa&&(S=Xs(s,u,h,w)),_u(i),S}function _u(i){oe.H=wc;var s=jt!==null&&jt.next!==null;if(Tr=0,kn=jt=Ut=null,Ks=!1,Do=0,Po=null,s)throw Error(r(300));i===null||Ni||(i=i.dependencies,i!==null&&gu(i)&&(Ni=!0))}function Xs(i,s,u,h){Ut=i;var w=0;do{if(fa&&(Po=null),Do=0,fa=!1,25<=w)throw Error(r(301));if(w+=1,kn=jt=null,i.updateQueue!=null){var S=i.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}oe.H=E0,S=s(u,h)}while(fa);return S}function Dd(){var i=oe.H,s=i.useState()[0];return s=typeof s.then=="function"?Uo(s):s,i=i.useState()[0],(jt!==null?jt.memoizedState:null)!==i&&(Ut.flags|=1024),s}function pc(){var i=Hl!==0;return Hl=0,i}function mc(i,s,u){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~u}function wu(i){if(Ks){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Ks=!1}Tr=0,kn=jt=Ut=null,fa=!1,Do=Hl=0,Po=null}function Ti(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kn===null?Ut.memoizedState=kn=i:kn=kn.next=i,kn}function Kn(){if(jt===null){var i=Ut.alternate;i=i!==null?i.memoizedState:null}else i=jt.next;var s=kn===null?Ut.memoizedState:kn.next;if(s!==null)kn=s,jt=i;else{if(i===null)throw Ut.alternate===null?Error(r(467)):Error(r(310));jt=i,i={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},kn===null?Ut.memoizedState=kn=i:kn=kn.next=i}return kn}function Vl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Uo(i){var s=Do;return Do+=1,Po===null&&(Po=[]),i=Ge(Po,i,s),s=Ut,(kn===null?s.memoizedState:kn.next)===null&&(s=s.alternate,oe.H=s===null||s.memoizedState===null?A0:qd),i}function $a(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Uo(i);if(i.$$typeof===U)return Di(i)}throw Error(r(438,String(i)))}function da(i){var s=null,u=Ut.updateQueue;if(u!==null&&(s=u.memoCache),s==null){var h=Ut.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(s={data:h.data.map(function(w){return w.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),u===null&&(u=Vl(),Ut.updateQueue=u),u.memoCache=s,u=s.data[s.index],u===void 0)for(u=s.data[s.index]=Array(i),h=0;h<i;h++)u[h]=ae;return s.index++,u}function Ms(i,s){return typeof s=="function"?s(i):s}function xu(i){var s=Kn();return Qa(s,jt,i)}function Qa(i,s,u){var h=i.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=u;var w=i.baseQueue,S=h.pending;if(S!==null){if(w!==null){var O=w.next;w.next=S.next,S.next=O}s.baseQueue=w=S,h.pending=null}if(S=i.baseState,w===null)i.memoizedState=S;else{s=w.next;var ne=O=null,_e=null,Fe=s,Je=!1;do{var tt=Fe.lane&-536870913;if(tt!==Fe.lane?(rn&tt)===tt:(Tr&tt)===tt){var Be=Fe.revertLane;if(Be===0)_e!==null&&(_e=_e.next={lane:0,revertLane:0,gesture:null,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null}),tt===g&&(Je=!0);else if((Tr&Be)===Be){Fe=Fe.next,Be===g&&(Je=!0);continue}else tt={lane:0,revertLane:Fe.revertLane,gesture:null,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null},_e===null?(ne=_e=tt,O=S):_e=_e.next=tt,Ut.lanes|=Be,rl|=Be;tt=Fe.action,Is&&u(S,tt),S=Fe.hasEagerState?Fe.eagerState:u(S,tt)}else Be={lane:tt,revertLane:Fe.revertLane,gesture:Fe.gesture,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null},_e===null?(ne=_e=Be,O=S):_e=_e.next=Be,Ut.lanes|=tt,rl|=tt;Fe=Fe.next}while(Fe!==null&&Fe!==s);if(_e===null?O=S:_e.next=ne,!zi(S,i.memoizedState)&&(Ni=!0,Je&&(u=x,u!==null)))throw u;i.memoizedState=S,i.baseState=O,i.baseQueue=_e,h.lastRenderedState=S}return w===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function Su(i){var s=Kn(),u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var h=u.dispatch,w=u.pending,S=s.memoizedState;if(w!==null){u.pending=null;var O=w=w.next;do S=i(S,O.action),O=O.next;while(O!==w);zi(S,s.memoizedState)||(Ni=!0),s.memoizedState=S,s.baseQueue===null&&(s.baseState=S),u.lastRenderedState=S}return[S,h]}function Au(i,s,u){var h=Ut,w=Kn(),S=Xt;if(S){if(u===void 0)throw Error(r(407));u=u()}else u=s();var O=!zi((jt||w).memoizedState,u);if(O&&(w.memoizedState=u,Ni=!0),w=w.queue,Pd(vc.bind(null,h,w,i),[i]),w.getSnapshot!==s||O||kn!==null&&kn.memoizedState.tag&1){if(h.flags|=2048,pa(9,{destroy:void 0},gc.bind(null,h,w,u,s),null),Dn===null)throw Error(r(349));S||(Tr&127)!==0||Zs(h,s,u)}return u}function Zs(i,s,u){i.flags|=16384,i={getSnapshot:s,value:u},s=Ut.updateQueue,s===null?(s=Vl(),Ut.updateQueue=s,s.stores=[i]):(u=s.stores,u===null?s.stores=[i]:u.push(i))}function gc(i,s,u,h){s.value=u,s.getSnapshot=h,rf(s)&&yc(i)}function vc(i,s,u){return u(function(){rf(s)&&yc(i)})}function rf(i){var s=i.getSnapshot;i=i.value;try{var u=s();return!zi(i,u)}catch{return!0}}function yc(i){var s=Js(i,2);s!==null&&ts(s,i,2)}function Oo(i){var s=Ti();if(typeof i=="function"){var u=i;if(i=u(),Is){Bt(!0);try{u()}finally{Bt(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:i},s}function sf(i,s,u,h){return i.baseState=u,Qa(i,jt,typeof h=="function"?h:Ms)}function of(i,s,u,h,w){if(cf(i))throw Error(r(485));if(i=s.action,i!==null){var S={payload:w,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){S.listeners.push(O)}};oe.T!==null?u(!0):S.isTransition=!1,h(S),u=s.pending,u===null?(S.next=s.pending=S,af(s,S)):(S.next=u.next,s.pending=u.next=S)}}function af(i,s){var u=s.action,h=s.payload,w=i.state;if(s.isTransition){var S=oe.T,O={};oe.T=O;try{var ne=u(w,h),_e=oe.S;_e!==null&&_e(O,ne),bc(i,s,ne)}catch(Fe){ha(i,s,Fe)}finally{S!==null&&O.types!==null&&(S.types=O.types),oe.T=S}}else try{S=u(w,h),bc(i,s,S)}catch(Fe){ha(i,s,Fe)}}function bc(i,s,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){lf(i,s,h)},function(h){return ha(i,s,h)}):lf(i,s,u)}function lf(i,s,u){s.status="fulfilled",s.value=u,Eu(s),i.state=u,s=i.pending,s!==null&&(u=s.next,u===s?i.pending=null:(u=u.next,s.next=u,af(i,u)))}function ha(i,s,u){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do s.status="rejected",s.reason=u,Eu(s),s=s.next;while(s!==h)}i.action=null}function Eu(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function jl(i,s){return s}function Rs(i,s){if(Xt){var u=Dn.formState;if(u!==null){e:{var h=Ut;if(Xt){if(Rn){t:{for(var w=Rn,S=jn;w.nodeType!==8;){if(!S){w=null;break t}if(w=ks(w.nextSibling),w===null){w=null;break t}}S=w.data,w=S==="F!"||S==="F"?w:null}if(w){Rn=ks(w.nextSibling),h=w.data==="F!";break e}}Lo(h)}h=!1}h&&(s=u[0])}}return u=Ti(),u.memoizedState=u.baseState=s,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jl,lastRenderedState:s},u.queue=h,u=w0.bind(null,Ut,h),h.dispatch=u,h=Oo(!1),S=zd.bind(null,Ut,!1,h.queue),h=Ti(),w={state:s,dispatch:null,action:i,pending:null},h.queue=w,u=of.bind(null,Ut,w,S,u),w.dispatch=u,h.memoizedState=i,[s,u,!1]}function $s(i){var s=Kn();return Qs(s,jt,i)}function Qs(i,s,u){if(s=Qa(i,s,jl)[0],i=xu(Ms)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var h=Uo(s)}catch(O){throw O===Ae?Pe:O}else h=s;s=Kn();var w=s.queue,S=w.dispatch;return u!==s.memoizedState&&(Ut.flags|=2048,pa(9,{destroy:void 0},Tu.bind(null,w,u),null)),[h,S,i]}function Tu(i,s){i.action=s}function Nu(i){var s=Kn(),u=jt;if(u!==null)return Qs(s,u,i);Kn(),s=s.memoizedState,u=Kn();var h=u.queue.dispatch;return u.memoizedState=i,[s,h,!1]}function pa(i,s,u,h){return i={tag:i,create:u,deps:h,inst:s,next:null},s=Ut.updateQueue,s===null&&(s=Vl(),Ut.updateQueue=s),u=s.lastEffect,u===null?s.lastEffect=i.next=i:(h=u.next,u.next=i,i.next=h,s.lastEffect=i),i}function uf(){return Kn().memoizedState}function el(i,s,u,h){var w=Ti();Ut.flags|=i,w.memoizedState=pa(1|s,{destroy:void 0},u,h===void 0?null:h)}function tl(i,s,u,h){var w=Kn();h=h===void 0?null:h;var S=w.memoizedState.inst;jt!==null&&h!==null&&dc(h,jt.memoizedState.deps)?w.memoizedState=pa(s,S,u,h):(Ut.flags|=i,w.memoizedState=pa(1|s,S,u,h))}function a0(i,s){el(8390656,8,i,s)}function Pd(i,s){tl(2048,8,i,s)}function R5(i){Ut.flags|=4;var s=Ut.updateQueue;if(s===null)s=Vl(),Ut.updateQueue=s,s.events=[i];else{var u=s.events;u===null?s.events=[i]:u.push(i)}}function l0(i){var s=Kn().memoizedState;return R5({ref:s,nextImpl:i}),function(){if((bn&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function u0(i,s){return tl(4,2,i,s)}function c0(i,s){return tl(4,4,i,s)}function f0(i,s){if(typeof s=="function"){i=i();var u=s(i);return function(){typeof u=="function"?u():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function d0(i,s,u){u=u!=null?u.concat([i]):null,tl(4,4,f0.bind(null,s,i),u)}function Ud(){}function h0(i,s){var u=Kn();s=s===void 0?null:s;var h=u.memoizedState;return s!==null&&dc(s,h[1])?h[0]:(u.memoizedState=[i,s],i)}function p0(i,s){var u=Kn();s=s===void 0?null:s;var h=u.memoizedState;if(s!==null&&dc(s,h[1]))return h[0];if(h=i(),Is){Bt(!0);try{i()}finally{Bt(!1)}}return u.memoizedState=[h,s],h}function Od(i,s,u){return u===void 0||(Tr&1073741824)!==0&&(rn&261930)===0?i.memoizedState=s:(i.memoizedState=u,i=mm(),Ut.lanes|=i,rl|=i,u)}function m0(i,s,u,h){return zi(u,s)?u:Jn.current!==null?(i=Od(i,u,h),zi(i,s)||(Ni=!0),i):(Tr&42)===0||(Tr&1073741824)!==0&&(rn&261930)===0?(Ni=!0,i.memoizedState=u):(i=mm(),Ut.lanes|=i,rl|=i,s)}function g0(i,s,u,h,w){var S=le.p;le.p=S!==0&&8>S?S:8;var O=oe.T,ne={};oe.T=ne,zd(i,!1,s,u);try{var _e=w(),Fe=oe.S;if(Fe!==null&&Fe(ne,_e),_e!==null&&typeof _e=="object"&&typeof _e.then=="function"){var Je=V(_e,h);_c(i,s,Je,ms(i))}else _c(i,s,h,ms(i))}catch(tt){_c(i,s,{then:function(){},status:"rejected",reason:tt},ms())}finally{le.p=S,O!==null&&ne.types!==null&&(O.types=ne.types),oe.T=O}}function k5(){}function Fd(i,s,u,h){if(i.tag!==5)throw Error(r(476));var w=v0(i).queue;g0(i,w,s,me,u===null?k5:function(){return y0(i),u(h)})}function v0(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:me},next:null};var u={};return s.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:u},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function y0(i){var s=v0(i);s.next===null&&(s=i.alternate.memoizedState),_c(i,s.next.queue,{},ms())}function Bd(){return Di(Oc)}function b0(){return Kn().memoizedState}function _0(){return Kn().memoizedState}function D5(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var u=ms();i=It(u);var h=xn(s,i,u);h!==null&&(ts(h,s,u),Si(h,s,u)),s={cache:Za()},i.payload=s;return}s=s.return}}function P5(i,s,u){var h=ms();u={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},cf(i)?x0(s,u):(u=ja(i,s,u,h),u!==null&&(ts(u,i,h),S0(u,s,h)))}function w0(i,s,u){var h=ms();_c(i,s,u,h)}function _c(i,s,u,h){var w={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(cf(i))x0(s,w);else{var S=i.alternate;if(i.lanes===0&&(S===null||S.lanes===0)&&(S=s.lastRenderedReducer,S!==null))try{var O=s.lastRenderedState,ne=S(O,u);if(w.hasEagerState=!0,w.eagerState=ne,zi(ne,O))return Ys(i,s,w,0),Dn===null&&To(),!1}catch{}finally{}if(u=ja(i,s,w,h),u!==null)return ts(u,i,h),S0(u,s,h),!0}return!1}function zd(i,s,u,h){if(h={lane:2,revertLane:yh(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},cf(i)){if(s)throw Error(r(479))}else s=ja(i,u,h,2),s!==null&&ts(s,i,2)}function cf(i){var s=i.alternate;return i===Ut||s!==null&&s===Ut}function x0(i,s){fa=Ks=!0;var u=i.pending;u===null?s.next=s:(s.next=u.next,u.next=s),i.pending=s}function S0(i,s,u){if((u&4194048)!==0){var h=s.lanes;h&=i.pendingLanes,u|=h,s.lanes=u,hi(i,u)}}var wc={readContext:Di,use:$a,useCallback:Cn,useContext:Cn,useEffect:Cn,useImperativeHandle:Cn,useLayoutEffect:Cn,useInsertionEffect:Cn,useMemo:Cn,useReducer:Cn,useRef:Cn,useState:Cn,useDebugValue:Cn,useDeferredValue:Cn,useTransition:Cn,useSyncExternalStore:Cn,useId:Cn,useHostTransitionStatus:Cn,useFormState:Cn,useActionState:Cn,useOptimistic:Cn,useMemoCache:Cn,useCacheRefresh:Cn};wc.useEffectEvent=Cn;var A0={readContext:Di,use:$a,useCallback:function(i,s){return Ti().memoizedState=[i,s===void 0?null:s],i},useContext:Di,useEffect:a0,useImperativeHandle:function(i,s,u){u=u!=null?u.concat([i]):null,el(4194308,4,f0.bind(null,s,i),u)},useLayoutEffect:function(i,s){return el(4194308,4,i,s)},useInsertionEffect:function(i,s){el(4,2,i,s)},useMemo:function(i,s){var u=Ti();s=s===void 0?null:s;var h=i();if(Is){Bt(!0);try{i()}finally{Bt(!1)}}return u.memoizedState=[h,s],h},useReducer:function(i,s,u){var h=Ti();if(u!==void 0){var w=u(s);if(Is){Bt(!0);try{u(s)}finally{Bt(!1)}}}else w=s;return h.memoizedState=h.baseState=w,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:w},h.queue=i,i=i.dispatch=P5.bind(null,Ut,i),[h.memoizedState,i]},useRef:function(i){var s=Ti();return i={current:i},s.memoizedState=i},useState:function(i){i=Oo(i);var s=i.queue,u=w0.bind(null,Ut,s);return s.dispatch=u,[i.memoizedState,u]},useDebugValue:Ud,useDeferredValue:function(i,s){var u=Ti();return Od(u,i,s)},useTransition:function(){var i=Oo(!1);return i=g0.bind(null,Ut,i.queue,!0,!1),Ti().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,u){var h=Ut,w=Ti();if(Xt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=s(),Dn===null)throw Error(r(349));(rn&127)!==0||Zs(h,s,u)}w.memoizedState=u;var S={value:u,getSnapshot:s};return w.queue=S,a0(vc.bind(null,h,S,i),[i]),h.flags|=2048,pa(9,{destroy:void 0},gc.bind(null,h,S,u,s),null),u},useId:function(){var i=Ti(),s=Dn.identifierPrefix;if(Xt){var u=Wr,h=Jr;u=(h&~(1<<32-Lt(h)-1)).toString(32)+u,s="_"+s+"R_"+u,u=Hl++,0<u&&(s+="H"+u.toString(32)),s+="_"}else u=bu++,s="_"+s+"r_"+u.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:Bd,useFormState:Rs,useActionState:Rs,useOptimistic:function(i){var s=Ti();s.memoizedState=s.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=u,s=zd.bind(null,Ut,!0,u),u.dispatch=s,[i,s]},useMemoCache:da,useCacheRefresh:function(){return Ti().memoizedState=D5.bind(null,Ut)},useEffectEvent:function(i){var s=Ti(),u={impl:i};return s.memoizedState=u,function(){if((bn&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},qd={readContext:Di,use:$a,useCallback:h0,useContext:Di,useEffect:Pd,useImperativeHandle:d0,useInsertionEffect:u0,useLayoutEffect:c0,useMemo:p0,useReducer:xu,useRef:uf,useState:function(){return xu(Ms)},useDebugValue:Ud,useDeferredValue:function(i,s){var u=Kn();return m0(u,jt.memoizedState,i,s)},useTransition:function(){var i=xu(Ms)[0],s=Kn().memoizedState;return[typeof i=="boolean"?i:Uo(i),s]},useSyncExternalStore:Au,useId:b0,useHostTransitionStatus:Bd,useFormState:$s,useActionState:$s,useOptimistic:function(i,s){var u=Kn();return sf(u,jt,i,s)},useMemoCache:da,useCacheRefresh:_0};qd.useEffectEvent=l0;var E0={readContext:Di,use:$a,useCallback:h0,useContext:Di,useEffect:Pd,useImperativeHandle:d0,useInsertionEffect:u0,useLayoutEffect:c0,useMemo:p0,useReducer:Su,useRef:uf,useState:function(){return Su(Ms)},useDebugValue:Ud,useDeferredValue:function(i,s){var u=Kn();return jt===null?Od(u,i,s):m0(u,jt.memoizedState,i,s)},useTransition:function(){var i=Su(Ms)[0],s=Kn().memoizedState;return[typeof i=="boolean"?i:Uo(i),s]},useSyncExternalStore:Au,useId:b0,useHostTransitionStatus:Bd,useFormState:Nu,useActionState:Nu,useOptimistic:function(i,s){var u=Kn();return jt!==null?sf(u,jt,i,s):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:da,useCacheRefresh:_0};E0.useEffectEvent=l0;function Gd(i,s,u,h){s=i.memoizedState,u=u(h,s),u=u==null?s:v({},s,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Hd={enqueueSetState:function(i,s,u){i=i._reactInternals;var h=ms(),w=It(h);w.payload=s,u!=null&&(w.callback=u),s=xn(i,w,h),s!==null&&(ts(s,i,h),Si(s,i,h))},enqueueReplaceState:function(i,s,u){i=i._reactInternals;var h=ms(),w=It(h);w.tag=1,w.payload=s,u!=null&&(w.callback=u),s=xn(i,w,h),s!==null&&(ts(s,i,h),Si(s,i,h))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var u=ms(),h=It(u);h.tag=2,s!=null&&(h.callback=s),s=xn(i,h,u),s!==null&&(ts(s,i,u),Si(s,i,u))}};function T0(i,s,u,h,w,S,O){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,S,O):s.prototype&&s.prototype.isPureReactComponent?!Gr(u,h)||!Gr(w,S):!0}function N0(i,s,u,h){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,h),s.state!==i&&Hd.enqueueReplaceState(s,s.state,null)}function Yl(i,s){var u=s;if("ref"in s){u={};for(var h in s)h!=="ref"&&(u[h]=s[h])}if(i=i.defaultProps){u===s&&(u=v({},u));for(var w in i)u[w]===void 0&&(u[w]=i[w])}return u}function C0(i){vn(i)}function L0(i){console.error(i)}function I0(i){vn(i)}function ff(i,s){try{var u=i.onUncaughtError;u(s.value,{componentStack:s.stack})}catch(h){setTimeout(function(){throw h})}}function M0(i,s,u){try{var h=i.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function Vd(i,s,u){return u=It(u),u.tag=3,u.payload={element:null},u.callback=function(){ff(i,s)},u}function R0(i){return i=It(i),i.tag=3,i}function k0(i,s,u,h){var w=u.type.getDerivedStateFromError;if(typeof w=="function"){var S=h.value;i.payload=function(){return w(S)},i.callback=function(){M0(s,u,h)}}var O=u.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(i.callback=function(){M0(s,u,h),typeof w!="function"&&(sl===null?sl=new Set([this]):sl.add(this));var ne=h.stack;this.componentDidCatch(h.value,{componentStack:ne!==null?ne:""})})}function U5(i,s,u,h,w){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(s=u.alternate,s!==null&&Ro(s,u,w,!0),u=ei.current,u!==null){switch(u.tag){case 31:case 13:return Ei===null?Sf():u.alternate===null&&ii===0&&(ii=3),u.flags&=-257,u.flags|=65536,u.lanes=w,h===Me?u.flags|=16384:(s=u.updateQueue,s===null?u.updateQueue=new Set([h]):s.add(h),mh(i,h,w)),!1;case 22:return u.flags|=65536,h===Me?u.flags|=16384:(s=u.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=s):(u=s.retryQueue,u===null?s.retryQueue=new Set([h]):u.add(h)),mh(i,h,w)),!1}throw Error(r(435,u.tag))}return mh(i,h,w),Sf(),!1}if(Xt)return s=ei.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=w,h!==ds&&(i=Error(r(422),{cause:h}),Ka(Vr(i,u)))):(h!==ds&&(s=Error(r(423),{cause:h}),Ka(Vr(s,u))),i=i.current.alternate,i.flags|=65536,w&=-w,i.lanes|=w,h=Vr(h,u),w=Vd(i.stateNode,h,w),Yn(i,w),ii!==4&&(ii=2)),!1;var S=Error(r(520),{cause:h});if(S=Vr(S,u),Lc===null?Lc=[S]:Lc.push(S),ii!==4&&(ii=2),s===null)return!0;h=Vr(h,u),u=s;do{switch(u.tag){case 3:return u.flags|=65536,i=w&-w,u.lanes|=i,i=Vd(u.stateNode,h,i),Yn(u,i),!1;case 1:if(s=u.type,S=u.stateNode,(u.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(sl===null||!sl.has(S))))return u.flags|=65536,w&=-w,u.lanes|=w,w=R0(w),k0(w,i,u,h),Yn(u,w),!1}u=u.return}while(u!==null);return!1}var jd=Error(r(461)),Ni=!1;function Qi(i,s,u,h){s.child=i===null?nn(s,null,u,h):Zt(s,i.child,u,h)}function D0(i,s,u,h,w){u=u.render;var S=s.ref;if("ref"in h){var O={};for(var ne in h)ne!=="ref"&&(O[ne]=h[ne])}else O=h;return ko(s),h=hc(i,s,u,O,S,w),ne=pc(),i!==null&&!Ni?(mc(i,s,w),ma(i,s,w)):(Xt&&ne&&uc(s),s.flags|=1,Qi(i,s,h,w),s.child)}function P0(i,s,u,h,w){if(i===null){var S=u.type;return typeof S=="function"&&!cu(S)&&S.defaultProps===void 0&&u.compare===null?(s.tag=15,s.type=S,U0(i,s,S,h,w)):(i=Ya(u.type,null,h,s,s.mode,w),i.ref=s.ref,i.return=s,s.child=i)}if(S=i.child,!Qd(i,w)){var O=S.memoizedProps;if(u=u.compare,u=u!==null?u:Gr,u(O,h)&&i.ref===s.ref)return ma(i,s,w)}return s.flags|=1,i=Hr(S,h),i.ref=s.ref,i.return=s,s.child=i}function U0(i,s,u,h,w){if(i!==null){var S=i.memoizedProps;if(Gr(S,h)&&i.ref===s.ref)if(Ni=!1,s.pendingProps=h=S,Qd(i,w))(i.flags&131072)!==0&&(Ni=!0);else return s.lanes=i.lanes,ma(i,s,w)}return Yd(i,s,u,h,w)}function O0(i,s,u,h){var w=h.children,S=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((s.flags&128)!==0){if(S=S!==null?S.baseLanes|u:u,i!==null){for(h=s.child=i.child,w=0;h!==null;)w=w|h.lanes|h.childLanes,h=h.sibling;h=w&~S}else h=0,s.child=null;return F0(i,s,S,u,h)}if((u&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&re(s,S!==null?S.cachePool:null),S!==null?Ar(s,S):Xr(),qn(s);else return h=s.lanes=536870912,F0(i,s,S!==null?S.baseLanes|u:u,u,h)}else S!==null?(re(s,S.cachePool),Ar(s,S),Ls(),s.memoizedState=null):(i!==null&&re(s,null),Xr(),Ls());return Qi(i,s,w,u),s.child}function xc(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function F0(i,s,u,h,w){var S=te();return S=S===null?null:{parent:Qn._currentValue,pool:S},s.memoizedState={baseLanes:u,cachePool:S},i!==null&&re(s,null),Xr(),qn(s),i!==null&&Ro(i,s,h,!0),s.childLanes=w,null}function df(i,s){return s=pf({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function B0(i,s,u){return Zt(s,i.child,null,u),i=df(s,s.pendingProps),i.flags|=2,ur(s),s.memoizedState=null,i}function O5(i,s,u){var h=s.pendingProps,w=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(Xt){if(h.mode==="hidden")return i=df(s,h),s.lanes=536870912,xc(null,i);if(Cs(s),(i=Rn)?(i=Zm(i,jn),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Co!==null?{id:Jr,overflow:Wr}:null,retryLane:536870912,hydrationErrors:null},u=fu(i),u.return=s,s.child=u,Ri=s,Rn=null)):i=null,i===null)throw Lo(s);return s.lanes=536870912,null}return df(s,h)}var S=i.memoizedState;if(S!==null){var O=S.dehydrated;if(Cs(s),w)if(s.flags&256)s.flags&=-257,s=B0(i,s,u);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(Ni||Ro(i,s,u,!1),w=(u&i.childLanes)!==0,Ni||w){if(h=Dn,h!==null&&(O=pi(h,u),O!==0&&O!==S.retryLane))throw S.retryLane=O,Js(i,O),ts(h,i,O),jd;Sf(),s=B0(i,s,u)}else i=S.treeContext,Rn=ks(O.nextSibling),Ri=s,Xt=!0,$i=null,jn=!1,i!==null&&tf(s,i),s=df(s,h),s.flags|=4096;return s}return i=Hr(i.child,{mode:h.mode,children:h.children}),i.ref=s.ref,s.child=i,i.return=s,i}function hf(i,s){var u=s.ref;if(u===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(s.flags|=4194816)}}function Yd(i,s,u,h,w){return ko(s),u=hc(i,s,u,h,void 0,w),h=pc(),i!==null&&!Ni?(mc(i,s,w),ma(i,s,w)):(Xt&&h&&uc(s),s.flags|=1,Qi(i,s,u,w),s.child)}function z0(i,s,u,h,w,S){return ko(s),s.updateQueue=null,u=Xs(s,h,u,w),_u(i),h=pc(),i!==null&&!Ni?(mc(i,s,S),ma(i,s,S)):(Xt&&h&&uc(s),s.flags|=1,Qi(i,s,u,S),s.child)}function q0(i,s,u,h,w){if(ko(s),s.stateNode===null){var S=Mi,O=u.contextType;typeof O=="object"&&O!==null&&(S=Di(O)),S=new u(h,S),s.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=Hd,s.stateNode=S,S._reactInternals=s,S=s.stateNode,S.props=h,S.state=s.memoizedState,S.refs={},yn(s),O=u.contextType,S.context=typeof O=="object"&&O!==null?Di(O):Mi,S.state=s.memoizedState,O=u.getDerivedStateFromProps,typeof O=="function"&&(Gd(s,u,O,h),S.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(O=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),O!==S.state&&Hd.enqueueReplaceState(S,S.state,null),Pi(s,h,S,w),on(),S.state=s.memoizedState),typeof S.componentDidMount=="function"&&(s.flags|=4194308),h=!0}else if(i===null){S=s.stateNode;var ne=s.memoizedProps,_e=Yl(u,ne);S.props=_e;var Fe=S.context,Je=u.contextType;O=Mi,typeof Je=="object"&&Je!==null&&(O=Di(Je));var tt=u.getDerivedStateFromProps;Je=typeof tt=="function"||typeof S.getSnapshotBeforeUpdate=="function",ne=s.pendingProps!==ne,Je||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(ne||Fe!==O)&&N0(s,S,h,O),Ot=!1;var Be=s.memoizedState;S.state=Be,Pi(s,h,S,w),on(),Fe=s.memoizedState,ne||Be!==Fe||Ot?(typeof tt=="function"&&(Gd(s,u,tt,h),Fe=s.memoizedState),(_e=Ot||T0(s,u,_e,h,Be,Fe,O))?(Je||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(s.flags|=4194308)):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=Fe),S.props=h,S.state=Fe,S.context=O,h=_e):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{S=s.stateNode,fn(i,s),O=s.memoizedProps,Je=Yl(u,O),S.props=Je,tt=s.pendingProps,Be=S.context,Fe=u.contextType,_e=Mi,typeof Fe=="object"&&Fe!==null&&(_e=Di(Fe)),ne=u.getDerivedStateFromProps,(Fe=typeof ne=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(O!==tt||Be!==_e)&&N0(s,S,h,_e),Ot=!1,Be=s.memoizedState,S.state=Be,Pi(s,h,S,w),on();var qe=s.memoizedState;O!==tt||Be!==qe||Ot||i!==null&&i.dependencies!==null&&gu(i.dependencies)?(typeof ne=="function"&&(Gd(s,u,ne,h),qe=s.memoizedState),(Je=Ot||T0(s,u,Je,h,Be,qe,_e)||i!==null&&i.dependencies!==null&&gu(i.dependencies))?(Fe||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(h,qe,_e),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(h,qe,_e)),typeof S.componentDidUpdate=="function"&&(s.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof S.componentDidUpdate!="function"||O===i.memoizedProps&&Be===i.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&Be===i.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=qe),S.props=h,S.state=qe,S.context=_e,h=Je):(typeof S.componentDidUpdate!="function"||O===i.memoizedProps&&Be===i.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&Be===i.memoizedState||(s.flags|=1024),h=!1)}return S=h,hf(i,s),h=(s.flags&128)!==0,S||h?(S=s.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:S.render(),s.flags|=1,i!==null&&h?(s.child=Zt(s,i.child,null,w),s.child=Zt(s,null,u,w)):Qi(i,s,u,w),s.memoizedState=S.state,i=s.child):i=ma(i,s,w),i}function G0(i,s,u,h){return la(),s.flags|=256,Qi(i,s,u,h),s.child}var Jd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wd(i){return{baseLanes:i,cachePool:fe()}}function Kd(i,s,u){return i=i!==null?i.childLanes&~u:0,s&&(i|=ps),i}function H0(i,s,u){var h=s.pendingProps,w=!1,S=(s.flags&128)!==0,O;if((O=S)||(O=i!==null&&i.memoizedState===null?!1:(Wn.current&2)!==0),O&&(w=!0,s.flags&=-129),O=(s.flags&32)!==0,s.flags&=-33,i===null){if(Xt){if(w?Er(s):Ls(),(i=Rn)?(i=Zm(i,jn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Co!==null?{id:Jr,overflow:Wr}:null,retryLane:536870912,hydrationErrors:null},u=fu(i),u.return=s,s.child=u,Ri=s,Rn=null)):i=null,i===null)throw Lo(s);return Mh(i)?s.lanes=32:s.lanes=536870912,null}var ne=h.children;return h=h.fallback,w?(Ls(),w=s.mode,ne=pf({mode:"hidden",children:ne},w),h=No(h,w,u,null),ne.return=s,h.return=s,ne.sibling=h,s.child=ne,h=s.child,h.memoizedState=Wd(u),h.childLanes=Kd(i,O,u),s.memoizedState=Jd,xc(null,h)):(Er(s),Xd(s,ne))}var _e=i.memoizedState;if(_e!==null&&(ne=_e.dehydrated,ne!==null)){if(S)s.flags&256?(Er(s),s.flags&=-257,s=Zd(i,s,u)):s.memoizedState!==null?(Ls(),s.child=i.child,s.flags|=128,s=null):(Ls(),ne=h.fallback,w=s.mode,h=pf({mode:"visible",children:h.children},w),ne=No(ne,w,u,null),ne.flags|=2,h.return=s,ne.return=s,h.sibling=ne,s.child=h,Zt(s,i.child,null,u),h=s.child,h.memoizedState=Wd(u),h.childLanes=Kd(i,O,u),s.memoizedState=Jd,s=xc(null,h));else if(Er(s),Mh(ne)){if(O=ne.nextSibling&&ne.nextSibling.dataset,O)var Fe=O.dgst;O=Fe,h=Error(r(419)),h.stack="",h.digest=O,Ka({value:h,source:null,stack:null}),s=Zd(i,s,u)}else if(Ni||Ro(i,s,u,!1),O=(u&i.childLanes)!==0,Ni||O){if(O=Dn,O!==null&&(h=pi(O,u),h!==0&&h!==_e.retryLane))throw _e.retryLane=h,Js(i,h),ts(O,i,h),jd;Ih(ne)||Sf(),s=Zd(i,s,u)}else Ih(ne)?(s.flags|=192,s.child=i.child,s=null):(i=_e.treeContext,Rn=ks(ne.nextSibling),Ri=s,Xt=!0,$i=null,jn=!1,i!==null&&tf(s,i),s=Xd(s,h.children),s.flags|=4096);return s}return w?(Ls(),ne=h.fallback,w=s.mode,_e=i.child,Fe=_e.sibling,h=Hr(_e,{mode:"hidden",children:h.children}),h.subtreeFlags=_e.subtreeFlags&65011712,Fe!==null?ne=Hr(Fe,ne):(ne=No(ne,w,u,null),ne.flags|=2),ne.return=s,h.return=s,h.sibling=ne,s.child=h,xc(null,h),h=s.child,ne=i.child.memoizedState,ne===null?ne=Wd(u):(w=ne.cachePool,w!==null?(_e=Qn._currentValue,w=w.parent!==_e?{parent:_e,pool:_e}:w):w=fe(),ne={baseLanes:ne.baseLanes|u,cachePool:w}),h.memoizedState=ne,h.childLanes=Kd(i,O,u),s.memoizedState=Jd,xc(i.child,h)):(Er(s),u=i.child,i=u.sibling,u=Hr(u,{mode:"visible",children:h.children}),u.return=s,u.sibling=null,i!==null&&(O=s.deletions,O===null?(s.deletions=[i],s.flags|=16):O.push(i)),s.child=u,s.memoizedState=null,u)}function Xd(i,s){return s=pf({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function pf(i,s){return i=Vi(22,i,null,s),i.lanes=0,i}function Zd(i,s,u){return Zt(s,i.child,null,u),i=Xd(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function V0(i,s,u){i.lanes|=s;var h=i.alternate;h!==null&&(h.lanes|=s),Xa(i.return,s,u)}function $d(i,s,u,h,w,S){var O=i.memoizedState;O===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:w,treeForkCount:S}:(O.isBackwards=s,O.rendering=null,O.renderingStartTime=0,O.last=h,O.tail=u,O.tailMode=w,O.treeForkCount=S)}function j0(i,s,u){var h=s.pendingProps,w=h.revealOrder,S=h.tail;h=h.children;var O=Wn.current,ne=(O&2)!==0;if(ne?(O=O&1|2,s.flags|=128):O&=1,G(Wn,O),Qi(i,s,h,u),h=Xt?zl:0,!ne&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&V0(i,u,s);else if(i.tag===19)V0(i,u,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(w){case"forwards":for(u=s.child,w=null;u!==null;)i=u.alternate,i!==null&&ca(i)===null&&(w=u),u=u.sibling;u=w,u===null?(w=s.child,s.child=null):(w=u.sibling,u.sibling=null),$d(s,!1,w,u,S,h);break;case"backwards":case"unstable_legacy-backwards":for(u=null,w=s.child,s.child=null;w!==null;){if(i=w.alternate,i!==null&&ca(i)===null){s.child=w;break}i=w.sibling,w.sibling=u,u=w,w=i}$d(s,!0,u,null,S,h);break;case"together":$d(s,!1,null,null,void 0,h);break;default:s.memoizedState=null}return s.child}function ma(i,s,u){if(i!==null&&(s.dependencies=i.dependencies),rl|=s.lanes,(u&s.childLanes)===0)if(i!==null){if(Ro(i,s,u,!1),(u&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,u=Hr(i,i.pendingProps),s.child=u,u.return=s;i.sibling!==null;)i=i.sibling,u=u.sibling=Hr(i,i.pendingProps),u.return=s;u.sibling=null}return s.child}function Qd(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&gu(i)))}function F5(i,s,u){switch(s.tag){case 3:we(s,s.stateNode.containerInfo),Mo(s,Qn,i.memoizedState.cache),la();break;case 27:case 5:We(s);break;case 4:we(s,s.stateNode.containerInfo);break;case 10:Mo(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Cs(s),null;break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(Er(s),s.flags|=128,null):(u&s.child.childLanes)!==0?H0(i,s,u):(Er(s),i=ma(i,s,u),i!==null?i.sibling:null);Er(s);break;case 19:var w=(i.flags&128)!==0;if(h=(u&s.childLanes)!==0,h||(Ro(i,s,u,!1),h=(u&s.childLanes)!==0),w){if(h)return j0(i,s,u);s.flags|=128}if(w=s.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),G(Wn,Wn.current),h)break;return null;case 22:return s.lanes=0,O0(i,s,u,s.pendingProps);case 24:Mo(s,Qn,i.memoizedState.cache)}return ma(i,s,u)}function Y0(i,s,u){if(i!==null)if(i.memoizedProps!==s.pendingProps)Ni=!0;else{if(!Qd(i,u)&&(s.flags&128)===0)return Ni=!1,F5(i,s,u);Ni=(i.flags&131072)!==0}else Ni=!1,Xt&&(s.flags&1048576)!==0&&ef(s,zl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var h=s.pendingProps;if(i=Ee(s.elementType),s.type=i,typeof i=="function")cu(i)?(h=Yl(i,h),s.tag=1,s=q0(null,s,i,h,u)):(s.tag=0,s=Yd(null,s,i,h,u));else{if(i!=null){var w=i.$$typeof;if(w===z){s.tag=11,s=D0(null,s,i,h,u);break e}else if(w===H){s.tag=14,s=P0(null,s,i,h,u);break e}}throw s=I(i)||i,Error(r(306,s,""))}}return s;case 0:return Yd(i,s,s.type,s.pendingProps,u);case 1:return h=s.type,w=Yl(h,s.pendingProps),q0(i,s,h,w,u);case 3:e:{if(we(s,s.stateNode.containerInfo),i===null)throw Error(r(387));h=s.pendingProps;var S=s.memoizedState;w=S.element,fn(i,s),Pi(s,h,null,u);var O=s.memoizedState;if(h=O.cache,Mo(s,Qn,h),h!==S.cache&&ua(s,[Qn],u,!0),on(),h=O.element,S.isDehydrated)if(S={element:h,isDehydrated:!1,cache:O.cache},s.updateQueue.baseState=S,s.memoizedState=S,s.flags&256){s=G0(i,s,h,u);break e}else if(h!==w){w=Vr(Error(r(424)),s),Ka(w),s=G0(i,s,h,u);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Rn=ks(i.firstChild),Ri=s,Xt=!0,$i=null,jn=!0,u=nn(s,null,h,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(la(),h===w){s=ma(i,s,u);break e}Qi(i,s,h,u)}s=s.child}return s;case 26:return hf(i,s),i===null?(u=ig(s.type,null,s.pendingProps,null))?s.memoizedState=u:Xt||(u=s.type,i=s.pendingProps,h=If(ve.current).createElement(u),h[gn]=s,h[Tn]=i,er(h,u,i),Vn(h),s.stateNode=h):s.memoizedState=ig(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return We(s),i===null&&Xt&&(h=s.stateNode=eg(s.type,s.pendingProps,ve.current),Ri=s,jn=!0,w=Rn,ul(s.type)?(Rh=w,Rn=ks(h.firstChild)):Rn=w),Qi(i,s,s.pendingProps.children,u),hf(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Xt&&((w=h=Rn)&&(h=py(h,s.type,s.pendingProps,jn),h!==null?(s.stateNode=h,Ri=s,Rn=ks(h.firstChild),jn=!1,w=!0):w=!1),w||Lo(s)),We(s),w=s.type,S=s.pendingProps,O=i!==null?i.memoizedProps:null,h=S.children,Nh(w,S)?h=null:O!==null&&Nh(w,O)&&(s.flags|=32),s.memoizedState!==null&&(w=hc(i,s,Dd,null,null,u),Oc._currentValue=w),hf(i,s),Qi(i,s,h,u),s.child;case 6:return i===null&&Xt&&((i=u=Rn)&&(u=my(u,s.pendingProps,jn),u!==null?(s.stateNode=u,Ri=s,Rn=null,i=!0):i=!1),i||Lo(s)),null;case 13:return H0(i,s,u);case 4:return we(s,s.stateNode.containerInfo),h=s.pendingProps,i===null?s.child=Zt(s,null,h,u):Qi(i,s,h,u),s.child;case 11:return D0(i,s,s.type,s.pendingProps,u);case 7:return Qi(i,s,s.pendingProps,u),s.child;case 8:return Qi(i,s,s.pendingProps.children,u),s.child;case 12:return Qi(i,s,s.pendingProps.children,u),s.child;case 10:return h=s.pendingProps,Mo(s,s.type,h.value),Qi(i,s,h.children,u),s.child;case 9:return w=s.type._context,h=s.pendingProps.children,ko(s),w=Di(w),h=h(w),s.flags|=1,Qi(i,s,h,u),s.child;case 14:return P0(i,s,s.type,s.pendingProps,u);case 15:return U0(i,s,s.type,s.pendingProps,u);case 19:return j0(i,s,u);case 31:return O5(i,s,u);case 22:return O0(i,s,u,s.pendingProps);case 24:return ko(s),h=Di(Qn),i===null?(w=te(),w===null&&(w=Dn,S=Za(),w.pooledCache=S,S.refCount++,S!==null&&(w.pooledCacheLanes|=u),w=S),s.memoizedState={parent:h,cache:w},yn(s),Mo(s,Qn,w)):((i.lanes&u)!==0&&(fn(i,s),Pi(s,null,null,u),on()),w=i.memoizedState,S=s.memoizedState,w.parent!==h?(w={parent:h,cache:h},s.memoizedState=w,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=w),Mo(s,Qn,h)):(h=S.cache,Mo(s,Qn,h),h!==w.cache&&ua(s,[Qn],u,!0))),Qi(i,s,s.pendingProps.children,u),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ga(i){i.flags|=4}function eh(i,s,u,h,w){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(w&335544128)===w)if(i.stateNode.complete)i.flags|=8192;else if(bm())i.flags|=8192;else throw Ie=Me,Ue}else i.flags&=-16777217}function J0(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!lg(s))if(bm())i.flags|=8192;else throw Ie=Me,Ue}function mf(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Zn():536870912,i.lanes|=s,Mu|=s)}function Sc(i,s){if(!Xt)switch(i.tailMode){case"hidden":s=i.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Gn(i){var s=i.alternate!==null&&i.alternate.child===i.child,u=0,h=0;if(s)for(var w=i.child;w!==null;)u|=w.lanes|w.childLanes,h|=w.subtreeFlags&65011712,h|=w.flags&65011712,w.return=i,w=w.sibling;else for(w=i.child;w!==null;)u|=w.lanes|w.childLanes,h|=w.subtreeFlags,h|=w.flags,w.return=i,w=w.sibling;return i.subtreeFlags|=h,i.childLanes=u,s}function B5(i,s,u){var h=s.pendingProps;switch(pu(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gn(s),null;case 1:return Gn(s),null;case 3:return u=s.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),Kr(Qn),Se(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(ki(s)?ga(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,fc())),Gn(s),null;case 26:var w=s.type,S=s.memoizedState;return i===null?(ga(s),S!==null?(Gn(s),J0(s,S)):(Gn(s),eh(s,w,null,h,u))):S?S!==i.memoizedState?(ga(s),Gn(s),J0(s,S)):(Gn(s),s.flags&=-16777217):(i=i.memoizedProps,i!==h&&ga(s),Gn(s),eh(s,w,i,h,u)),null;case 27:if(Ye(s),u=ve.current,w=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==h&&ga(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return Gn(s),null}i=K.current,ki(s)?cc(s):(i=eg(w,h,u),s.stateNode=i,ga(s))}return Gn(s),null;case 5:if(Ye(s),w=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==h&&ga(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return Gn(s),null}if(S=K.current,ki(s))cc(s);else{var O=If(ve.current);switch(S){case 1:S=O.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:S=O.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":S=O.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":S=O.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":S=O.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof h.is=="string"?O.createElement("select",{is:h.is}):O.createElement("select"),h.multiple?S.multiple=!0:h.size&&(S.size=h.size);break;default:S=typeof h.is=="string"?O.createElement(w,{is:h.is}):O.createElement(w)}}S[gn]=s,S[Tn]=h;e:for(O=s.child;O!==null;){if(O.tag===5||O.tag===6)S.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===s)break e;for(;O.sibling===null;){if(O.return===null||O.return===s)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}s.stateNode=S;e:switch(er(S,w,h),w){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&ga(s)}}return Gn(s),eh(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,u),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==h&&ga(s);else{if(typeof h!="string"&&s.stateNode===null)throw Error(r(166));if(i=ve.current,ki(s)){if(i=s.stateNode,u=s.memoizedProps,h=null,w=Ri,w!==null)switch(w.tag){case 27:case 5:h=w.memoizedProps}i[gn]=s,i=!!(i.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||Hm(i.nodeValue,u)),i||Lo(s,!0)}else i=If(i).createTextNode(h),i[gn]=s,s.stateNode=i}return Gn(s),null;case 31:if(u=s.memoizedState,i===null||i.memoizedState!==null){if(h=ki(s),u!==null){if(i===null){if(!h)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[gn]=s}else la(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Gn(s),i=!1}else u=fc(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=u),i=!0;if(!i)return s.flags&256?(ur(s),s):(ur(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Gn(s),null;case 13:if(h=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(w=ki(s),h!==null&&h.dehydrated!==null){if(i===null){if(!w)throw Error(r(318));if(w=s.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[gn]=s}else la(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Gn(s),w=!1}else w=fc(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=w),w=!0;if(!w)return s.flags&256?(ur(s),s):(ur(s),null)}return ur(s),(s.flags&128)!==0?(s.lanes=u,s):(u=h!==null,i=i!==null&&i.memoizedState!==null,u&&(h=s.child,w=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(w=h.alternate.memoizedState.cachePool.pool),S=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(S=h.memoizedState.cachePool.pool),S!==w&&(h.flags|=2048)),u!==i&&u&&(s.child.flags|=8192),mf(s,s.updateQueue),Gn(s),null);case 4:return Se(),i===null&&xh(s.stateNode.containerInfo),Gn(s),null;case 10:return Kr(s.type),Gn(s),null;case 19:if(R(Wn),h=s.memoizedState,h===null)return Gn(s),null;if(w=(s.flags&128)!==0,S=h.rendering,S===null)if(w)Sc(h,!1);else{if(ii!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(S=ca(i),S!==null){for(s.flags|=128,Sc(h,!1),i=S.updateQueue,s.updateQueue=i,mf(s,i),s.subtreeFlags=0,i=u,u=s.child;u!==null;)Fl(u,i),u=u.sibling;return G(Wn,Wn.current&1|2),Xt&&Sr(s,h.treeForkCount),s.child}i=i.sibling}h.tail!==null&&He()>_f&&(s.flags|=128,w=!0,Sc(h,!1),s.lanes=4194304)}else{if(!w)if(i=ca(S),i!==null){if(s.flags|=128,w=!0,i=i.updateQueue,s.updateQueue=i,mf(s,i),Sc(h,!0),h.tail===null&&h.tailMode==="hidden"&&!S.alternate&&!Xt)return Gn(s),null}else 2*He()-h.renderingStartTime>_f&&u!==536870912&&(s.flags|=128,w=!0,Sc(h,!1),s.lanes=4194304);h.isBackwards?(S.sibling=s.child,s.child=S):(i=h.last,i!==null?i.sibling=S:s.child=S,h.last=S)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=He(),i.sibling=null,u=Wn.current,G(Wn,w?u&1|2:u&1),Xt&&Sr(s,h.treeForkCount),i):(Gn(s),null);case 22:case 23:return ur(s),ni(),h=s.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(s.flags|=8192):h&&(s.flags|=8192),h?(u&536870912)!==0&&(s.flags&128)===0&&(Gn(s),s.subtreeFlags&6&&(s.flags|=8192)):Gn(s),u=s.updateQueue,u!==null&&mf(s,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==u&&(s.flags|=2048),i!==null&&R(ee),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Kr(Qn),Gn(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function z5(i,s){switch(pu(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Kr(Qn),Se(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Ye(s),null;case 31:if(s.memoizedState!==null){if(ur(s),s.alternate===null)throw Error(r(340));la()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(ur(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));la()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return R(Wn),null;case 4:return Se(),null;case 10:return Kr(s.type),null;case 22:case 23:return ur(s),ni(),i!==null&&R(ee),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Kr(Qn),null;case 25:return null;default:return null}}function W0(i,s){switch(pu(s),s.tag){case 3:Kr(Qn),Se();break;case 26:case 27:case 5:Ye(s);break;case 4:Se();break;case 31:s.memoizedState!==null&&ur(s);break;case 13:ur(s);break;case 19:R(Wn);break;case 10:Kr(s.type);break;case 22:case 23:ur(s),ni(),i!==null&&R(ee);break;case 24:Kr(Qn)}}function Ac(i,s){try{var u=s.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var w=h.next;u=w;do{if((u.tag&i)===i){h=void 0;var S=u.create,O=u.inst;h=S(),O.destroy=h}u=u.next}while(u!==w)}}catch(ne){An(s,s.return,ne)}}function nl(i,s,u){try{var h=s.updateQueue,w=h!==null?h.lastEffect:null;if(w!==null){var S=w.next;h=S;do{if((h.tag&i)===i){var O=h.inst,ne=O.destroy;if(ne!==void 0){O.destroy=void 0,w=s;var _e=u,Fe=ne;try{Fe()}catch(Je){An(w,_e,Je)}}}h=h.next}while(h!==S)}}catch(Je){An(s,s.return,Je)}}function K0(i){var s=i.updateQueue;if(s!==null){var u=i.stateNode;try{li(s,u)}catch(h){An(i,i.return,h)}}}function X0(i,s,u){u.props=Yl(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(h){An(i,s,h)}}function Ec(i,s){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof u=="function"?i.refCleanup=u(h):u.current=h}}catch(w){An(i,s,w)}}function Fo(i,s){var u=i.ref,h=i.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(w){An(i,s,w)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(w){An(i,s,w)}else u.current=null}function Z0(i){var s=i.type,u=i.memoizedProps,h=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(w){An(i,i.return,w)}}function th(i,s,u){try{var h=i.stateNode;ly(h,i.type,u,s),h[Tn]=s}catch(w){An(i,i.return,w)}}function $0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ul(i.type)||i.tag===4}function nh(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||$0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ul(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ih(i,s,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,s):(s=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,s.appendChild(i),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=Kt));else if(h!==4&&(h===27&&ul(i.type)&&(u=i.stateNode,s=null),i=i.child,i!==null))for(ih(i,s,u),i=i.sibling;i!==null;)ih(i,s,u),i=i.sibling}function gf(i,s,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?u.insertBefore(i,s):u.appendChild(i);else if(h!==4&&(h===27&&ul(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(gf(i,s,u),i=i.sibling;i!==null;)gf(i,s,u),i=i.sibling}function Q0(i){var s=i.stateNode,u=i.memoizedProps;try{for(var h=i.type,w=s.attributes;w.length;)s.removeAttributeNode(w[0]);er(s,h,u),s[gn]=i,s[Tn]=u}catch(S){An(i,i.return,S)}}var va=!1,Ci=!1,rh=!1,em=typeof WeakSet=="function"?WeakSet:Set,Yi=null;function q5(i,s){if(i=i.containerInfo,Eh=Of,i=Hs(i),as(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var w=h.anchorOffset,S=h.focusNode;h=h.focusOffset;try{u.nodeType,S.nodeType}catch{u=null;break e}var O=0,ne=-1,_e=-1,Fe=0,Je=0,tt=i,Be=null;t:for(;;){for(var qe;tt!==u||w!==0&&tt.nodeType!==3||(ne=O+w),tt!==S||h!==0&&tt.nodeType!==3||(_e=O+h),tt.nodeType===3&&(O+=tt.nodeValue.length),(qe=tt.firstChild)!==null;)Be=tt,tt=qe;for(;;){if(tt===i)break t;if(Be===u&&++Fe===w&&(ne=O),Be===S&&++Je===h&&(_e=O),(qe=tt.nextSibling)!==null)break;tt=Be,Be=tt.parentNode}tt=qe}u=ne===-1||_e===-1?null:{start:ne,end:_e}}else u=null}u=u||{start:0,end:0}}else u=null;for(Th={focusedElem:i,selectionRange:u},Of=!1,Yi=s;Yi!==null;)if(s=Yi,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Yi=i;else for(;Yi!==null;){switch(s=Yi,S=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(u=0;u<i.length;u++)w=i[u],w.ref.impl=w.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&S!==null){i=void 0,u=s,w=S.memoizedProps,S=S.memoizedState,h=u.stateNode;try{var yt=Yl(u.type,w);i=h.getSnapshotBeforeUpdate(yt,S),h.__reactInternalSnapshotBeforeUpdate=i}catch(Mt){An(u,u.return,Mt)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,u=i.nodeType,u===9)Lh(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Lh(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Yi=i;break}Yi=s.return}}function tm(i,s,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:ba(i,u),h&4&&Ac(5,u);break;case 1:if(ba(i,u),h&4)if(i=u.stateNode,s===null)try{i.componentDidMount()}catch(O){An(u,u.return,O)}else{var w=Yl(u.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(w,s,i.__reactInternalSnapshotBeforeUpdate)}catch(O){An(u,u.return,O)}}h&64&&K0(u),h&512&&Ec(u,u.return);break;case 3:if(ba(i,u),h&64&&(i=u.updateQueue,i!==null)){if(s=null,u.child!==null)switch(u.child.tag){case 27:case 5:s=u.child.stateNode;break;case 1:s=u.child.stateNode}try{li(i,s)}catch(O){An(u,u.return,O)}}break;case 27:s===null&&h&4&&Q0(u);case 26:case 5:ba(i,u),s===null&&h&4&&Z0(u),h&512&&Ec(u,u.return);break;case 12:ba(i,u);break;case 31:ba(i,u),h&4&&rm(i,u);break;case 13:ba(i,u),h&4&&sm(i,u),h&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=X5.bind(null,u),gy(i,u))));break;case 22:if(h=u.memoizedState!==null||va,!h){s=s!==null&&s.memoizedState!==null||Ci,w=va;var S=Ci;va=h,(Ci=s)&&!S?_a(i,u,(u.subtreeFlags&8772)!==0):ba(i,u),va=w,Ci=S}break;case 30:break;default:ba(i,u)}}function nm(i){var s=i.alternate;s!==null&&(i.alternate=null,nm(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&bs(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Xn=null,Zr=!1;function ya(i,s,u){for(u=u.child;u!==null;)im(i,s,u),u=u.sibling}function im(i,s,u){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(_t,u)}catch{}switch(u.tag){case 26:Ci||Fo(u,s),ya(i,s,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Ci||Fo(u,s);var h=Xn,w=Zr;ul(u.type)&&(Xn=u.stateNode,Zr=!1),ya(i,s,u),Dc(u.stateNode),Xn=h,Zr=w;break;case 5:Ci||Fo(u,s);case 6:if(h=Xn,w=Zr,Xn=null,ya(i,s,u),Xn=h,Zr=w,Xn!==null)if(Zr)try{(Xn.nodeType===9?Xn.body:Xn.nodeName==="HTML"?Xn.ownerDocument.body:Xn).removeChild(u.stateNode)}catch(S){An(u,s,S)}else try{Xn.removeChild(u.stateNode)}catch(S){An(u,s,S)}break;case 18:Xn!==null&&(Zr?(i=Xn,Km(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),Bu(i)):Km(Xn,u.stateNode));break;case 4:h=Xn,w=Zr,Xn=u.stateNode.containerInfo,Zr=!0,ya(i,s,u),Xn=h,Zr=w;break;case 0:case 11:case 14:case 15:nl(2,u,s),Ci||nl(4,u,s),ya(i,s,u);break;case 1:Ci||(Fo(u,s),h=u.stateNode,typeof h.componentWillUnmount=="function"&&X0(u,s,h)),ya(i,s,u);break;case 21:ya(i,s,u);break;case 22:Ci=(h=Ci)||u.memoizedState!==null,ya(i,s,u),Ci=h;break;default:ya(i,s,u)}}function rm(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Bu(i)}catch(u){An(s,s.return,u)}}}function sm(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Bu(i)}catch(u){An(s,s.return,u)}}function G5(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new em),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new em),s;default:throw Error(r(435,i.tag))}}function vf(i,s){var u=G5(i);s.forEach(function(h){if(!u.has(h)){u.add(h);var w=Z5.bind(null,i,h);h.then(w,w)}})}function $r(i,s){var u=s.deletions;if(u!==null)for(var h=0;h<u.length;h++){var w=u[h],S=i,O=s,ne=O;e:for(;ne!==null;){switch(ne.tag){case 27:if(ul(ne.type)){Xn=ne.stateNode,Zr=!1;break e}break;case 5:Xn=ne.stateNode,Zr=!1;break e;case 3:case 4:Xn=ne.stateNode.containerInfo,Zr=!0;break e}ne=ne.return}if(Xn===null)throw Error(r(160));im(S,O,w),Xn=null,Zr=!1,S=w.alternate,S!==null&&(S.return=null),w.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)om(s,i),s=s.sibling}var eo=null;function om(i,s){var u=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:$r(s,i),Qr(i),h&4&&(nl(3,i,i.return),Ac(3,i),nl(5,i,i.return));break;case 1:$r(s,i),Qr(i),h&512&&(Ci||u===null||Fo(u,u.return)),h&64&&va&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var w=eo;if($r(s,i),Qr(i),h&512&&(Ci||u===null||Fo(u,u.return)),h&4){var S=u!==null?u.memoizedState:null;if(h=i.memoizedState,u===null)if(h===null)if(i.stateNode===null){e:{h=i.type,u=i.memoizedProps,w=w.ownerDocument||w;t:switch(h){case"title":S=w.getElementsByTagName("title")[0],(!S||S[Rr]||S[gn]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=w.createElement(h),w.head.insertBefore(S,w.querySelector("head > title"))),er(S,h,u),S[gn]=i,Vn(S),h=S;break e;case"link":var O=og("link","href",w).get(h+(u.href||""));if(O){for(var ne=0;ne<O.length;ne++)if(S=O[ne],S.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&S.getAttribute("rel")===(u.rel==null?null:u.rel)&&S.getAttribute("title")===(u.title==null?null:u.title)&&S.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){O.splice(ne,1);break t}}S=w.createElement(h),er(S,h,u),w.head.appendChild(S);break;case"meta":if(O=og("meta","content",w).get(h+(u.content||""))){for(ne=0;ne<O.length;ne++)if(S=O[ne],S.getAttribute("content")===(u.content==null?null:""+u.content)&&S.getAttribute("name")===(u.name==null?null:u.name)&&S.getAttribute("property")===(u.property==null?null:u.property)&&S.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&S.getAttribute("charset")===(u.charSet==null?null:u.charSet)){O.splice(ne,1);break t}}S=w.createElement(h),er(S,h,u),w.head.appendChild(S);break;default:throw Error(r(468,h))}S[gn]=i,Vn(S),h=S}i.stateNode=h}else ag(w,i.type,i.stateNode);else i.stateNode=sg(w,h,i.memoizedProps);else S!==h?(S===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):S.count--,h===null?ag(w,i.type,i.stateNode):sg(w,h,i.memoizedProps)):h===null&&i.stateNode!==null&&th(i,i.memoizedProps,u.memoizedProps)}break;case 27:$r(s,i),Qr(i),h&512&&(Ci||u===null||Fo(u,u.return)),u!==null&&h&4&&th(i,i.memoizedProps,u.memoizedProps);break;case 5:if($r(s,i),Qr(i),h&512&&(Ci||u===null||Fo(u,u.return)),i.flags&32){w=i.stateNode;try{Ur(w,"")}catch(yt){An(i,i.return,yt)}}h&4&&i.stateNode!=null&&(w=i.memoizedProps,th(i,w,u!==null?u.memoizedProps:w)),h&1024&&(rh=!0);break;case 6:if($r(s,i),Qr(i),h&4){if(i.stateNode===null)throw Error(r(162));h=i.memoizedProps,u=i.stateNode;try{u.nodeValue=h}catch(yt){An(i,i.return,yt)}}break;case 3:if(kf=null,w=eo,eo=Mf(s.containerInfo),$r(s,i),eo=w,Qr(i),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Bu(s.containerInfo)}catch(yt){An(i,i.return,yt)}rh&&(rh=!1,am(i));break;case 4:h=eo,eo=Mf(i.stateNode.containerInfo),$r(s,i),Qr(i),eo=h;break;case 12:$r(s,i),Qr(i);break;case 31:$r(s,i),Qr(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,vf(i,h)));break;case 13:$r(s,i),Qr(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(bf=He()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,vf(i,h)));break;case 22:w=i.memoizedState!==null;var _e=u!==null&&u.memoizedState!==null,Fe=va,Je=Ci;if(va=Fe||w,Ci=Je||_e,$r(s,i),Ci=Je,va=Fe,Qr(i),h&8192)e:for(s=i.stateNode,s._visibility=w?s._visibility&-2:s._visibility|1,w&&(u===null||_e||va||Ci||Jl(i)),u=null,s=i;;){if(s.tag===5||s.tag===26){if(u===null){_e=u=s;try{if(S=_e.stateNode,w)O=S.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{ne=_e.stateNode;var tt=_e.memoizedProps.style,Be=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;ne.style.display=Be==null||typeof Be=="boolean"?"":(""+Be).trim()}}catch(yt){An(_e,_e.return,yt)}}}else if(s.tag===6){if(u===null){_e=s;try{_e.stateNode.nodeValue=w?"":_e.memoizedProps}catch(yt){An(_e,_e.return,yt)}}}else if(s.tag===18){if(u===null){_e=s;try{var qe=_e.stateNode;w?Xm(qe,!0):Xm(_e.stateNode,!1)}catch(yt){An(_e,_e.return,yt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;u===s&&(u=null),s=s.return}u===s&&(u=null),s.sibling.return=s.return,s=s.sibling}h&4&&(h=i.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,vf(i,u))));break;case 19:$r(s,i),Qr(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,vf(i,h)));break;case 30:break;case 21:break;default:$r(s,i),Qr(i)}}function Qr(i){var s=i.flags;if(s&2){try{for(var u,h=i.return;h!==null;){if($0(h)){u=h;break}h=h.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var w=u.stateNode,S=nh(i);gf(i,S,w);break;case 5:var O=u.stateNode;u.flags&32&&(Ur(O,""),u.flags&=-33);var ne=nh(i);gf(i,ne,O);break;case 3:case 4:var _e=u.stateNode.containerInfo,Fe=nh(i);ih(i,Fe,_e);break;default:throw Error(r(161))}}catch(Je){An(i,i.return,Je)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function am(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;am(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function ba(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)tm(i,s.alternate,s),s=s.sibling}function Jl(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:nl(4,s,s.return),Jl(s);break;case 1:Fo(s,s.return);var u=s.stateNode;typeof u.componentWillUnmount=="function"&&X0(s,s.return,u),Jl(s);break;case 27:Dc(s.stateNode);case 26:case 5:Fo(s,s.return),Jl(s);break;case 22:s.memoizedState===null&&Jl(s);break;case 30:Jl(s);break;default:Jl(s)}i=i.sibling}}function _a(i,s,u){for(u=u&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var h=s.alternate,w=i,S=s,O=S.flags;switch(S.tag){case 0:case 11:case 15:_a(w,S,u),Ac(4,S);break;case 1:if(_a(w,S,u),h=S,w=h.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(Fe){An(h,h.return,Fe)}if(h=S,w=h.updateQueue,w!==null){var ne=h.stateNode;try{var _e=w.shared.hiddenCallbacks;if(_e!==null)for(w.shared.hiddenCallbacks=null,w=0;w<_e.length;w++)lr(_e[w],ne)}catch(Fe){An(h,h.return,Fe)}}u&&O&64&&K0(S),Ec(S,S.return);break;case 27:Q0(S);case 26:case 5:_a(w,S,u),u&&h===null&&O&4&&Z0(S),Ec(S,S.return);break;case 12:_a(w,S,u);break;case 31:_a(w,S,u),u&&O&4&&rm(w,S);break;case 13:_a(w,S,u),u&&O&4&&sm(w,S);break;case 22:S.memoizedState===null&&_a(w,S,u),Ec(S,S.return);break;case 30:break;default:_a(w,S,u)}s=s.sibling}}function sh(i,s){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&ql(u))}function oh(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&ql(i))}function to(i,s,u,h){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)lm(i,s,u,h),s=s.sibling}function lm(i,s,u,h){var w=s.flags;switch(s.tag){case 0:case 11:case 15:to(i,s,u,h),w&2048&&Ac(9,s);break;case 1:to(i,s,u,h);break;case 3:to(i,s,u,h),w&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&ql(i)));break;case 12:if(w&2048){to(i,s,u,h),i=s.stateNode;try{var S=s.memoizedProps,O=S.id,ne=S.onPostCommit;typeof ne=="function"&&ne(O,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(_e){An(s,s.return,_e)}}else to(i,s,u,h);break;case 31:to(i,s,u,h);break;case 13:to(i,s,u,h);break;case 23:break;case 22:S=s.stateNode,O=s.alternate,s.memoizedState!==null?S._visibility&2?to(i,s,u,h):Tc(i,s):S._visibility&2?to(i,s,u,h):(S._visibility|=2,Cu(i,s,u,h,(s.subtreeFlags&10256)!==0||!1)),w&2048&&sh(O,s);break;case 24:to(i,s,u,h),w&2048&&oh(s.alternate,s);break;default:to(i,s,u,h)}}function Cu(i,s,u,h,w){for(w=w&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var S=i,O=s,ne=u,_e=h,Fe=O.flags;switch(O.tag){case 0:case 11:case 15:Cu(S,O,ne,_e,w),Ac(8,O);break;case 23:break;case 22:var Je=O.stateNode;O.memoizedState!==null?Je._visibility&2?Cu(S,O,ne,_e,w):Tc(S,O):(Je._visibility|=2,Cu(S,O,ne,_e,w)),w&&Fe&2048&&sh(O.alternate,O);break;case 24:Cu(S,O,ne,_e,w),w&&Fe&2048&&oh(O.alternate,O);break;default:Cu(S,O,ne,_e,w)}s=s.sibling}}function Tc(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var u=i,h=s,w=h.flags;switch(h.tag){case 22:Tc(u,h),w&2048&&sh(h.alternate,h);break;case 24:Tc(u,h),w&2048&&oh(h.alternate,h);break;default:Tc(u,h)}s=s.sibling}}var Nc=8192;function Lu(i,s,u){if(i.subtreeFlags&Nc)for(i=i.child;i!==null;)um(i,s,u),i=i.sibling}function um(i,s,u){switch(i.tag){case 26:Lu(i,s,u),i.flags&Nc&&i.memoizedState!==null&&Cy(u,eo,i.memoizedState,i.memoizedProps);break;case 5:Lu(i,s,u);break;case 3:case 4:var h=eo;eo=Mf(i.stateNode.containerInfo),Lu(i,s,u),eo=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=Nc,Nc=16777216,Lu(i,s,u),Nc=h):Lu(i,s,u));break;default:Lu(i,s,u)}}function cm(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Cc(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var h=s[u];Yi=h,dm(h,i)}cm(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)fm(i),i=i.sibling}function fm(i){switch(i.tag){case 0:case 11:case 15:Cc(i),i.flags&2048&&nl(9,i,i.return);break;case 3:Cc(i);break;case 12:Cc(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,yf(i)):Cc(i);break;default:Cc(i)}}function yf(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var h=s[u];Yi=h,dm(h,i)}cm(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:nl(8,s,s.return),yf(s);break;case 22:u=s.stateNode,u._visibility&2&&(u._visibility&=-3,yf(s));break;default:yf(s)}i=i.sibling}}function dm(i,s){for(;Yi!==null;){var u=Yi;switch(u.tag){case 0:case 11:case 15:nl(8,u,s);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:ql(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,Yi=h;else e:for(u=i;Yi!==null;){h=Yi;var w=h.sibling,S=h.return;if(nm(h),h===u){Yi=null;break e}if(w!==null){w.return=S,Yi=w;break e}Yi=S}}}var H5={getCacheForType:function(i){var s=Di(Qn),u=s.data.get(i);return u===void 0&&(u=i(),s.data.set(i,u)),u},cacheSignal:function(){return Di(Qn).controller.signal}},V5=typeof WeakMap=="function"?WeakMap:Map,bn=0,Dn=null,$t=null,rn=0,Sn=0,hs=null,il=!1,Iu=!1,ah=!1,wa=0,ii=0,rl=0,Wl=0,lh=0,ps=0,Mu=0,Lc=null,es=null,uh=!1,bf=0,hm=0,_f=1/0,wf=null,sl=null,Ui=0,ol=null,Ru=null,xa=0,ch=0,fh=null,pm=null,Ic=0,dh=null;function ms(){return(bn&2)!==0&&rn!==0?rn&-rn:oe.T!==null?yh():mi()}function mm(){if(ps===0)if((rn&536870912)===0||Xt){var i=si;si<<=1,(si&3932160)===0&&(si=262144),ps=i}else ps=536870912;return i=ei.current,i!==null&&(i.flags|=32),ps}function ts(i,s,u){(i===Dn&&(Sn===2||Sn===9)||i.cancelPendingCommit!==null)&&(ku(i,0),al(i,rn,ps,!1)),Li(i,u),((bn&2)===0||i!==Dn)&&(i===Dn&&((bn&2)===0&&(Wl|=u),ii===4&&al(i,rn,ps,!1)),Bo(i))}function gm(i,s,u){if((bn&6)!==0)throw Error(r(327));var h=!u&&(s&127)===0&&(s&i.expiredLanes)===0||Yt(i,s),w=h?J5(i,s):ph(i,s,!0),S=h;do{if(w===0){Iu&&!h&&al(i,s,0,!1);break}else{if(u=i.current.alternate,S&&!j5(u)){w=ph(i,s,!1),S=!1;continue}if(w===2){if(S=s,i.errorRecoveryDisabledLanes&S)var O=0;else O=i.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){s=O;e:{var ne=i;w=Lc;var _e=ne.current.memoizedState.isDehydrated;if(_e&&(ku(ne,O).flags|=256),O=ph(ne,O,!1),O!==2){if(ah&&!_e){ne.errorRecoveryDisabledLanes|=S,Wl|=S,w=4;break e}S=es,es=w,S!==null&&(es===null?es=S:es.push.apply(es,S))}w=O}if(S=!1,w!==2)continue}}if(w===1){ku(i,0),al(i,s,0,!0);break}e:{switch(h=i,S=w,S){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:al(h,s,ps,!il);break e;case 2:es=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(w=bf+300-He(),10<w)){if(al(h,s,ps,!il),xt(h,0,!0)!==0)break e;xa=s,h.timeoutHandle=Jm(vm.bind(null,h,u,es,wf,uh,s,ps,Wl,Mu,il,S,"Throttled",-0,0),w);break e}vm(h,u,es,wf,uh,s,ps,Wl,Mu,il,S,null,-0,0)}}break}while(!0);Bo(i)}function vm(i,s,u,h,w,S,O,ne,_e,Fe,Je,tt,Be,qe){if(i.timeoutHandle=-1,tt=s.subtreeFlags,tt&8192||(tt&16785408)===16785408){tt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kt},um(s,S,tt);var yt=(S&62914560)===S?bf-He():(S&4194048)===S?hm-He():0;if(yt=Ly(tt,yt),yt!==null){xa=S,i.cancelPendingCommit=yt(Em.bind(null,i,s,S,u,h,w,O,ne,_e,Je,tt,null,Be,qe)),al(i,S,O,!Fe);return}}Em(i,s,S,u,h,w,O,ne,_e)}function j5(i){for(var s=i;;){var u=s.tag;if((u===0||u===11||u===15)&&s.flags&16384&&(u=s.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var w=u[h],S=w.getSnapshot;w=w.value;try{if(!zi(S(),w))return!1}catch{return!1}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function al(i,s,u,h){s&=~lh,s&=~Wl,i.suspendedLanes|=s,i.pingedLanes&=~s,h&&(i.warmLanes|=s),h=i.expirationTimes;for(var w=s;0<w;){var S=31-Lt(w),O=1<<S;h[S]=-1,w&=~O}u!==0&&Ki(i,u,s)}function xf(){return(bn&6)===0?(Mc(0),!1):!0}function hh(){if($t!==null){if(Sn===0)var i=$t.return;else i=$t,Ns=Io=null,wu(i),Ke=null,dt=0,i=$t;for(;i!==null;)W0(i.alternate,i),i=i.return;$t=null}}function ku(i,s){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,fy(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),xa=0,hh(),Dn=i,$t=u=Hr(i.current,null),rn=s,Sn=0,hs=null,il=!1,Iu=Yt(i,s),ah=!1,Mu=ps=lh=Wl=rl=ii=0,es=Lc=null,uh=!1,(s&8)!==0&&(s|=s&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=s;0<h;){var w=31-Lt(h),S=1<<w;s|=i[w],h&=~S}return wa=s,To(),u}function ym(i,s){Ut=null,oe.H=wc,s===Ae||s===Pe?(s=$e(),Sn=3):s===Ue?(s=$e(),Sn=4):Sn=s===jd?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,hs=s,$t===null&&(ii=1,ff(i,Vr(s,i.current)))}function bm(){var i=ei.current;return i===null?!0:(rn&4194048)===rn?Ei===null:(rn&62914560)===rn||(rn&536870912)!==0?i===Ei:!1}function _m(){var i=oe.H;return oe.H=wc,i===null?wc:i}function wm(){var i=oe.A;return oe.A=H5,i}function Sf(){ii=4,il||(rn&4194048)!==rn&&ei.current!==null||(Iu=!0),(rl&134217727)===0&&(Wl&134217727)===0||Dn===null||al(Dn,rn,ps,!1)}function ph(i,s,u){var h=bn;bn|=2;var w=_m(),S=wm();(Dn!==i||rn!==s)&&(wf=null,ku(i,s)),s=!1;var O=ii;e:do try{if(Sn!==0&&$t!==null){var ne=$t,_e=hs;switch(Sn){case 8:hh(),O=6;break e;case 3:case 2:case 9:case 6:ei.current===null&&(s=!0);var Fe=Sn;if(Sn=0,hs=null,Du(i,ne,_e,Fe),u&&Iu){O=0;break e}break;default:Fe=Sn,Sn=0,hs=null,Du(i,ne,_e,Fe)}}Y5(),O=ii;break}catch(Je){ym(i,Je)}while(!0);return s&&i.shellSuspendCounter++,Ns=Io=null,bn=h,oe.H=w,oe.A=S,$t===null&&(Dn=null,rn=0,To()),O}function Y5(){for(;$t!==null;)xm($t)}function J5(i,s){var u=bn;bn|=2;var h=_m(),w=wm();Dn!==i||rn!==s?(wf=null,_f=He()+500,ku(i,s)):Iu=Yt(i,s);e:do try{if(Sn!==0&&$t!==null){s=$t;var S=hs;t:switch(Sn){case 1:Sn=0,hs=null,Du(i,s,S,1);break;case 2:case 9:if(et(S)){Sn=0,hs=null,Sm(s);break}s=function(){Sn!==2&&Sn!==9||Dn!==i||(Sn=7),Bo(i)},S.then(s,s);break e;case 3:Sn=7;break e;case 4:Sn=5;break e;case 7:et(S)?(Sn=0,hs=null,Sm(s)):(Sn=0,hs=null,Du(i,s,S,7));break;case 5:var O=null;switch($t.tag){case 26:O=$t.memoizedState;case 5:case 27:var ne=$t;if(O?lg(O):ne.stateNode.complete){Sn=0,hs=null;var _e=ne.sibling;if(_e!==null)$t=_e;else{var Fe=ne.return;Fe!==null?($t=Fe,Af(Fe)):$t=null}break t}}Sn=0,hs=null,Du(i,s,S,5);break;case 6:Sn=0,hs=null,Du(i,s,S,6);break;case 8:hh(),ii=6;break e;default:throw Error(r(462))}}W5();break}catch(Je){ym(i,Je)}while(!0);return Ns=Io=null,oe.H=h,oe.A=w,bn=u,$t!==null?0:(Dn=null,rn=0,To(),ii)}function W5(){for(;$t!==null&&!be();)xm($t)}function xm(i){var s=Y0(i.alternate,i,wa);i.memoizedProps=i.pendingProps,s===null?Af(i):$t=s}function Sm(i){var s=i,u=s.alternate;switch(s.tag){case 15:case 0:s=z0(u,s,s.pendingProps,s.type,void 0,rn);break;case 11:s=z0(u,s,s.pendingProps,s.type.render,s.ref,rn);break;case 5:wu(s);default:W0(u,s),s=$t=Fl(s,wa),s=Y0(u,s,wa)}i.memoizedProps=i.pendingProps,s===null?Af(i):$t=s}function Du(i,s,u,h){Ns=Io=null,wu(s),Ke=null,dt=0;var w=s.return;try{if(U5(i,w,s,u,rn)){ii=1,ff(i,Vr(u,i.current)),$t=null;return}}catch(S){if(w!==null)throw $t=w,S;ii=1,ff(i,Vr(u,i.current)),$t=null;return}s.flags&32768?(Xt||h===1?i=!0:Iu||(rn&536870912)!==0?i=!1:(il=i=!0,(h===2||h===9||h===3||h===6)&&(h=ei.current,h!==null&&h.tag===13&&(h.flags|=16384))),Am(s,i)):Af(s)}function Af(i){var s=i;do{if((s.flags&32768)!==0){Am(s,il);return}i=s.return;var u=B5(s.alternate,s,wa);if(u!==null){$t=u;return}if(s=s.sibling,s!==null){$t=s;return}$t=s=i}while(s!==null);ii===0&&(ii=5)}function Am(i,s){do{var u=z5(i.alternate,i);if(u!==null){u.flags&=32767,$t=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!s&&(i=i.sibling,i!==null)){$t=i;return}$t=i=u}while(i!==null);ii=6,$t=null}function Em(i,s,u,h,w,S,O,ne,_e){i.cancelPendingCommit=null;do Ef();while(Ui!==0);if((bn&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(S=s.lanes|s.childLanes,S|=fs,St(i,u,S,O,ne,_e),i===Dn&&($t=Dn=null,rn=0),Ru=s,ol=i,xa=u,ch=S,fh=w,pm=h,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,$5(ft,function(){return Im(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||h){h=oe.T,oe.T=null,w=le.p,le.p=2,O=bn,bn|=4;try{q5(i,s,u)}finally{bn=O,le.p=w,oe.T=h}}Ui=1,Tm(),Nm(),Cm()}}function Tm(){if(Ui===1){Ui=0;var i=ol,s=Ru,u=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||u){u=oe.T,oe.T=null;var h=le.p;le.p=2;var w=bn;bn|=4;try{om(s,i);var S=Th,O=Hs(i.containerInfo),ne=S.focusedElem,_e=S.selectionRange;if(O!==ne&&ne&&ne.ownerDocument&&qi(ne.ownerDocument.documentElement,ne)){if(_e!==null&&as(ne)){var Fe=_e.start,Je=_e.end;if(Je===void 0&&(Je=Fe),"selectionStart"in ne)ne.selectionStart=Fe,ne.selectionEnd=Math.min(Je,ne.value.length);else{var tt=ne.ownerDocument||document,Be=tt&&tt.defaultView||window;if(Be.getSelection){var qe=Be.getSelection(),yt=ne.textContent.length,Mt=Math.min(_e.start,yt),In=_e.end===void 0?Mt:Math.min(_e.end,yt);!qe.extend&&Mt>In&&(O=In,In=Mt,Mt=O);var ke=Zi(ne,Mt),Le=Zi(ne,In);if(ke&&Le&&(qe.rangeCount!==1||qe.anchorNode!==ke.node||qe.anchorOffset!==ke.offset||qe.focusNode!==Le.node||qe.focusOffset!==Le.offset)){var Oe=tt.createRange();Oe.setStart(ke.node,ke.offset),qe.removeAllRanges(),Mt>In?(qe.addRange(Oe),qe.extend(Le.node,Le.offset)):(Oe.setEnd(Le.node,Le.offset),qe.addRange(Oe))}}}}for(tt=[],qe=ne;qe=qe.parentNode;)qe.nodeType===1&&tt.push({element:qe,left:qe.scrollLeft,top:qe.scrollTop});for(typeof ne.focus=="function"&&ne.focus(),ne=0;ne<tt.length;ne++){var Qe=tt[ne];Qe.element.scrollLeft=Qe.left,Qe.element.scrollTop=Qe.top}}Of=!!Eh,Th=Eh=null}finally{bn=w,le.p=h,oe.T=u}}i.current=s,Ui=2}}function Nm(){if(Ui===2){Ui=0;var i=ol,s=Ru,u=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||u){u=oe.T,oe.T=null;var h=le.p;le.p=2;var w=bn;bn|=4;try{tm(i,s.alternate,s)}finally{bn=w,le.p=h,oe.T=u}}Ui=3}}function Cm(){if(Ui===4||Ui===3){Ui=0,ze();var i=ol,s=Ru,u=xa,h=pm;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ui=5:(Ui=0,Ru=ol=null,Lm(i,i.pendingLanes));var w=i.pendingLanes;if(w===0&&(sl=null),wn(u),s=s.stateNode,cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(_t,s,void 0,(s.current.flags&128)===128)}catch{}if(h!==null){s=oe.T,w=le.p,le.p=2,oe.T=null;try{for(var S=i.onRecoverableError,O=0;O<h.length;O++){var ne=h[O];S(ne.value,{componentStack:ne.stack})}}finally{oe.T=s,le.p=w}}(xa&3)!==0&&Ef(),Bo(i),w=i.pendingLanes,(u&261930)!==0&&(w&42)!==0?i===dh?Ic++:(Ic=0,dh=i):Ic=0,Mc(0)}}function Lm(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,ql(s)))}function Ef(){return Tm(),Nm(),Cm(),Im()}function Im(){if(Ui!==5)return!1;var i=ol,s=ch;ch=0;var u=wn(xa),h=oe.T,w=le.p;try{le.p=32>u?32:u,oe.T=null,u=fh,fh=null;var S=ol,O=xa;if(Ui=0,Ru=ol=null,xa=0,(bn&6)!==0)throw Error(r(331));var ne=bn;if(bn|=4,fm(S.current),lm(S,S.current,O,u),bn=ne,Mc(0,!1),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(_t,S)}catch{}return!0}finally{le.p=w,oe.T=h,Lm(i,s)}}function Mm(i,s,u){s=Vr(u,s),s=Vd(i.stateNode,s,2),i=xn(i,s,2),i!==null&&(Li(i,2),Bo(i))}function An(i,s,u){if(i.tag===3)Mm(i,i,u);else for(;s!==null;){if(s.tag===3){Mm(s,i,u);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(sl===null||!sl.has(h))){i=Vr(u,i),u=R0(2),h=xn(s,u,2),h!==null&&(k0(u,h,s,i),Li(h,2),Bo(h));break}}s=s.return}}function mh(i,s,u){var h=i.pingCache;if(h===null){h=i.pingCache=new V5;var w=new Set;h.set(s,w)}else w=h.get(s),w===void 0&&(w=new Set,h.set(s,w));w.has(u)||(ah=!0,w.add(u),i=K5.bind(null,i,s,u),s.then(i,i))}function K5(i,s,u){var h=i.pingCache;h!==null&&h.delete(s),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,Dn===i&&(rn&u)===u&&(ii===4||ii===3&&(rn&62914560)===rn&&300>He()-bf?(bn&2)===0&&ku(i,0):lh|=u,Mu===rn&&(Mu=0)),Bo(i)}function Rm(i,s){s===0&&(s=Zn()),i=Js(i,s),i!==null&&(Li(i,s),Bo(i))}function X5(i){var s=i.memoizedState,u=0;s!==null&&(u=s.retryLane),Rm(i,u)}function Z5(i,s){var u=0;switch(i.tag){case 31:case 13:var h=i.stateNode,w=i.memoizedState;w!==null&&(u=w.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(s),Rm(i,u)}function $5(i,s){return Ce(i,s)}var Tf=null,Pu=null,gh=!1,Nf=!1,vh=!1,ll=0;function Bo(i){i!==Pu&&i.next===null&&(Pu===null?Tf=Pu=i:Pu=Pu.next=i),Nf=!0,gh||(gh=!0,ey())}function Mc(i,s){if(!vh&&Nf){vh=!0;do for(var u=!1,h=Tf;h!==null;){if(i!==0){var w=h.pendingLanes;if(w===0)var S=0;else{var O=h.suspendedLanes,ne=h.pingedLanes;S=(1<<31-Lt(42|i)+1)-1,S&=w&~(O&~ne),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(u=!0,Um(h,S))}else S=rn,S=xt(h,h===Dn?S:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(S&3)===0||Yt(h,S)||(u=!0,Um(h,S));h=h.next}while(u);vh=!1}}function Q5(){km()}function km(){Nf=gh=!1;var i=0;ll!==0&&cy()&&(i=ll);for(var s=He(),u=null,h=Tf;h!==null;){var w=h.next,S=Dm(h,s);S===0?(h.next=null,u===null?Tf=w:u.next=w,w===null&&(Pu=u)):(u=h,(i!==0||(S&3)!==0)&&(Nf=!0)),h=w}Ui!==0&&Ui!==5||Mc(i),ll!==0&&(ll=0)}function Dm(i,s){for(var u=i.suspendedLanes,h=i.pingedLanes,w=i.expirationTimes,S=i.pendingLanes&-62914561;0<S;){var O=31-Lt(S),ne=1<<O,_e=w[O];_e===-1?((ne&u)===0||(ne&h)!==0)&&(w[O]=Oi(ne,s)):_e<=s&&(i.expiredLanes|=ne),S&=~ne}if(s=Dn,u=rn,u=xt(i,i===s?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,u===0||i===s&&(Sn===2||Sn===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&Re(h),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||Yt(i,u)){if(s=u&-u,s===i.callbackPriority)return s;switch(h!==null&&Re(h),wn(u)){case 2:case 8:u=gt;break;case 32:u=ft;break;case 268435456:u=Ct;break;default:u=ft}return h=Pm.bind(null,i),u=Ce(u,h),i.callbackPriority=s,i.callbackNode=u,s}return h!==null&&h!==null&&Re(h),i.callbackPriority=2,i.callbackNode=null,2}function Pm(i,s){if(Ui!==0&&Ui!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(Ef()&&i.callbackNode!==u)return null;var h=rn;return h=xt(i,i===Dn?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(gm(i,h,s),Dm(i,He()),i.callbackNode!=null&&i.callbackNode===u?Pm.bind(null,i):null)}function Um(i,s){if(Ef())return null;gm(i,s,!0)}function ey(){dy(function(){(bn&6)!==0?Ce(it,Q5):km()})}function yh(){if(ll===0){var i=g;i===0&&(i=mn,mn<<=1,(mn&261888)===0&&(mn=256)),ll=i}return ll}function Om(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:an(""+i)}function Fm(i,s){var u=s.ownerDocument.createElement("input");return u.name=s.name,u.value=s.value,i.id&&u.setAttribute("form",i.id),s.parentNode.insertBefore(u,s),i=new FormData(i),u.parentNode.removeChild(u),i}function ty(i,s,u,h,w){if(s==="submit"&&u&&u.stateNode===w){var S=Om((w[Tn]||null).action),O=h.submitter;O&&(s=(s=O[Tn]||null)?Om(s.formAction):O.getAttribute("formAction"),s!==null&&(S=s,O=null));var ne=new ea("action","action",null,h,w);i.push({event:ne,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(ll!==0){var _e=O?Fm(w,O):new FormData(w);Fd(u,{pending:!0,data:_e,method:w.method,action:S},null,_e)}}else typeof S=="function"&&(ne.preventDefault(),_e=O?Fm(w,O):new FormData(w),Fd(u,{pending:!0,data:_e,method:w.method,action:S},S,_e))},currentTarget:w}]})}}for(var bh=0;bh<ar.length;bh++){var _h=ar[bh],ny=_h.toLowerCase(),iy=_h[0].toUpperCase()+_h.slice(1);Wt(ny,"on"+iy)}Wt(So,"onAnimationEnd"),Wt(js,"onAnimationIteration"),Wt(Ao,"onAnimationStart"),Wt("dblclick","onDoubleClick"),Wt("focusin","onFocus"),Wt("focusout","onBlur"),Wt(Ha,"onTransitionRun"),Wt(oa,"onTransitionStart"),Wt(Eo,"onTransitionCancel"),Wt(Va,"onTransitionEnd"),Dr("onMouseEnter",["mouseout","mouseover"]),Dr("onMouseLeave",["mouseout","mouseover"]),Dr("onPointerEnter",["pointerout","pointerover"]),Dr("onPointerLeave",["pointerout","pointerover"]),kr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),kr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),kr("onBeforeInput",["compositionend","keypress","textInput","paste"]),kr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),kr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),kr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ry=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rc));function Bm(i,s){s=(s&4)!==0;for(var u=0;u<i.length;u++){var h=i[u],w=h.event;h=h.listeners;e:{var S=void 0;if(s)for(var O=h.length-1;0<=O;O--){var ne=h[O],_e=ne.instance,Fe=ne.currentTarget;if(ne=ne.listener,_e!==S&&w.isPropagationStopped())break e;S=ne,w.currentTarget=Fe;try{S(w)}catch(Je){vn(Je)}w.currentTarget=null,S=_e}else for(O=0;O<h.length;O++){if(ne=h[O],_e=ne.instance,Fe=ne.currentTarget,ne=ne.listener,_e!==S&&w.isPropagationStopped())break e;S=ne,w.currentTarget=Fe;try{S(w)}catch(Je){vn(Je)}w.currentTarget=null,S=_e}}}}function Qt(i,s){var u=s[tr];u===void 0&&(u=s[tr]=new Set);var h=i+"__bubble";u.has(h)||(zm(s,i,2,!1),u.add(h))}function wh(i,s,u){var h=0;s&&(h|=4),zm(u,i,h,s)}var Cf="_reactListening"+Math.random().toString(36).slice(2);function xh(i){if(!i[Cf]){i[Cf]=!0,Bs.forEach(function(u){u!=="selectionchange"&&(ry.has(u)||wh(u,!1,i),wh(u,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Cf]||(s[Cf]=!0,wh("selectionchange",!1,s))}}function zm(i,s,u,h){switch(mg(s)){case 2:var w=Ry;break;case 8:w=ky;break;default:w=Oh}u=w.bind(null,s,u,i),w=void 0,!$o||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(w=!0),h?w!==void 0?i.addEventListener(s,u,{capture:!0,passive:w}):i.addEventListener(s,u,!0):w!==void 0?i.addEventListener(s,u,{passive:w}):i.addEventListener(s,u,!1)}function Sh(i,s,u,h,w){var S=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var O=h.tag;if(O===3||O===4){var ne=h.stateNode.containerInfo;if(ne===w)break;if(O===4)for(O=h.return;O!==null;){var _e=O.tag;if((_e===3||_e===4)&&O.stateNode.containerInfo===w)return;O=O.return}for(;ne!==null;){if(O=vr(ne),O===null)return;if(_e=O.tag,_e===5||_e===6||_e===26||_e===27){h=S=O;continue e}ne=ne.parentNode}}h=h.return}Tl(function(){var Fe=S,Je=Ss(u),tt=[];e:{var Be=xr.get(i);if(Be!==void 0){var qe=ea,yt=i;switch(i){case"keypress":if(ss(u)===0)break e;case"keydown":case"keyup":qe=Dl;break;case"focusin":yt="focus",qe=Ll;break;case"focusout":yt="blur",qe=Ll;break;case"beforeblur":case"afterblur":qe=Ll;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":qe=zs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":qe=Cl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":qe=j;break;case So:case js:case Ao:qe=ac;break;case Va:qe=xe;break;case"scroll":case"scrollend":qe=nu;break;case"wheel":qe=je;break;case"copy":case"cut":case"paste":qe=Ml;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":qe=Ua;break;case"toggle":case"beforetoggle":qe=pt}var Mt=(s&4)!==0,In=!Mt&&(i==="scroll"||i==="scrollend"),ke=Mt?Be!==null?Be+"Capture":null:Be;Mt=[];for(var Le=Fe,Oe;Le!==null;){var Qe=Le;if(Oe=Qe.stateNode,Qe=Qe.tag,Qe!==5&&Qe!==26&&Qe!==27||Oe===null||ke===null||(Qe=ho(Le,ke),Qe!=null&&Mt.push(kc(Le,Qe,Oe))),In)break;Le=Le.return}0<Mt.length&&(Be=new qe(Be,yt,null,u,Je),tt.push({event:Be,listeners:Mt}))}}if((s&7)===0){e:{if(Be=i==="mouseover"||i==="pointerover",qe=i==="mouseout"||i==="pointerout",Be&&u!==Or&&(yt=u.relatedTarget||u.fromElement)&&(vr(yt)||yt[vi]))break e;if((qe||Be)&&(Be=Je.window===Je?Je:(Be=Je.ownerDocument)?Be.defaultView||Be.parentWindow:window,qe?(yt=u.relatedTarget||u.toElement,qe=Fe,yt=yt?vr(yt):null,yt!==null&&(In=a(yt),Mt=yt.tag,yt!==In||Mt!==5&&Mt!==27&&Mt!==6)&&(yt=null)):(qe=null,yt=Fe),qe!==yt)){if(Mt=zs,Qe="onMouseLeave",ke="onMouseEnter",Le="mouse",(i==="pointerout"||i==="pointerover")&&(Mt=Ua,Qe="onPointerLeave",ke="onPointerEnter",Le="pointer"),In=qe==null?Be:is(qe),Oe=yt==null?Be:is(yt),Be=new Mt(Qe,Le+"leave",qe,u,Je),Be.target=In,Be.relatedTarget=Oe,Qe=null,vr(Je)===Fe&&(Mt=new Mt(ke,Le+"enter",yt,u,Je),Mt.target=Oe,Mt.relatedTarget=In,Qe=Mt),In=Qe,qe&&yt)t:{for(Mt=sy,ke=qe,Le=yt,Oe=0,Qe=ke;Qe;Qe=Mt(Qe))Oe++;Qe=0;for(var Nt=Le;Nt;Nt=Mt(Nt))Qe++;for(;0<Oe-Qe;)ke=Mt(ke),Oe--;for(;0<Qe-Oe;)Le=Mt(Le),Qe--;for(;Oe--;){if(ke===Le||Le!==null&&ke===Le.alternate){Mt=ke;break t}ke=Mt(ke),Le=Mt(Le)}Mt=null}else Mt=null;qe!==null&&qm(tt,Be,qe,Mt,!1),yt!==null&&In!==null&&qm(tt,In,yt,Mt,!0)}}e:{if(Be=Fe?is(Fe):window,qe=Be.nodeName&&Be.nodeName.toLowerCase(),qe==="select"||qe==="input"&&Be.type==="file")var dn=wi;else if(Oa(Be))if(ra)dn=za;else{dn=au;var wt=Ul}else qe=Be.nodeName,!qe||qe.toLowerCase()!=="input"||Be.type!=="checkbox"&&Be.type!=="radio"?Fe&&Xe(Fe.elementType)&&(dn=wi):dn=qr;if(dn&&(dn=dn(i,Fe))){Fa(tt,dn,u,Je);break e}wt&&wt(i,Be,Fe),i==="focusout"&&Fe&&Be.type==="number"&&Fe.memoizedProps.value!=null&&fo(Be,"number",Be.value)}switch(wt=Fe?is(Fe):window,i){case"focusin":(Oa(wt)||wt.contentEditable==="true")&&(ls=wt,us=Fe,Mn=null);break;case"focusout":Mn=us=ls=null;break;case"mousedown":sa=!0;break;case"contextmenu":case"mouseup":case"dragend":sa=!1,Gi(tt,u,Je);break;case"selectionchange":if(Vs)break;case"keydown":case"keyup":Gi(tt,u,Je)}var Ht;if(Pt)e:{switch(i){case"compositionstart":var sn="onCompositionStart";break e;case"compositionend":sn="onCompositionEnd";break e;case"compositionupdate":sn="onCompositionUpdate";break e}sn=void 0}else Bi?Ii(i,u)&&(sn="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(sn="onCompositionStart");sn&&(Un&&u.locale!=="ko"&&(Bi||sn!=="onCompositionStart"?sn==="onCompositionEnd"&&Bi&&(Ht=mo()):(As=Je,Nl="value"in As?As.value:As.textContent,Bi=!0)),wt=Lf(Fe,sn),0<wt.length&&(sn=new na(sn,i,null,u,Je),tt.push({event:sn,listeners:wt}),Ht?sn.data=Ht:(Ht=ai(u),Ht!==null&&(sn.data=Ht)))),(Ht=tn?_r(i,u):Es(i,u))&&(sn=Lf(Fe,"onBeforeInput"),0<sn.length&&(wt=new na("onBeforeInput","beforeinput",null,u,Je),tt.push({event:wt,listeners:sn}),wt.data=Ht)),ty(tt,i,Fe,u,Je)}Bm(tt,s)})}function kc(i,s,u){return{instance:i,listener:s,currentTarget:u}}function Lf(i,s){for(var u=s+"Capture",h=[];i!==null;){var w=i,S=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||S===null||(w=ho(i,u),w!=null&&h.unshift(kc(i,w,S)),w=ho(i,s),w!=null&&h.push(kc(i,w,S))),i.tag===3)return h;i=i.return}return[]}function sy(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function qm(i,s,u,h,w){for(var S=s._reactName,O=[];u!==null&&u!==h;){var ne=u,_e=ne.alternate,Fe=ne.stateNode;if(ne=ne.tag,_e!==null&&_e===h)break;ne!==5&&ne!==26&&ne!==27||Fe===null||(_e=Fe,w?(Fe=ho(u,S),Fe!=null&&O.unshift(kc(u,Fe,_e))):w||(Fe=ho(u,S),Fe!=null&&O.push(kc(u,Fe,_e)))),u=u.return}O.length!==0&&i.push({event:s,listeners:O})}var oy=/\r\n?/g,ay=/\u0000|\uFFFD/g;function Gm(i){return(typeof i=="string"?i:""+i).replace(oy,`
`).replace(ay,"")}function Hm(i,s){return s=Gm(s),Gm(i)===s}function Ln(i,s,u,h,w,S){switch(u){case"children":typeof h=="string"?s==="body"||s==="textarea"&&h===""||Ur(i,h):(typeof h=="number"||typeof h=="bigint")&&s!=="body"&&Ur(i,""+h);break;case"className":Nn(i,"class",h);break;case"tabIndex":Nn(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Nn(i,u,h);break;case"style":Ze(i,h,S);break;case"data":if(s!=="object"){Nn(i,"data",h);break}case"src":case"href":if(h===""&&(s!=="a"||u!=="href")){i.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(u);break}h=an(""+h),i.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(u==="formAction"?(s!=="input"&&Ln(i,s,"name",w.name,w,null),Ln(i,s,"formEncType",w.formEncType,w,null),Ln(i,s,"formMethod",w.formMethod,w,null),Ln(i,s,"formTarget",w.formTarget,w,null)):(Ln(i,s,"encType",w.encType,w,null),Ln(i,s,"method",w.method,w,null),Ln(i,s,"target",w.target,w,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(u);break}h=an(""+h),i.setAttribute(u,h);break;case"onClick":h!=null&&(i.onclick=Kt);break;case"onScroll":h!=null&&Qt("scroll",i);break;case"onScrollEnd":h!=null&&Qt("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(w.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}u=an(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,""+h):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":h===!0?i.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,h):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(u,h):i.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(u):i.setAttribute(u,h);break;case"popover":Qt("beforetoggle",i),Qt("toggle",i),ws(i,"popover",h);break;case"xlinkActuate":rr(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":rr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":rr(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":rr(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":rr(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":rr(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":rr(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":rr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":rr(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":ws(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=At.get(u)||u,ws(i,u,h))}}function Ah(i,s,u,h,w,S){switch(u){case"style":Ze(i,h,S);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(w.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof h=="string"?Ur(i,h):(typeof h=="number"||typeof h=="bigint")&&Ur(i,""+h);break;case"onScroll":h!=null&&Qt("scroll",i);break;case"onScrollEnd":h!=null&&Qt("scrollend",i);break;case"onClick":h!=null&&(i.onclick=Kt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yo.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(w=u.endsWith("Capture"),s=u.slice(2,w?u.length-7:void 0),S=i[Tn]||null,S=S!=null?S[u]:null,typeof S=="function"&&i.removeEventListener(s,S,w),typeof h=="function")){typeof S!="function"&&S!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(s,h,w);break e}u in i?i[u]=h:h===!0?i.setAttribute(u,""):ws(i,u,h)}}}function er(i,s,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qt("error",i),Qt("load",i);var h=!1,w=!1,S;for(S in u)if(u.hasOwnProperty(S)){var O=u[S];if(O!=null)switch(S){case"src":h=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ln(i,s,S,O,u,null)}}w&&Ln(i,s,"srcSet",u.srcSet,u,null),h&&Ln(i,s,"src",u.src,u,null);return;case"input":Qt("invalid",i);var ne=S=O=w=null,_e=null,Fe=null;for(h in u)if(u.hasOwnProperty(h)){var Je=u[h];if(Je!=null)switch(h){case"name":w=Je;break;case"type":O=Je;break;case"checked":_e=Je;break;case"defaultChecked":Fe=Je;break;case"value":S=Je;break;case"defaultValue":ne=Je;break;case"children":case"dangerouslySetInnerHTML":if(Je!=null)throw Error(r(137,s));break;default:Ln(i,s,h,Je,u,null)}}Ia(i,S,ne,_e,Fe,O,w,!1);return;case"select":Qt("invalid",i),h=O=S=null;for(w in u)if(u.hasOwnProperty(w)&&(ne=u[w],ne!=null))switch(w){case"value":S=ne;break;case"defaultValue":O=ne;break;case"multiple":h=ne;default:Ln(i,s,w,ne,u,null)}s=S,u=O,i.multiple=!!h,s!=null?xs(i,!!h,s,!1):u!=null&&xs(i,!!h,u,!0);return;case"textarea":Qt("invalid",i),S=w=h=null;for(O in u)if(u.hasOwnProperty(O)&&(ne=u[O],ne!=null))switch(O){case"value":h=ne;break;case"defaultValue":w=ne;break;case"children":S=ne;break;case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(91));break;default:Ln(i,s,O,ne,u,null)}Ma(i,h,w,S);return;case"option":for(_e in u)if(u.hasOwnProperty(_e)&&(h=u[_e],h!=null))switch(_e){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Ln(i,s,_e,h,u,null)}return;case"dialog":Qt("beforetoggle",i),Qt("toggle",i),Qt("cancel",i),Qt("close",i);break;case"iframe":case"object":Qt("load",i);break;case"video":case"audio":for(h=0;h<Rc.length;h++)Qt(Rc[h],i);break;case"image":Qt("error",i),Qt("load",i);break;case"details":Qt("toggle",i);break;case"embed":case"source":case"link":Qt("error",i),Qt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Fe in u)if(u.hasOwnProperty(Fe)&&(h=u[Fe],h!=null))switch(Fe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ln(i,s,Fe,h,u,null)}return;default:if(Xe(s)){for(Je in u)u.hasOwnProperty(Je)&&(h=u[Je],h!==void 0&&Ah(i,s,Je,h,u,void 0));return}}for(ne in u)u.hasOwnProperty(ne)&&(h=u[ne],h!=null&&Ln(i,s,ne,h,u,null))}function ly(i,s,u,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,S=null,O=null,ne=null,_e=null,Fe=null,Je=null;for(qe in u){var tt=u[qe];if(u.hasOwnProperty(qe)&&tt!=null)switch(qe){case"checked":break;case"value":break;case"defaultValue":_e=tt;default:h.hasOwnProperty(qe)||Ln(i,s,qe,null,h,tt)}}for(var Be in h){var qe=h[Be];if(tt=u[Be],h.hasOwnProperty(Be)&&(qe!=null||tt!=null))switch(Be){case"type":S=qe;break;case"name":w=qe;break;case"checked":Fe=qe;break;case"defaultChecked":Je=qe;break;case"value":O=qe;break;case"defaultValue":ne=qe;break;case"children":case"dangerouslySetInnerHTML":if(qe!=null)throw Error(r(137,s));break;default:qe!==tt&&Ln(i,s,Be,qe,h,tt)}}co(i,O,ne,_e,Fe,Je,S,w);return;case"select":qe=O=ne=Be=null;for(S in u)if(_e=u[S],u.hasOwnProperty(S)&&_e!=null)switch(S){case"value":break;case"multiple":qe=_e;default:h.hasOwnProperty(S)||Ln(i,s,S,null,h,_e)}for(w in h)if(S=h[w],_e=u[w],h.hasOwnProperty(w)&&(S!=null||_e!=null))switch(w){case"value":Be=S;break;case"defaultValue":ne=S;break;case"multiple":O=S;default:S!==_e&&Ln(i,s,w,S,h,_e)}s=ne,u=O,h=qe,Be!=null?xs(i,!!u,Be,!1):!!h!=!!u&&(s!=null?xs(i,!!u,s,!0):xs(i,!!u,u?[]:"",!1));return;case"textarea":qe=Be=null;for(ne in u)if(w=u[ne],u.hasOwnProperty(ne)&&w!=null&&!h.hasOwnProperty(ne))switch(ne){case"value":break;case"children":break;default:Ln(i,s,ne,null,h,w)}for(O in h)if(w=h[O],S=u[O],h.hasOwnProperty(O)&&(w!=null||S!=null))switch(O){case"value":Be=w;break;case"defaultValue":qe=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:w!==S&&Ln(i,s,O,w,h,S)}Zo(i,Be,qe);return;case"option":for(var yt in u)if(Be=u[yt],u.hasOwnProperty(yt)&&Be!=null&&!h.hasOwnProperty(yt))switch(yt){case"selected":i.selected=!1;break;default:Ln(i,s,yt,null,h,Be)}for(_e in h)if(Be=h[_e],qe=u[_e],h.hasOwnProperty(_e)&&Be!==qe&&(Be!=null||qe!=null))switch(_e){case"selected":i.selected=Be&&typeof Be!="function"&&typeof Be!="symbol";break;default:Ln(i,s,_e,Be,h,qe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Mt in u)Be=u[Mt],u.hasOwnProperty(Mt)&&Be!=null&&!h.hasOwnProperty(Mt)&&Ln(i,s,Mt,null,h,Be);for(Fe in h)if(Be=h[Fe],qe=u[Fe],h.hasOwnProperty(Fe)&&Be!==qe&&(Be!=null||qe!=null))switch(Fe){case"children":case"dangerouslySetInnerHTML":if(Be!=null)throw Error(r(137,s));break;default:Ln(i,s,Fe,Be,h,qe)}return;default:if(Xe(s)){for(var In in u)Be=u[In],u.hasOwnProperty(In)&&Be!==void 0&&!h.hasOwnProperty(In)&&Ah(i,s,In,void 0,h,Be);for(Je in h)Be=h[Je],qe=u[Je],!h.hasOwnProperty(Je)||Be===qe||Be===void 0&&qe===void 0||Ah(i,s,Je,Be,h,qe);return}}for(var ke in u)Be=u[ke],u.hasOwnProperty(ke)&&Be!=null&&!h.hasOwnProperty(ke)&&Ln(i,s,ke,null,h,Be);for(tt in h)Be=h[tt],qe=u[tt],!h.hasOwnProperty(tt)||Be===qe||Be==null&&qe==null||Ln(i,s,tt,Be,h,qe)}function Vm(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function uy(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,u=performance.getEntriesByType("resource"),h=0;h<u.length;h++){var w=u[h],S=w.transferSize,O=w.initiatorType,ne=w.duration;if(S&&ne&&Vm(O)){for(O=0,ne=w.responseEnd,h+=1;h<u.length;h++){var _e=u[h],Fe=_e.startTime;if(Fe>ne)break;var Je=_e.transferSize,tt=_e.initiatorType;Je&&Vm(tt)&&(_e=_e.responseEnd,O+=Je*(_e<ne?1:(ne-Fe)/(_e-Fe)))}if(--h,s+=8*(S+O)/(w.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Eh=null,Th=null;function If(i){return i.nodeType===9?i:i.ownerDocument}function jm(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ym(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Nh(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ch=null;function cy(){var i=window.event;return i&&i.type==="popstate"?i===Ch?!1:(Ch=i,!0):(Ch=null,!1)}var Jm=typeof setTimeout=="function"?setTimeout:void 0,fy=typeof clearTimeout=="function"?clearTimeout:void 0,Wm=typeof Promise=="function"?Promise:void 0,dy=typeof queueMicrotask=="function"?queueMicrotask:typeof Wm<"u"?function(i){return Wm.resolve(null).then(i).catch(hy)}:Jm;function hy(i){setTimeout(function(){throw i})}function ul(i){return i==="head"}function Km(i,s){var u=s,h=0;do{var w=u.nextSibling;if(i.removeChild(u),w&&w.nodeType===8)if(u=w.data,u==="/$"||u==="/&"){if(h===0){i.removeChild(w),Bu(s);return}h--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")h++;else if(u==="html")Dc(i.ownerDocument.documentElement);else if(u==="head"){u=i.ownerDocument.head,Dc(u);for(var S=u.firstChild;S;){var O=S.nextSibling,ne=S.nodeName;S[Rr]||ne==="SCRIPT"||ne==="STYLE"||ne==="LINK"&&S.rel.toLowerCase()==="stylesheet"||u.removeChild(S),S=O}}else u==="body"&&Dc(i.ownerDocument.body);u=w}while(u);Bu(s)}function Xm(i,s){var u=i;i=0;do{var h=u.nextSibling;if(u.nodeType===1?s?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(s?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),h&&h.nodeType===8)if(u=h.data,u==="/$"){if(i===0)break;i--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||i++;u=h}while(u)}function Lh(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var u=s;switch(s=s.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Lh(u),bs(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function py(i,s,u,h){for(;i.nodeType===1;){var w=u;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[Rr])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(S=i.getAttribute("rel"),S==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(S!==w.rel||i.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||i.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||i.getAttribute("title")!==(w.title==null?null:w.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(S=i.getAttribute("src"),(S!==(w.src==null?null:w.src)||i.getAttribute("type")!==(w.type==null?null:w.type)||i.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&S&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var S=w.name==null?null:""+w.name;if(w.type==="hidden"&&i.getAttribute("name")===S)return i}else return i;if(i=ks(i.nextSibling),i===null)break}return null}function my(i,s,u){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=ks(i.nextSibling),i===null))return null;return i}function Zm(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=ks(i.nextSibling),i===null))return null;return i}function Ih(i){return i.data==="$?"||i.data==="$~"}function Mh(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function gy(i,s){var u=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||u.readyState!=="loading")s();else{var h=function(){s(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function ks(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Rh=null;function $m(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"||u==="/&"){if(s===0)return ks(i.nextSibling);s--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||s++}i=i.nextSibling}return null}function Qm(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(s===0)return i;s--}else u!=="/$"&&u!=="/&"||s++}i=i.previousSibling}return null}function eg(i,s,u){switch(s=If(u),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Dc(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);bs(i)}var Ds=new Map,tg=new Set;function Mf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Sa=le.d;le.d={f:vy,r:yy,D:by,C:_y,L:wy,m:xy,X:Ay,S:Sy,M:Ey};function vy(){var i=Sa.f(),s=xf();return i||s}function yy(i){var s=ti(i);s!==null&&s.tag===5&&s.type==="form"?y0(s):Sa.r(i)}var Uu=typeof document>"u"?null:document;function ng(i,s,u){var h=Uu;if(h&&typeof s=="string"&&s){var w=bi(s);w='link[rel="'+i+'"][href="'+w+'"]',typeof u=="string"&&(w+='[crossorigin="'+u+'"]'),tg.has(w)||(tg.add(w),i={rel:i,crossOrigin:u,href:s},h.querySelector(w)===null&&(s=h.createElement("link"),er(s,"link",i),Vn(s),h.head.appendChild(s)))}}function by(i){Sa.D(i),ng("dns-prefetch",i,null)}function _y(i,s){Sa.C(i,s),ng("preconnect",i,s)}function wy(i,s,u){Sa.L(i,s,u);var h=Uu;if(h&&i&&s){var w='link[rel="preload"][as="'+bi(s)+'"]';s==="image"&&u&&u.imageSrcSet?(w+='[imagesrcset="'+bi(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(w+='[imagesizes="'+bi(u.imageSizes)+'"]')):w+='[href="'+bi(i)+'"]';var S=w;switch(s){case"style":S=Ou(i);break;case"script":S=Fu(i)}Ds.has(S)||(i=v({rel:"preload",href:s==="image"&&u&&u.imageSrcSet?void 0:i,as:s},u),Ds.set(S,i),h.querySelector(w)!==null||s==="style"&&h.querySelector(Pc(S))||s==="script"&&h.querySelector(Uc(S))||(s=h.createElement("link"),er(s,"link",i),Vn(s),h.head.appendChild(s)))}}function xy(i,s){Sa.m(i,s);var u=Uu;if(u&&i){var h=s&&typeof s.as=="string"?s.as:"script",w='link[rel="modulepreload"][as="'+bi(h)+'"][href="'+bi(i)+'"]',S=w;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Fu(i)}if(!Ds.has(S)&&(i=v({rel:"modulepreload",href:i},s),Ds.set(S,i),u.querySelector(w)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Uc(S)))return}h=u.createElement("link"),er(h,"link",i),Vn(h),u.head.appendChild(h)}}}function Sy(i,s,u){Sa.S(i,s,u);var h=Uu;if(h&&i){var w=_s(h).hoistableStyles,S=Ou(i);s=s||"default";var O=w.get(S);if(!O){var ne={loading:0,preload:null};if(O=h.querySelector(Pc(S)))ne.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":s},u),(u=Ds.get(S))&&kh(i,u);var _e=O=h.createElement("link");Vn(_e),er(_e,"link",i),_e._p=new Promise(function(Fe,Je){_e.onload=Fe,_e.onerror=Je}),_e.addEventListener("load",function(){ne.loading|=1}),_e.addEventListener("error",function(){ne.loading|=2}),ne.loading|=4,Rf(O,s,h)}O={type:"stylesheet",instance:O,count:1,state:ne},w.set(S,O)}}}function Ay(i,s){Sa.X(i,s);var u=Uu;if(u&&i){var h=_s(u).hoistableScripts,w=Fu(i),S=h.get(w);S||(S=u.querySelector(Uc(w)),S||(i=v({src:i,async:!0},s),(s=Ds.get(w))&&Dh(i,s),S=u.createElement("script"),Vn(S),er(S,"link",i),u.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},h.set(w,S))}}function Ey(i,s){Sa.M(i,s);var u=Uu;if(u&&i){var h=_s(u).hoistableScripts,w=Fu(i),S=h.get(w);S||(S=u.querySelector(Uc(w)),S||(i=v({src:i,async:!0,type:"module"},s),(s=Ds.get(w))&&Dh(i,s),S=u.createElement("script"),Vn(S),er(S,"link",i),u.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},h.set(w,S))}}function ig(i,s,u,h){var w=(w=ve.current)?Mf(w):null;if(!w)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(s=Ou(u.href),u=_s(w).hoistableStyles,h=u.get(s),h||(h={type:"style",instance:null,count:0,state:null},u.set(s,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=Ou(u.href);var S=_s(w).hoistableStyles,O=S.get(i);if(O||(w=w.ownerDocument||w,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(i,O),(S=w.querySelector(Pc(i)))&&!S._p&&(O.instance=S,O.state.loading=5),Ds.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Ds.set(i,u),S||Ty(w,i,u,O.state))),s&&h===null)throw Error(r(528,""));return O}if(s&&h!==null)throw Error(r(529,""));return null;case"script":return s=u.async,u=u.src,typeof u=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Fu(u),u=_s(w).hoistableScripts,h=u.get(s),h||(h={type:"script",instance:null,count:0,state:null},u.set(s,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Ou(i){return'href="'+bi(i)+'"'}function Pc(i){return'link[rel="stylesheet"]['+i+"]"}function rg(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function Ty(i,s,u,h){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?h.loading=1:(s=i.createElement("link"),h.preload=s,s.addEventListener("load",function(){return h.loading|=1}),s.addEventListener("error",function(){return h.loading|=2}),er(s,"link",u),Vn(s),i.head.appendChild(s))}function Fu(i){return'[src="'+bi(i)+'"]'}function Uc(i){return"script[async]"+i}function sg(i,s,u){if(s.count++,s.instance===null)switch(s.type){case"style":var h=i.querySelector('style[data-href~="'+bi(u.href)+'"]');if(h)return s.instance=h,Vn(h),h;var w=v({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),Vn(h),er(h,"style",w),Rf(h,u.precedence,i),s.instance=h;case"stylesheet":w=Ou(u.href);var S=i.querySelector(Pc(w));if(S)return s.state.loading|=4,s.instance=S,Vn(S),S;h=rg(u),(w=Ds.get(w))&&kh(h,w),S=(i.ownerDocument||i).createElement("link"),Vn(S);var O=S;return O._p=new Promise(function(ne,_e){O.onload=ne,O.onerror=_e}),er(S,"link",h),s.state.loading|=4,Rf(S,u.precedence,i),s.instance=S;case"script":return S=Fu(u.src),(w=i.querySelector(Uc(S)))?(s.instance=w,Vn(w),w):(h=u,(w=Ds.get(S))&&(h=v({},u),Dh(h,w)),i=i.ownerDocument||i,w=i.createElement("script"),Vn(w),er(w,"link",h),i.head.appendChild(w),s.instance=w);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(h=s.instance,s.state.loading|=4,Rf(h,u.precedence,i));return s.instance}function Rf(i,s,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=h.length?h[h.length-1]:null,S=w,O=0;O<h.length;O++){var ne=h[O];if(ne.dataset.precedence===s)S=ne;else if(S!==w)break}S?S.parentNode.insertBefore(i,S.nextSibling):(s=u.nodeType===9?u.head:u,s.insertBefore(i,s.firstChild))}function kh(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Dh(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var kf=null;function og(i,s,u){if(kf===null){var h=new Map,w=kf=new Map;w.set(u,h)}else w=kf,h=w.get(u),h||(h=new Map,w.set(u,h));if(h.has(i))return h;for(h.set(i,null),u=u.getElementsByTagName(i),w=0;w<u.length;w++){var S=u[w];if(!(S[Rr]||S[gn]||i==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var O=S.getAttribute(s)||"";O=i+O;var ne=h.get(O);ne?ne.push(S):h.set(O,[S])}}return h}function ag(i,s,u){i=i.ownerDocument||i,i.head.insertBefore(u,s==="title"?i.querySelector("head > title"):null)}function Ny(i,s,u){if(u===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function lg(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function Cy(i,s,u,h){if(u.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var w=Ou(h.href),S=s.querySelector(Pc(w));if(S){s=S._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=Df.bind(i),s.then(i,i)),u.state.loading|=4,u.instance=S,Vn(S);return}S=s.ownerDocument||s,h=rg(h),(w=Ds.get(w))&&kh(h,w),S=S.createElement("link"),Vn(S);var O=S;O._p=new Promise(function(ne,_e){O.onload=ne,O.onerror=_e}),er(S,"link",h),u.instance=S}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(u,s),(s=u.state.preload)&&(u.state.loading&3)===0&&(i.count++,u=Df.bind(i),s.addEventListener("load",u),s.addEventListener("error",u))}}var Ph=0;function Ly(i,s){return i.stylesheets&&i.count===0&&Uf(i,i.stylesheets),0<i.count||0<i.imgCount?function(u){var h=setTimeout(function(){if(i.stylesheets&&Uf(i,i.stylesheets),i.unsuspend){var S=i.unsuspend;i.unsuspend=null,S()}},6e4+s);0<i.imgBytes&&Ph===0&&(Ph=62500*uy());var w=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Uf(i,i.stylesheets),i.unsuspend)){var S=i.unsuspend;i.unsuspend=null,S()}},(i.imgBytes>Ph?50:800)+s);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(w)}}:null}function Df(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Uf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Pf=null;function Uf(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Pf=new Map,s.forEach(Iy,i),Pf=null,Df.call(i))}function Iy(i,s){if(!(s.state.loading&4)){var u=Pf.get(i);if(u)var h=u.get(null);else{u=new Map,Pf.set(i,u);for(var w=i.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<w.length;S++){var O=w[S];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(u.set(O.dataset.precedence,O),h=O)}h&&u.set(null,h)}w=s.instance,O=w.getAttribute("data-precedence"),S=u.get(O)||h,S===h&&u.set(null,w),u.set(O,w),this.count++,h=Df.bind(this),w.addEventListener("load",h),w.addEventListener("error",h),S?S.parentNode.insertBefore(w,S.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(w,i.firstChild)),s.state.loading|=4}}var Oc={$$typeof:U,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function My(i,s,u,h,w,S,O,ne,_e){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=h,this.onUncaughtError=w,this.onCaughtError=S,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_e,this.incompleteTransitions=new Map}function ug(i,s,u,h,w,S,O,ne,_e,Fe,Je,tt){return i=new My(i,s,u,O,_e,Fe,Je,tt,ne),s=1,S===!0&&(s|=24),S=Vi(3,null,null,s),i.current=S,S.stateNode=i,s=Za(),s.refCount++,i.pooledCache=s,s.refCount++,S.memoizedState={element:h,isDehydrated:u,cache:s},yn(S),i}function cg(i){return i?(i=Mi,i):Mi}function fg(i,s,u,h,w,S){w=cg(w),h.context===null?h.context=w:h.pendingContext=w,h=It(s),h.payload={element:u},S=S===void 0?null:S,S!==null&&(h.callback=S),u=xn(i,h,s),u!==null&&(ts(u,i,s),Si(u,i,s))}function dg(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<s?u:s}}function Uh(i,s){dg(i,s),(i=i.alternate)&&dg(i,s)}function hg(i){if(i.tag===13||i.tag===31){var s=Js(i,67108864);s!==null&&ts(s,i,67108864),Uh(i,67108864)}}function pg(i){if(i.tag===13||i.tag===31){var s=ms();s=_n(s);var u=Js(i,s);u!==null&&ts(u,i,s),Uh(i,s)}}var Of=!0;function Ry(i,s,u,h){var w=oe.T;oe.T=null;var S=le.p;try{le.p=2,Oh(i,s,u,h)}finally{le.p=S,oe.T=w}}function ky(i,s,u,h){var w=oe.T;oe.T=null;var S=le.p;try{le.p=8,Oh(i,s,u,h)}finally{le.p=S,oe.T=w}}function Oh(i,s,u,h){if(Of){var w=Fh(h);if(w===null)Sh(i,s,h,Ff,u),gg(i,h);else if(Py(w,i,s,u,h))h.stopPropagation();else if(gg(i,h),s&4&&-1<Dy.indexOf(i)){for(;w!==null;){var S=ti(w);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var O=Jt(S.pendingLanes);if(O!==0){var ne=S;for(ne.pendingLanes|=2,ne.entangledLanes|=2;O;){var _e=1<<31-Lt(O);ne.entanglements[1]|=_e,O&=~_e}Bo(S),(bn&6)===0&&(_f=He()+500,Mc(0))}}break;case 31:case 13:ne=Js(S,2),ne!==null&&ts(ne,S,2),xf(),Uh(S,2)}if(S=Fh(h),S===null&&Sh(i,s,h,Ff,u),S===w)break;w=S}w!==null&&h.stopPropagation()}else Sh(i,s,h,null,u)}}function Fh(i){return i=Ss(i),Bh(i)}var Ff=null;function Bh(i){if(Ff=null,i=vr(i),i!==null){var s=a(i);if(s===null)i=null;else{var u=s.tag;if(u===13){if(i=l(s),i!==null)return i;i=null}else if(u===31){if(i=c(s),i!==null)return i;i=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Ff=i,null}function mg(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ve()){case it:return 2;case gt:return 8;case ft:case vt:return 32;case Ct:return 268435456;default:return 32}default:return 32}}var zh=!1,cl=null,fl=null,dl=null,Fc=new Map,Bc=new Map,hl=[],Dy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gg(i,s){switch(i){case"focusin":case"focusout":cl=null;break;case"dragenter":case"dragleave":fl=null;break;case"mouseover":case"mouseout":dl=null;break;case"pointerover":case"pointerout":Fc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bc.delete(s.pointerId)}}function zc(i,s,u,h,w,S){return i===null||i.nativeEvent!==S?(i={blockedOn:s,domEventName:u,eventSystemFlags:h,nativeEvent:S,targetContainers:[w]},s!==null&&(s=ti(s),s!==null&&hg(s)),i):(i.eventSystemFlags|=h,s=i.targetContainers,w!==null&&s.indexOf(w)===-1&&s.push(w),i)}function Py(i,s,u,h,w){switch(s){case"focusin":return cl=zc(cl,i,s,u,h,w),!0;case"dragenter":return fl=zc(fl,i,s,u,h,w),!0;case"mouseover":return dl=zc(dl,i,s,u,h,w),!0;case"pointerover":var S=w.pointerId;return Fc.set(S,zc(Fc.get(S)||null,i,s,u,h,w)),!0;case"gotpointercapture":return S=w.pointerId,Bc.set(S,zc(Bc.get(S)||null,i,s,u,h,w)),!0}return!1}function vg(i){var s=vr(i.target);if(s!==null){var u=a(s);if(u!==null){if(s=u.tag,s===13){if(s=l(u),s!==null){i.blockedOn=s,ys(i.priority,function(){pg(u)});return}}else if(s===31){if(s=c(u),s!==null){i.blockedOn=s,ys(i.priority,function(){pg(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Bf(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var u=Fh(i.nativeEvent);if(u===null){u=i.nativeEvent;var h=new u.constructor(u.type,u);Or=h,u.target.dispatchEvent(h),Or=null}else return s=ti(u),s!==null&&hg(s),i.blockedOn=u,!1;s.shift()}return!0}function yg(i,s,u){Bf(i)&&u.delete(s)}function Uy(){zh=!1,cl!==null&&Bf(cl)&&(cl=null),fl!==null&&Bf(fl)&&(fl=null),dl!==null&&Bf(dl)&&(dl=null),Fc.forEach(yg),Bc.forEach(yg)}function zf(i,s){i.blockedOn===s&&(i.blockedOn=null,zh||(zh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Uy)))}var qf=null;function bg(i){qf!==i&&(qf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){qf===i&&(qf=null);for(var s=0;s<i.length;s+=3){var u=i[s],h=i[s+1],w=i[s+2];if(typeof h!="function"){if(Bh(h||u)===null)continue;break}var S=ti(u);S!==null&&(i.splice(s,3),s-=3,Fd(S,{pending:!0,data:w,method:u.method,action:h},h,w))}}))}function Bu(i){function s(_e){return zf(_e,i)}cl!==null&&zf(cl,i),fl!==null&&zf(fl,i),dl!==null&&zf(dl,i),Fc.forEach(s),Bc.forEach(s);for(var u=0;u<hl.length;u++){var h=hl[u];h.blockedOn===i&&(h.blockedOn=null)}for(;0<hl.length&&(u=hl[0],u.blockedOn===null);)vg(u),u.blockedOn===null&&hl.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var w=u[h],S=u[h+1],O=w[Tn]||null;if(typeof S=="function")O||bg(u);else if(O){var ne=null;if(S&&S.hasAttribute("formAction")){if(w=S,O=S[Tn]||null)ne=O.formAction;else if(Bh(w)!==null)continue}else ne=O.action;typeof ne=="function"?u[h+1]=ne:(u.splice(h,3),h-=3),bg(u)}}}function _g(){function i(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(O){return w=O})},focusReset:"manual",scroll:"manual"})}function s(){w!==null&&(w(),w=null),h||setTimeout(u,20)}function u(){if(!h&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,w=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(u,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),w!==null&&(w(),w=null)}}}function qh(i){this._internalRoot=i}Gf.prototype.render=qh.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var u=s.current,h=ms();fg(u,h,i,s,null,null)},Gf.prototype.unmount=qh.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;fg(i.current,2,null,i,null,null),xf(),s[vi]=null}};function Gf(i){this._internalRoot=i}Gf.prototype.unstable_scheduleHydration=function(i){if(i){var s=mi();i={blockedOn:null,target:i,priority:s};for(var u=0;u<hl.length&&s!==0&&s<hl[u].priority;u++);hl.splice(u,0,i),u===0&&vg(i)}};var wg=e.version;if(wg!=="19.2.4")throw Error(r(527,wg,"19.2.4"));le.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(s),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var Oy={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:oe,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hf.isDisabled&&Hf.supportsFiber)try{_t=Hf.inject(Oy),cn=Hf}catch{}}return Gc.createRoot=function(i,s){if(!o(i))throw Error(r(299));var u=!1,h="",w=C0,S=L0,O=I0;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(w=s.onUncaughtError),s.onCaughtError!==void 0&&(S=s.onCaughtError),s.onRecoverableError!==void 0&&(O=s.onRecoverableError)),s=ug(i,1,!1,null,null,u,h,null,w,S,O,_g),i[vi]=s.current,xh(i),new qh(s)},Gc.hydrateRoot=function(i,s,u){if(!o(i))throw Error(r(299));var h=!1,w="",S=C0,O=L0,ne=I0,_e=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onUncaughtError!==void 0&&(S=u.onUncaughtError),u.onCaughtError!==void 0&&(O=u.onCaughtError),u.onRecoverableError!==void 0&&(ne=u.onRecoverableError),u.formState!==void 0&&(_e=u.formState)),s=ug(i,1,!0,s,u??null,h,w,_e,S,O,ne,_g),s.context=cg(null),u=s.current,h=ms(),h=_n(h),w=It(h),w.callback=null,xn(u,w,h),u=h,s.current.lanes=u,Li(s,u),Bo(s),i[vi]=s.current,xh(i),new Gf(s)},Gc.version="19.2.4",Gc}var Mg;function Wy(){if(Mg)return Vh.exports;Mg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Vh.exports=Jy(),Vh.exports}var Ky=Wy();const Xy=jp(Ky),Zy=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),nv=()=>M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[M.jsx("rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5"}),M.jsx("path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"}),M.jsx("line",{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"})]}),iv=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:M.jsx("path",{d:"M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-2.43.05-4.84-.95-6.43-2.8-1.59-1.87-2.32-4.2-1.86-6.33.36-1.72 1.46-3.2 2.9-4.25 1.4-.95 3.03-1.39 4.62-1.4.03 1.56.02 3.12.01 4.67-.13.35-.33.68-.59.95-.59.62-1.37.94-2.18.92-.85-.03-1.66-.35-2.29-.93-.49-.46-.82-1.1-.92-1.78-.06-.43-.09-.86-.1-1.3-.03-2.31.01-4.62.01-6.93.01-2.07.22-4.13.62-6.12.33-1.55 1.1-2.99 2.15-4.15 1.02-1.11 2.38-1.85 3.85-2.09z"})}),rv=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:M.jsx("path",{d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878V14.89h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z"})}),sv=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:M.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})}),ov=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:M.jsx("path",{d:"M12 2C6.477 2 2 6.477 2 12c0 4.237 2.636 7.855 6.356 9.312-.085-.79-.168-1.99.034-2.888.192-.813 1.22-5.166 1.22-5.166s-.3-.6-.3-1.48c0-1.39.806-2.43 1.81-2.43.852 0 1.264.64 1.264 1.408 0 .858-.545 2.14-.828 3.33-.236.995.5 1.807 1.48 1.807 1.778 0 3.144-1.874 3.144-4.58 0-2.393-1.72-4.068-4.177-4.068-2.845 0-4.515 2.135-4.515 4.34 0 .859.331 1.781.745 2.281a.3.3 0 01.069.288l-.278 1.133c-.044.183-.145.223-.335.134-1.249-.58-2.03-2.407-2.03-3.874 0-3.154 2.292-6.052 6.608-6.052 3.469 0 6.165 2.473 6.165 5.776 0 3.447-2.173 6.22-5.19 6.22-1.013 0-1.965-.527-2.29-1.148l-.623 2.378c-.226.869-.835 1.958-1.244 2.621.938.33 1.96.504 3.004.504 5.523 0 10-4.477 10-10S17.523 2 12 2z"})}),Rg=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),kg=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})});function jf(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Wh={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var Dg;function $y(){return Dg||(Dg=1,(function(t,e){(function(n){t.exports=n()})(function(){return(function n(r,o,a){function l(d,p){if(!o[d]){if(!r[d]){var v=typeof jf=="function"&&jf;if(!p&&v)return v(d,!0);if(c)return c(d,!0);var _=new Error("Cannot find module '"+d+"'");throw _.code="MODULE_NOT_FOUND",_}var y=o[d]={exports:{}};r[d][0].call(y.exports,function(N){var A=r[d][1][N];return l(A||N)},y,y.exports,n,r,o,a)}return o[d].exports}for(var c=typeof jf=="function"&&jf,f=0;f<a.length;f++)l(a[f]);return l})({1:[function(n,r,o){var a=n("./utils"),l=n("./support"),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.encode=function(f){for(var d,p,v,_,y,N,A,C=[],T=0,k=f.length,U=k,z=a.getTypeOf(f)!=="string";T<f.length;)U=k-T,v=z?(d=f[T++],p=T<k?f[T++]:0,T<k?f[T++]:0):(d=f.charCodeAt(T++),p=T<k?f.charCodeAt(T++):0,T<k?f.charCodeAt(T++):0),_=d>>2,y=(3&d)<<4|p>>4,N=1<U?(15&p)<<2|v>>6:64,A=2<U?63&v:64,C.push(c.charAt(_)+c.charAt(y)+c.charAt(N)+c.charAt(A));return C.join("")},o.decode=function(f){var d,p,v,_,y,N,A=0,C=0,T="data:";if(f.substr(0,T.length)===T)throw new Error("Invalid base64 input, it looks like a data url.");var k,U=3*(f=f.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(f.charAt(f.length-1)===c.charAt(64)&&U--,f.charAt(f.length-2)===c.charAt(64)&&U--,U%1!=0)throw new Error("Invalid base64 input, bad content length.");for(k=l.uint8array?new Uint8Array(0|U):new Array(0|U);A<f.length;)d=c.indexOf(f.charAt(A++))<<2|(_=c.indexOf(f.charAt(A++)))>>4,p=(15&_)<<4|(y=c.indexOf(f.charAt(A++)))>>2,v=(3&y)<<6|(N=c.indexOf(f.charAt(A++))),k[C++]=d,y!==64&&(k[C++]=p),N!==64&&(k[C++]=v);return k}},{"./support":30,"./utils":32}],2:[function(n,r,o){var a=n("./external"),l=n("./stream/DataWorker"),c=n("./stream/Crc32Probe"),f=n("./stream/DataLengthProbe");function d(p,v,_,y,N){this.compressedSize=p,this.uncompressedSize=v,this.crc32=_,this.compression=y,this.compressedContent=N}d.prototype={getContentWorker:function(){var p=new l(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new f("data_length")),v=this;return p.on("end",function(){if(this.streamInfo.data_length!==v.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),p},getCompressedWorker:function(){return new l(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},d.createWorkerFrom=function(p,v,_){return p.pipe(new c).pipe(new f("uncompressedSize")).pipe(v.compressWorker(_)).pipe(new f("compressedSize")).withStreamInfo("compression",v)},r.exports=d},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,o){var a=n("./stream/GenericWorker");o.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},o.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,o){var a=n("./utils"),l=(function(){for(var c,f=[],d=0;d<256;d++){c=d;for(var p=0;p<8;p++)c=1&c?3988292384^c>>>1:c>>>1;f[d]=c}return f})();r.exports=function(c,f){return c!==void 0&&c.length?a.getTypeOf(c)!=="string"?(function(d,p,v,_){var y=l,N=_+v;d^=-1;for(var A=_;A<N;A++)d=d>>>8^y[255&(d^p[A])];return-1^d})(0|f,c,c.length,0):(function(d,p,v,_){var y=l,N=_+v;d^=-1;for(var A=_;A<N;A++)d=d>>>8^y[255&(d^p.charCodeAt(A))];return-1^d})(0|f,c,c.length,0):0}},{"./utils":32}],5:[function(n,r,o){o.base64=!1,o.binary=!1,o.dir=!1,o.createFolders=!0,o.date=null,o.compression=null,o.compressionOptions=null,o.comment=null,o.unixPermissions=null,o.dosPermissions=null},{}],6:[function(n,r,o){var a=null;a=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:a}},{lie:37}],7:[function(n,r,o){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",l=n("pako"),c=n("./utils"),f=n("./stream/GenericWorker"),d=a?"uint8array":"array";function p(v,_){f.call(this,"FlateWorker/"+v),this._pako=null,this._pakoAction=v,this._pakoOptions=_,this.meta={}}o.magic="\b\0",c.inherits(p,f),p.prototype.processChunk=function(v){this.meta=v.meta,this._pako===null&&this._createPako(),this._pako.push(c.transformTo(d,v.data),!1)},p.prototype.flush=function(){f.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},p.prototype.cleanUp=function(){f.prototype.cleanUp.call(this),this._pako=null},p.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var v=this;this._pako.onData=function(_){v.push({data:_,meta:v.meta})}},o.compressWorker=function(v){return new p("Deflate",v)},o.uncompressWorker=function(){return new p("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,o){function a(y,N){var A,C="";for(A=0;A<N;A++)C+=String.fromCharCode(255&y),y>>>=8;return C}function l(y,N,A,C,T,k){var U,z,q=y.file,J=y.compression,H=k!==d.utf8encode,Z=c.transformTo("string",k(q.name)),W=c.transformTo("string",d.utf8encode(q.name)),ae=q.comment,B=c.transformTo("string",k(ae)),D=c.transformTo("string",d.utf8encode(ae)),X=W.length!==q.name.length,I=D.length!==ae.length,ce="",oe="",le="",me=q.dir,ge=q.date,Ne={crc32:0,compressedSize:0,uncompressedSize:0};N&&!A||(Ne.crc32=y.crc32,Ne.compressedSize=y.compressedSize,Ne.uncompressedSize=y.uncompressedSize);var Y=0;N&&(Y|=8),H||!X&&!I||(Y|=2048);var R=0,G=0;me&&(R|=16),T==="UNIX"?(G=798,R|=(function(ie,ve){var Te=ie;return ie||(Te=ve?16893:33204),(65535&Te)<<16})(q.unixPermissions,me)):(G=20,R|=(function(ie){return 63&(ie||0)})(q.dosPermissions)),U=ge.getUTCHours(),U<<=6,U|=ge.getUTCMinutes(),U<<=5,U|=ge.getUTCSeconds()/2,z=ge.getUTCFullYear()-1980,z<<=4,z|=ge.getUTCMonth()+1,z<<=5,z|=ge.getUTCDate(),X&&(oe=a(1,1)+a(p(Z),4)+W,ce+="up"+a(oe.length,2)+oe),I&&(le=a(1,1)+a(p(B),4)+D,ce+="uc"+a(le.length,2)+le);var K="";return K+=`
\0`,K+=a(Y,2),K+=J.magic,K+=a(U,2),K+=a(z,2),K+=a(Ne.crc32,4),K+=a(Ne.compressedSize,4),K+=a(Ne.uncompressedSize,4),K+=a(Z.length,2),K+=a(ce.length,2),{fileRecord:v.LOCAL_FILE_HEADER+K+Z+ce,dirRecord:v.CENTRAL_FILE_HEADER+a(G,2)+K+a(B.length,2)+"\0\0\0\0"+a(R,4)+a(C,4)+Z+ce+B}}var c=n("../utils"),f=n("../stream/GenericWorker"),d=n("../utf8"),p=n("../crc32"),v=n("../signature");function _(y,N,A,C){f.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=N,this.zipPlatform=A,this.encodeFileName=C,this.streamFiles=y,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}c.inherits(_,f),_.prototype.push=function(y){var N=y.meta.percent||0,A=this.entriesCount,C=this._sources.length;this.accumulate?this.contentBuffer.push(y):(this.bytesWritten+=y.data.length,f.prototype.push.call(this,{data:y.data,meta:{currentFile:this.currentFile,percent:A?(N+100*(A-C-1))/A:100}}))},_.prototype.openedSource=function(y){this.currentSourceOffset=this.bytesWritten,this.currentFile=y.file.name;var N=this.streamFiles&&!y.file.dir;if(N){var A=l(y,N,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:A.fileRecord,meta:{percent:0}})}else this.accumulate=!0},_.prototype.closedSource=function(y){this.accumulate=!1;var N=this.streamFiles&&!y.file.dir,A=l(y,N,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(A.dirRecord),N)this.push({data:(function(C){return v.DATA_DESCRIPTOR+a(C.crc32,4)+a(C.compressedSize,4)+a(C.uncompressedSize,4)})(y),meta:{percent:100}});else for(this.push({data:A.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},_.prototype.flush=function(){for(var y=this.bytesWritten,N=0;N<this.dirRecords.length;N++)this.push({data:this.dirRecords[N],meta:{percent:100}});var A=this.bytesWritten-y,C=(function(T,k,U,z,q){var J=c.transformTo("string",q(z));return v.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(T,2)+a(T,2)+a(k,4)+a(U,4)+a(J.length,2)+J})(this.dirRecords.length,A,y,this.zipComment,this.encodeFileName);this.push({data:C,meta:{percent:100}})},_.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},_.prototype.registerPrevious=function(y){this._sources.push(y);var N=this;return y.on("data",function(A){N.processChunk(A)}),y.on("end",function(){N.closedSource(N.previous.streamInfo),N._sources.length?N.prepareNextSource():N.end()}),y.on("error",function(A){N.error(A)}),this},_.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},_.prototype.error=function(y){var N=this._sources;if(!f.prototype.error.call(this,y))return!1;for(var A=0;A<N.length;A++)try{N[A].error(y)}catch{}return!0},_.prototype.lock=function(){f.prototype.lock.call(this);for(var y=this._sources,N=0;N<y.length;N++)y[N].lock()},r.exports=_},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,o){var a=n("../compressions"),l=n("./ZipFileWorker");o.generateWorker=function(c,f,d){var p=new l(f.streamFiles,d,f.platform,f.encodeFileName),v=0;try{c.forEach(function(_,y){v++;var N=(function(k,U){var z=k||U,q=a[z];if(!q)throw new Error(z+" is not a valid compression method !");return q})(y.options.compression,f.compression),A=y.options.compressionOptions||f.compressionOptions||{},C=y.dir,T=y.date;y._compressWorker(N,A).withStreamInfo("file",{name:_,dir:C,date:T,comment:y.comment||"",unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions}).pipe(p)}),p.entriesCount=v}catch(_){p.error(_)}return p}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,o){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new a;for(var c in this)typeof this[c]!="function"&&(l[c]=this[c]);return l}}(a.prototype=n("./object")).loadAsync=n("./load"),a.support=n("./support"),a.defaults=n("./defaults"),a.version="3.10.1",a.loadAsync=function(l,c){return new a().loadAsync(l,c)},a.external=n("./external"),r.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,o){var a=n("./utils"),l=n("./external"),c=n("./utf8"),f=n("./zipEntries"),d=n("./stream/Crc32Probe"),p=n("./nodejsUtils");function v(_){return new l.Promise(function(y,N){var A=_.decompressed.getContentWorker().pipe(new d);A.on("error",function(C){N(C)}).on("end",function(){A.streamInfo.crc32!==_.decompressed.crc32?N(new Error("Corrupted zip : CRC32 mismatch")):y()}).resume()})}r.exports=function(_,y){var N=this;return y=a.extend(y||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:c.utf8decode}),p.isNode&&p.isStream(_)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",_,!0,y.optimizedBinaryString,y.base64).then(function(A){var C=new f(y);return C.load(A),C}).then(function(A){var C=[l.Promise.resolve(A)],T=A.files;if(y.checkCRC32)for(var k=0;k<T.length;k++)C.push(v(T[k]));return l.Promise.all(C)}).then(function(A){for(var C=A.shift(),T=C.files,k=0;k<T.length;k++){var U=T[k],z=U.fileNameStr,q=a.resolve(U.fileNameStr);N.file(q,U.decompressed,{binary:!0,optimizedBinaryString:!0,date:U.date,dir:U.dir,comment:U.fileCommentStr.length?U.fileCommentStr:null,unixPermissions:U.unixPermissions,dosPermissions:U.dosPermissions,createFolders:y.createFolders}),U.dir||(N.file(q).unsafeOriginalName=z)}return C.zipComment.length&&(N.comment=C.zipComment),N})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,o){var a=n("../utils"),l=n("../stream/GenericWorker");function c(f,d){l.call(this,"Nodejs stream input adapter for "+f),this._upstreamEnded=!1,this._bindStream(d)}a.inherits(c,l),c.prototype._bindStream=function(f){var d=this;(this._stream=f).pause(),f.on("data",function(p){d.push({data:p,meta:{percent:0}})}).on("error",function(p){d.isPaused?this.generatedError=p:d.error(p)}).on("end",function(){d.isPaused?d._upstreamEnded=!0:d.end()})},c.prototype.pause=function(){return!!l.prototype.pause.call(this)&&(this._stream.pause(),!0)},c.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=c},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,o){var a=n("readable-stream").Readable;function l(c,f,d){a.call(this,f),this._helper=c;var p=this;c.on("data",function(v,_){p.push(v)||p._helper.pause(),d&&d(_)}).on("error",function(v){p.emit("error",v)}).on("end",function(){p.push(null)})}n("../utils").inherits(l,a),l.prototype._read=function(){this._helper.resume()},r.exports=l},{"../utils":32,"readable-stream":16}],14:[function(n,r,o){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,l){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,l);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,l)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var l=new Buffer(a);return l.fill(0),l},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(n,r,o){function a(q,J,H){var Z,W=c.getTypeOf(J),ae=c.extend(H||{},p);ae.date=ae.date||new Date,ae.compression!==null&&(ae.compression=ae.compression.toUpperCase()),typeof ae.unixPermissions=="string"&&(ae.unixPermissions=parseInt(ae.unixPermissions,8)),ae.unixPermissions&&16384&ae.unixPermissions&&(ae.dir=!0),ae.dosPermissions&&16&ae.dosPermissions&&(ae.dir=!0),ae.dir&&(q=T(q)),ae.createFolders&&(Z=C(q))&&k.call(this,Z,!0);var B=W==="string"&&ae.binary===!1&&ae.base64===!1;H&&H.binary!==void 0||(ae.binary=!B),(J instanceof v&&J.uncompressedSize===0||ae.dir||!J||J.length===0)&&(ae.base64=!1,ae.binary=!0,J="",ae.compression="STORE",W="string");var D=null;D=J instanceof v||J instanceof f?J:N.isNode&&N.isStream(J)?new A(q,J):c.prepareContent(q,J,ae.binary,ae.optimizedBinaryString,ae.base64);var X=new _(q,D,ae);this.files[q]=X}var l=n("./utf8"),c=n("./utils"),f=n("./stream/GenericWorker"),d=n("./stream/StreamHelper"),p=n("./defaults"),v=n("./compressedObject"),_=n("./zipObject"),y=n("./generate"),N=n("./nodejsUtils"),A=n("./nodejs/NodejsStreamInputAdapter"),C=function(q){q.slice(-1)==="/"&&(q=q.substring(0,q.length-1));var J=q.lastIndexOf("/");return 0<J?q.substring(0,J):""},T=function(q){return q.slice(-1)!=="/"&&(q+="/"),q},k=function(q,J){return J=J!==void 0?J:p.createFolders,q=T(q),this.files[q]||a.call(this,q,null,{dir:!0,createFolders:J}),this.files[q]};function U(q){return Object.prototype.toString.call(q)==="[object RegExp]"}var z={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(q){var J,H,Z;for(J in this.files)Z=this.files[J],(H=J.slice(this.root.length,J.length))&&J.slice(0,this.root.length)===this.root&&q(H,Z)},filter:function(q){var J=[];return this.forEach(function(H,Z){q(H,Z)&&J.push(Z)}),J},file:function(q,J,H){if(arguments.length!==1)return q=this.root+q,a.call(this,q,J,H),this;if(U(q)){var Z=q;return this.filter(function(ae,B){return!B.dir&&Z.test(ae)})}var W=this.files[this.root+q];return W&&!W.dir?W:null},folder:function(q){if(!q)return this;if(U(q))return this.filter(function(W,ae){return ae.dir&&q.test(W)});var J=this.root+q,H=k.call(this,J),Z=this.clone();return Z.root=H.name,Z},remove:function(q){q=this.root+q;var J=this.files[q];if(J||(q.slice(-1)!=="/"&&(q+="/"),J=this.files[q]),J&&!J.dir)delete this.files[q];else for(var H=this.filter(function(W,ae){return ae.name.slice(0,q.length)===q}),Z=0;Z<H.length;Z++)delete this.files[H[Z].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(q){var J,H={};try{if((H=c.extend(q||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode})).type=H.type.toLowerCase(),H.compression=H.compression.toUpperCase(),H.type==="binarystring"&&(H.type="string"),!H.type)throw new Error("No output type specified.");c.checkSupport(H.type),H.platform!=="darwin"&&H.platform!=="freebsd"&&H.platform!=="linux"&&H.platform!=="sunos"||(H.platform="UNIX"),H.platform==="win32"&&(H.platform="DOS");var Z=H.comment||this.comment||"";J=y.generateWorker(this,H,Z)}catch(W){(J=new f("error")).error(W)}return new d(J,H.type||"string",H.mimeType)},generateAsync:function(q,J){return this.generateInternalStream(q).accumulate(J)},generateNodeStream:function(q,J){return(q=q||{}).type||(q.type="nodebuffer"),this.generateInternalStream(q).toNodejsStream(J)}};r.exports=z},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,o){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,o){var a=n("./DataReader");function l(c){a.call(this,c);for(var f=0;f<this.data.length;f++)c[f]=255&c[f]}n("../utils").inherits(l,a),l.prototype.byteAt=function(c){return this.data[this.zero+c]},l.prototype.lastIndexOfSignature=function(c){for(var f=c.charCodeAt(0),d=c.charCodeAt(1),p=c.charCodeAt(2),v=c.charCodeAt(3),_=this.length-4;0<=_;--_)if(this.data[_]===f&&this.data[_+1]===d&&this.data[_+2]===p&&this.data[_+3]===v)return _-this.zero;return-1},l.prototype.readAndCheckSignature=function(c){var f=c.charCodeAt(0),d=c.charCodeAt(1),p=c.charCodeAt(2),v=c.charCodeAt(3),_=this.readData(4);return f===_[0]&&d===_[1]&&p===_[2]&&v===_[3]},l.prototype.readData=function(c){if(this.checkOffset(c),c===0)return[];var f=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,f},r.exports=l},{"../utils":32,"./DataReader":18}],18:[function(n,r,o){var a=n("../utils");function l(c){this.data=c,this.length=c.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(c){this.checkIndex(this.index+c)},checkIndex:function(c){if(this.length<this.zero+c||c<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+c+"). Corrupted zip ?")},setIndex:function(c){this.checkIndex(c),this.index=c},skip:function(c){this.setIndex(this.index+c)},byteAt:function(){},readInt:function(c){var f,d=0;for(this.checkOffset(c),f=this.index+c-1;f>=this.index;f--)d=(d<<8)+this.byteAt(f);return this.index+=c,d},readString:function(c){return a.transformTo("string",this.readData(c))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var c=this.readInt(4);return new Date(Date.UTC(1980+(c>>25&127),(c>>21&15)-1,c>>16&31,c>>11&31,c>>5&63,(31&c)<<1))}},r.exports=l},{"../utils":32}],19:[function(n,r,o){var a=n("./Uint8ArrayReader");function l(c){a.call(this,c)}n("../utils").inherits(l,a),l.prototype.readData=function(c){this.checkOffset(c);var f=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,f},r.exports=l},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,o){var a=n("./DataReader");function l(c){a.call(this,c)}n("../utils").inherits(l,a),l.prototype.byteAt=function(c){return this.data.charCodeAt(this.zero+c)},l.prototype.lastIndexOfSignature=function(c){return this.data.lastIndexOf(c)-this.zero},l.prototype.readAndCheckSignature=function(c){return c===this.readData(4)},l.prototype.readData=function(c){this.checkOffset(c);var f=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,f},r.exports=l},{"../utils":32,"./DataReader":18}],21:[function(n,r,o){var a=n("./ArrayReader");function l(c){a.call(this,c)}n("../utils").inherits(l,a),l.prototype.readData=function(c){if(this.checkOffset(c),c===0)return new Uint8Array(0);var f=this.data.subarray(this.zero+this.index,this.zero+this.index+c);return this.index+=c,f},r.exports=l},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,o){var a=n("../utils"),l=n("../support"),c=n("./ArrayReader"),f=n("./StringReader"),d=n("./NodeBufferReader"),p=n("./Uint8ArrayReader");r.exports=function(v){var _=a.getTypeOf(v);return a.checkSupport(_),_!=="string"||l.uint8array?_==="nodebuffer"?new d(v):l.uint8array?new p(a.transformTo("uint8array",v)):new c(a.transformTo("array",v)):new f(v)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,o){o.LOCAL_FILE_HEADER="PK",o.CENTRAL_FILE_HEADER="PK",o.CENTRAL_DIRECTORY_END="PK",o.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",o.ZIP64_CENTRAL_DIRECTORY_END="PK",o.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,o){var a=n("./GenericWorker"),l=n("../utils");function c(f){a.call(this,"ConvertWorker to "+f),this.destType=f}l.inherits(c,a),c.prototype.processChunk=function(f){this.push({data:l.transformTo(this.destType,f.data),meta:f.meta})},r.exports=c},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,o){var a=n("./GenericWorker"),l=n("../crc32");function c(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(c,a),c.prototype.processChunk=function(f){this.streamInfo.crc32=l(f.data,this.streamInfo.crc32||0),this.push(f)},r.exports=c},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,o){var a=n("../utils"),l=n("./GenericWorker");function c(f){l.call(this,"DataLengthProbe for "+f),this.propName=f,this.withStreamInfo(f,0)}a.inherits(c,l),c.prototype.processChunk=function(f){if(f){var d=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=d+f.data.length}l.prototype.processChunk.call(this,f)},r.exports=c},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,o){var a=n("../utils"),l=n("./GenericWorker");function c(f){l.call(this,"DataWorker");var d=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,f.then(function(p){d.dataIsReady=!0,d.data=p,d.max=p&&p.length||0,d.type=a.getTypeOf(p),d.isPaused||d._tickAndRepeat()},function(p){d.error(p)})}a.inherits(c,l),c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},c.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},c.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},c.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var f=null,d=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":f=this.data.substring(this.index,d);break;case"uint8array":f=this.data.subarray(this.index,d);break;case"array":case"nodebuffer":f=this.data.slice(this.index,d)}return this.index=d,this.push({data:f,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=c},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,o){function a(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return!this.isFinished&&(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,c){return this._listeners[l].push(c),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,c){if(this._listeners[l])for(var f=0;f<this._listeners[l].length;f++)this._listeners[l][f].call(this,c)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var c=this;return l.on("data",function(f){c.processChunk(f)}),l.on("end",function(){c.end()}),l.on("error",function(f){c.error(f)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var l=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,c){return this.extraStreamInfo[l]=c,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},r.exports=a},{}],29:[function(n,r,o){var a=n("../utils"),l=n("./ConvertWorker"),c=n("./GenericWorker"),f=n("../base64"),d=n("../support"),p=n("../external"),v=null;if(d.nodestream)try{v=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function _(N,A){return new p.Promise(function(C,T){var k=[],U=N._internalType,z=N._outputType,q=N._mimeType;N.on("data",function(J,H){k.push(J),A&&A(H)}).on("error",function(J){k=[],T(J)}).on("end",function(){try{var J=(function(H,Z,W){switch(H){case"blob":return a.newBlob(a.transformTo("arraybuffer",Z),W);case"base64":return f.encode(Z);default:return a.transformTo(H,Z)}})(z,(function(H,Z){var W,ae=0,B=null,D=0;for(W=0;W<Z.length;W++)D+=Z[W].length;switch(H){case"string":return Z.join("");case"array":return Array.prototype.concat.apply([],Z);case"uint8array":for(B=new Uint8Array(D),W=0;W<Z.length;W++)B.set(Z[W],ae),ae+=Z[W].length;return B;case"nodebuffer":return Buffer.concat(Z);default:throw new Error("concat : unsupported type '"+H+"'")}})(U,k),q);C(J)}catch(H){T(H)}k=[]}).resume()})}function y(N,A,C){var T=A;switch(A){case"blob":case"arraybuffer":T="uint8array";break;case"base64":T="string"}try{this._internalType=T,this._outputType=A,this._mimeType=C,a.checkSupport(T),this._worker=N.pipe(new l(T)),N.lock()}catch(k){this._worker=new c("error"),this._worker.error(k)}}y.prototype={accumulate:function(N){return _(this,N)},on:function(N,A){var C=this;return N==="data"?this._worker.on(N,function(T){A.call(C,T.data,T.meta)}):this._worker.on(N,function(){a.delay(A,arguments,C)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(N){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new v(this,{objectMode:this._outputType!=="nodebuffer"},N)}},r.exports=y},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,o){if(o.base64=!0,o.array=!0,o.string=!0,o.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",o.nodebuffer=typeof Buffer<"u",o.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")o.blob=!1;else{var a=new ArrayBuffer(0);try{o.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);l.append(a),o.blob=l.getBlob("application/zip").size===0}catch{o.blob=!1}}}try{o.nodestream=!!n("readable-stream").Readable}catch{o.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,o){for(var a=n("./utils"),l=n("./support"),c=n("./nodejsUtils"),f=n("./stream/GenericWorker"),d=new Array(256),p=0;p<256;p++)d[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;d[254]=d[254]=1;function v(){f.call(this,"utf-8 decode"),this.leftOver=null}function _(){f.call(this,"utf-8 encode")}o.utf8encode=function(y){return l.nodebuffer?c.newBufferFrom(y,"utf-8"):(function(N){var A,C,T,k,U,z=N.length,q=0;for(k=0;k<z;k++)(64512&(C=N.charCodeAt(k)))==55296&&k+1<z&&(64512&(T=N.charCodeAt(k+1)))==56320&&(C=65536+(C-55296<<10)+(T-56320),k++),q+=C<128?1:C<2048?2:C<65536?3:4;for(A=l.uint8array?new Uint8Array(q):new Array(q),k=U=0;U<q;k++)(64512&(C=N.charCodeAt(k)))==55296&&k+1<z&&(64512&(T=N.charCodeAt(k+1)))==56320&&(C=65536+(C-55296<<10)+(T-56320),k++),C<128?A[U++]=C:(C<2048?A[U++]=192|C>>>6:(C<65536?A[U++]=224|C>>>12:(A[U++]=240|C>>>18,A[U++]=128|C>>>12&63),A[U++]=128|C>>>6&63),A[U++]=128|63&C);return A})(y)},o.utf8decode=function(y){return l.nodebuffer?a.transformTo("nodebuffer",y).toString("utf-8"):(function(N){var A,C,T,k,U=N.length,z=new Array(2*U);for(A=C=0;A<U;)if((T=N[A++])<128)z[C++]=T;else if(4<(k=d[T]))z[C++]=65533,A+=k-1;else{for(T&=k===2?31:k===3?15:7;1<k&&A<U;)T=T<<6|63&N[A++],k--;1<k?z[C++]=65533:T<65536?z[C++]=T:(T-=65536,z[C++]=55296|T>>10&1023,z[C++]=56320|1023&T)}return z.length!==C&&(z.subarray?z=z.subarray(0,C):z.length=C),a.applyFromCharCode(z)})(y=a.transformTo(l.uint8array?"uint8array":"array",y))},a.inherits(v,f),v.prototype.processChunk=function(y){var N=a.transformTo(l.uint8array?"uint8array":"array",y.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var A=N;(N=new Uint8Array(A.length+this.leftOver.length)).set(this.leftOver,0),N.set(A,this.leftOver.length)}else N=this.leftOver.concat(N);this.leftOver=null}var C=(function(k,U){var z;for((U=U||k.length)>k.length&&(U=k.length),z=U-1;0<=z&&(192&k[z])==128;)z--;return z<0||z===0?U:z+d[k[z]]>U?z:U})(N),T=N;C!==N.length&&(l.uint8array?(T=N.subarray(0,C),this.leftOver=N.subarray(C,N.length)):(T=N.slice(0,C),this.leftOver=N.slice(C,N.length))),this.push({data:o.utf8decode(T),meta:y.meta})},v.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:o.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},o.Utf8DecodeWorker=v,a.inherits(_,f),_.prototype.processChunk=function(y){this.push({data:o.utf8encode(y.data),meta:y.meta})},o.Utf8EncodeWorker=_},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,o){var a=n("./support"),l=n("./base64"),c=n("./nodejsUtils"),f=n("./external");function d(A){return A}function p(A,C){for(var T=0;T<A.length;++T)C[T]=255&A.charCodeAt(T);return C}n("setimmediate"),o.newBlob=function(A,C){o.checkSupport("blob");try{return new Blob([A],{type:C})}catch{try{var T=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return T.append(A),T.getBlob(C)}catch{throw new Error("Bug : can't construct the Blob.")}}};var v={stringifyByChunk:function(A,C,T){var k=[],U=0,z=A.length;if(z<=T)return String.fromCharCode.apply(null,A);for(;U<z;)C==="array"||C==="nodebuffer"?k.push(String.fromCharCode.apply(null,A.slice(U,Math.min(U+T,z)))):k.push(String.fromCharCode.apply(null,A.subarray(U,Math.min(U+T,z)))),U+=T;return k.join("")},stringifyByChar:function(A){for(var C="",T=0;T<A.length;T++)C+=String.fromCharCode(A[T]);return C},applyCanBeUsed:{uint8array:(function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,c.allocBuffer(1)).length===1}catch{return!1}})()}};function _(A){var C=65536,T=o.getTypeOf(A),k=!0;if(T==="uint8array"?k=v.applyCanBeUsed.uint8array:T==="nodebuffer"&&(k=v.applyCanBeUsed.nodebuffer),k)for(;1<C;)try{return v.stringifyByChunk(A,T,C)}catch{C=Math.floor(C/2)}return v.stringifyByChar(A)}function y(A,C){for(var T=0;T<A.length;T++)C[T]=A[T];return C}o.applyFromCharCode=_;var N={};N.string={string:d,array:function(A){return p(A,new Array(A.length))},arraybuffer:function(A){return N.string.uint8array(A).buffer},uint8array:function(A){return p(A,new Uint8Array(A.length))},nodebuffer:function(A){return p(A,c.allocBuffer(A.length))}},N.array={string:_,array:d,arraybuffer:function(A){return new Uint8Array(A).buffer},uint8array:function(A){return new Uint8Array(A)},nodebuffer:function(A){return c.newBufferFrom(A)}},N.arraybuffer={string:function(A){return _(new Uint8Array(A))},array:function(A){return y(new Uint8Array(A),new Array(A.byteLength))},arraybuffer:d,uint8array:function(A){return new Uint8Array(A)},nodebuffer:function(A){return c.newBufferFrom(new Uint8Array(A))}},N.uint8array={string:_,array:function(A){return y(A,new Array(A.length))},arraybuffer:function(A){return A.buffer},uint8array:d,nodebuffer:function(A){return c.newBufferFrom(A)}},N.nodebuffer={string:_,array:function(A){return y(A,new Array(A.length))},arraybuffer:function(A){return N.nodebuffer.uint8array(A).buffer},uint8array:function(A){return y(A,new Uint8Array(A.length))},nodebuffer:d},o.transformTo=function(A,C){if(C=C||"",!A)return C;o.checkSupport(A);var T=o.getTypeOf(C);return N[T][A](C)},o.resolve=function(A){for(var C=A.split("/"),T=[],k=0;k<C.length;k++){var U=C[k];U==="."||U===""&&k!==0&&k!==C.length-1||(U===".."?T.pop():T.push(U))}return T.join("/")},o.getTypeOf=function(A){return typeof A=="string"?"string":Object.prototype.toString.call(A)==="[object Array]"?"array":a.nodebuffer&&c.isBuffer(A)?"nodebuffer":a.uint8array&&A instanceof Uint8Array?"uint8array":a.arraybuffer&&A instanceof ArrayBuffer?"arraybuffer":void 0},o.checkSupport=function(A){if(!a[A.toLowerCase()])throw new Error(A+" is not supported by this platform")},o.MAX_VALUE_16BITS=65535,o.MAX_VALUE_32BITS=-1,o.pretty=function(A){var C,T,k="";for(T=0;T<(A||"").length;T++)k+="\\x"+((C=A.charCodeAt(T))<16?"0":"")+C.toString(16).toUpperCase();return k},o.delay=function(A,C,T){setImmediate(function(){A.apply(T||null,C||[])})},o.inherits=function(A,C){function T(){}T.prototype=C.prototype,A.prototype=new T},o.extend=function(){var A,C,T={};for(A=0;A<arguments.length;A++)for(C in arguments[A])Object.prototype.hasOwnProperty.call(arguments[A],C)&&T[C]===void 0&&(T[C]=arguments[A][C]);return T},o.prepareContent=function(A,C,T,k,U){return f.Promise.resolve(C).then(function(z){return a.blob&&(z instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(z))!==-1)&&typeof FileReader<"u"?new f.Promise(function(q,J){var H=new FileReader;H.onload=function(Z){q(Z.target.result)},H.onerror=function(Z){J(Z.target.error)},H.readAsArrayBuffer(z)}):z}).then(function(z){var q=o.getTypeOf(z);return q?(q==="arraybuffer"?z=o.transformTo("uint8array",z):q==="string"&&(U?z=l.decode(z):T&&k!==!0&&(z=(function(J){return p(J,a.uint8array?new Uint8Array(J.length):new Array(J.length))})(z))),z):f.Promise.reject(new Error("Can't read the data of '"+A+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,o){var a=n("./reader/readerFor"),l=n("./utils"),c=n("./signature"),f=n("./zipEntry"),d=n("./support");function p(v){this.files=[],this.loadOptions=v}p.prototype={checkSignature:function(v){if(!this.reader.readAndCheckSignature(v)){this.reader.index-=4;var _=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(_)+", expected "+l.pretty(v)+")")}},isSignature:function(v,_){var y=this.reader.index;this.reader.setIndex(v);var N=this.reader.readString(4)===_;return this.reader.setIndex(y),N},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var v=this.reader.readData(this.zipCommentLength),_=d.uint8array?"uint8array":"array",y=l.transformTo(_,v);this.zipComment=this.loadOptions.decodeFileName(y)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var v,_,y,N=this.zip64EndOfCentralSize-44;0<N;)v=this.reader.readInt(2),_=this.reader.readInt(4),y=this.reader.readData(_),this.zip64ExtensibleData[v]={id:v,length:_,value:y}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var v,_;for(v=0;v<this.files.length;v++)_=this.files[v],this.reader.setIndex(_.localHeaderOffset),this.checkSignature(c.LOCAL_FILE_HEADER),_.readLocalPart(this.reader),_.handleUTF8(),_.processAttributes()},readCentralDir:function(){var v;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(c.CENTRAL_FILE_HEADER);)(v=new f({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(v);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var v=this.reader.lastIndexOfSignature(c.CENTRAL_DIRECTORY_END);if(v<0)throw this.isSignature(0,c.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(v);var _=v;if(this.checkSignature(c.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(v=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(v),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,c.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var y=this.centralDirOffset+this.centralDirSize;this.zip64&&(y+=20,y+=12+this.zip64EndOfCentralSize);var N=_-y;if(0<N)this.isSignature(_,c.CENTRAL_FILE_HEADER)||(this.reader.zero=N);else if(N<0)throw new Error("Corrupted zip: missing "+Math.abs(N)+" bytes.")},prepareReader:function(v){this.reader=a(v)},load:function(v){this.prepareReader(v),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=p},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,o){var a=n("./reader/readerFor"),l=n("./utils"),c=n("./compressedObject"),f=n("./crc32"),d=n("./utf8"),p=n("./compressions"),v=n("./support");function _(y,N){this.options=y,this.loadOptions=N}_.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(y){var N,A;if(y.skip(22),this.fileNameLength=y.readInt(2),A=y.readInt(2),this.fileName=y.readData(this.fileNameLength),y.skip(A),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((N=(function(C){for(var T in p)if(Object.prototype.hasOwnProperty.call(p,T)&&p[T].magic===C)return p[T];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new c(this.compressedSize,this.uncompressedSize,this.crc32,N,y.readData(this.compressedSize))},readCentralPart:function(y){this.versionMadeBy=y.readInt(2),y.skip(2),this.bitFlag=y.readInt(2),this.compressionMethod=y.readString(2),this.date=y.readDate(),this.crc32=y.readInt(4),this.compressedSize=y.readInt(4),this.uncompressedSize=y.readInt(4);var N=y.readInt(2);if(this.extraFieldsLength=y.readInt(2),this.fileCommentLength=y.readInt(2),this.diskNumberStart=y.readInt(2),this.internalFileAttributes=y.readInt(2),this.externalFileAttributes=y.readInt(4),this.localHeaderOffset=y.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");y.skip(N),this.readExtraFields(y),this.parseZIP64ExtraField(y),this.fileComment=y.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var y=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),y==0&&(this.dosPermissions=63&this.externalFileAttributes),y==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var y=a(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=y.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=y.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=y.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=y.readInt(4))}},readExtraFields:function(y){var N,A,C,T=y.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});y.index+4<T;)N=y.readInt(2),A=y.readInt(2),C=y.readData(A),this.extraFields[N]={id:N,length:A,value:C};y.setIndex(T)},handleUTF8:function(){var y=v.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=d.utf8decode(this.fileName),this.fileCommentStr=d.utf8decode(this.fileComment);else{var N=this.findExtraFieldUnicodePath();if(N!==null)this.fileNameStr=N;else{var A=l.transformTo(y,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(A)}var C=this.findExtraFieldUnicodeComment();if(C!==null)this.fileCommentStr=C;else{var T=l.transformTo(y,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(T)}}},findExtraFieldUnicodePath:function(){var y=this.extraFields[28789];if(y){var N=a(y.value);return N.readInt(1)!==1||f(this.fileName)!==N.readInt(4)?null:d.utf8decode(N.readData(y.length-5))}return null},findExtraFieldUnicodeComment:function(){var y=this.extraFields[25461];if(y){var N=a(y.value);return N.readInt(1)!==1||f(this.fileComment)!==N.readInt(4)?null:d.utf8decode(N.readData(y.length-5))}return null}},r.exports=_},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,o){function a(N,A,C){this.name=N,this.dir=C.dir,this.date=C.date,this.comment=C.comment,this.unixPermissions=C.unixPermissions,this.dosPermissions=C.dosPermissions,this._data=A,this._dataBinary=C.binary,this.options={compression:C.compression,compressionOptions:C.compressionOptions}}var l=n("./stream/StreamHelper"),c=n("./stream/DataWorker"),f=n("./utf8"),d=n("./compressedObject"),p=n("./stream/GenericWorker");a.prototype={internalStream:function(N){var A=null,C="string";try{if(!N)throw new Error("No output type specified.");var T=(C=N.toLowerCase())==="string"||C==="text";C!=="binarystring"&&C!=="text"||(C="string"),A=this._decompressWorker();var k=!this._dataBinary;k&&!T&&(A=A.pipe(new f.Utf8EncodeWorker)),!k&&T&&(A=A.pipe(new f.Utf8DecodeWorker))}catch(U){(A=new p("error")).error(U)}return new l(A,C,"")},async:function(N,A){return this.internalStream(N).accumulate(A)},nodeStream:function(N,A){return this.internalStream(N||"nodebuffer").toNodejsStream(A)},_compressWorker:function(N,A){if(this._data instanceof d&&this._data.compression.magic===N.magic)return this._data.getCompressedWorker();var C=this._decompressWorker();return this._dataBinary||(C=C.pipe(new f.Utf8EncodeWorker)),d.createWorkerFrom(C,N,A)},_decompressWorker:function(){return this._data instanceof d?this._data.getContentWorker():this._data instanceof p?this._data:new c(this._data)}};for(var v=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],_=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},y=0;y<v.length;y++)a.prototype[v[y]]=_;r.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,o){(function(a){var l,c,f=a.MutationObserver||a.WebKitMutationObserver;if(f){var d=0,p=new f(N),v=a.document.createTextNode("");p.observe(v,{characterData:!0}),l=function(){v.data=d=++d%2}}else if(a.setImmediate||a.MessageChannel===void 0)l="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var A=a.document.createElement("script");A.onreadystatechange=function(){N(),A.onreadystatechange=null,A.parentNode.removeChild(A),A=null},a.document.documentElement.appendChild(A)}:function(){setTimeout(N,0)};else{var _=new a.MessageChannel;_.port1.onmessage=N,l=function(){_.port2.postMessage(0)}}var y=[];function N(){var A,C;c=!0;for(var T=y.length;T;){for(C=y,y=[],A=-1;++A<T;)C[A]();T=y.length}c=!1}r.exports=function(A){y.push(A)!==1||c||l()}}).call(this,typeof Vf<"u"?Vf:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,o){var a=n("immediate");function l(){}var c={},f=["REJECTED"],d=["FULFILLED"],p=["PENDING"];function v(T){if(typeof T!="function")throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,T!==l&&A(this,T)}function _(T,k,U){this.promise=T,typeof k=="function"&&(this.onFulfilled=k,this.callFulfilled=this.otherCallFulfilled),typeof U=="function"&&(this.onRejected=U,this.callRejected=this.otherCallRejected)}function y(T,k,U){a(function(){var z;try{z=k(U)}catch(q){return c.reject(T,q)}z===T?c.reject(T,new TypeError("Cannot resolve promise with itself")):c.resolve(T,z)})}function N(T){var k=T&&T.then;if(T&&(typeof T=="object"||typeof T=="function")&&typeof k=="function")return function(){k.apply(T,arguments)}}function A(T,k){var U=!1;function z(H){U||(U=!0,c.reject(T,H))}function q(H){U||(U=!0,c.resolve(T,H))}var J=C(function(){k(q,z)});J.status==="error"&&z(J.value)}function C(T,k){var U={};try{U.value=T(k),U.status="success"}catch(z){U.status="error",U.value=z}return U}(r.exports=v).prototype.finally=function(T){if(typeof T!="function")return this;var k=this.constructor;return this.then(function(U){return k.resolve(T()).then(function(){return U})},function(U){return k.resolve(T()).then(function(){throw U})})},v.prototype.catch=function(T){return this.then(null,T)},v.prototype.then=function(T,k){if(typeof T!="function"&&this.state===d||typeof k!="function"&&this.state===f)return this;var U=new this.constructor(l);return this.state!==p?y(U,this.state===d?T:k,this.outcome):this.queue.push(new _(U,T,k)),U},_.prototype.callFulfilled=function(T){c.resolve(this.promise,T)},_.prototype.otherCallFulfilled=function(T){y(this.promise,this.onFulfilled,T)},_.prototype.callRejected=function(T){c.reject(this.promise,T)},_.prototype.otherCallRejected=function(T){y(this.promise,this.onRejected,T)},c.resolve=function(T,k){var U=C(N,k);if(U.status==="error")return c.reject(T,U.value);var z=U.value;if(z)A(T,z);else{T.state=d,T.outcome=k;for(var q=-1,J=T.queue.length;++q<J;)T.queue[q].callFulfilled(k)}return T},c.reject=function(T,k){T.state=f,T.outcome=k;for(var U=-1,z=T.queue.length;++U<z;)T.queue[U].callRejected(k);return T},v.resolve=function(T){return T instanceof this?T:c.resolve(new this(l),T)},v.reject=function(T){var k=new this(l);return c.reject(k,T)},v.all=function(T){var k=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var U=T.length,z=!1;if(!U)return this.resolve([]);for(var q=new Array(U),J=0,H=-1,Z=new this(l);++H<U;)W(T[H],H);return Z;function W(ae,B){k.resolve(ae).then(function(D){q[B]=D,++J!==U||z||(z=!0,c.resolve(Z,q))},function(D){z||(z=!0,c.reject(Z,D))})}},v.race=function(T){var k=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var U=T.length,z=!1;if(!U)return this.resolve([]);for(var q=-1,J=new this(l);++q<U;)H=T[q],k.resolve(H).then(function(Z){z||(z=!0,c.resolve(J,Z))},function(Z){z||(z=!0,c.reject(J,Z))});var H;return J}},{immediate:36}],38:[function(n,r,o){var a={};(0,n("./lib/utils/common").assign)(a,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,o){var a=n("./zlib/deflate"),l=n("./utils/common"),c=n("./utils/strings"),f=n("./zlib/messages"),d=n("./zlib/zstream"),p=Object.prototype.toString,v=0,_=-1,y=0,N=8;function A(T){if(!(this instanceof A))return new A(T);this.options=l.assign({level:_,method:N,chunkSize:16384,windowBits:15,memLevel:8,strategy:y,to:""},T||{});var k=this.options;k.raw&&0<k.windowBits?k.windowBits=-k.windowBits:k.gzip&&0<k.windowBits&&k.windowBits<16&&(k.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var U=a.deflateInit2(this.strm,k.level,k.method,k.windowBits,k.memLevel,k.strategy);if(U!==v)throw new Error(f[U]);if(k.header&&a.deflateSetHeader(this.strm,k.header),k.dictionary){var z;if(z=typeof k.dictionary=="string"?c.string2buf(k.dictionary):p.call(k.dictionary)==="[object ArrayBuffer]"?new Uint8Array(k.dictionary):k.dictionary,(U=a.deflateSetDictionary(this.strm,z))!==v)throw new Error(f[U]);this._dict_set=!0}}function C(T,k){var U=new A(k);if(U.push(T,!0),U.err)throw U.msg||f[U.err];return U.result}A.prototype.push=function(T,k){var U,z,q=this.strm,J=this.options.chunkSize;if(this.ended)return!1;z=k===~~k?k:k===!0?4:0,typeof T=="string"?q.input=c.string2buf(T):p.call(T)==="[object ArrayBuffer]"?q.input=new Uint8Array(T):q.input=T,q.next_in=0,q.avail_in=q.input.length;do{if(q.avail_out===0&&(q.output=new l.Buf8(J),q.next_out=0,q.avail_out=J),(U=a.deflate(q,z))!==1&&U!==v)return this.onEnd(U),!(this.ended=!0);q.avail_out!==0&&(q.avail_in!==0||z!==4&&z!==2)||(this.options.to==="string"?this.onData(c.buf2binstring(l.shrinkBuf(q.output,q.next_out))):this.onData(l.shrinkBuf(q.output,q.next_out)))}while((0<q.avail_in||q.avail_out===0)&&U!==1);return z===4?(U=a.deflateEnd(this.strm),this.onEnd(U),this.ended=!0,U===v):z!==2||(this.onEnd(v),!(q.avail_out=0))},A.prototype.onData=function(T){this.chunks.push(T)},A.prototype.onEnd=function(T){T===v&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=T,this.msg=this.strm.msg},o.Deflate=A,o.deflate=C,o.deflateRaw=function(T,k){return(k=k||{}).raw=!0,C(T,k)},o.gzip=function(T,k){return(k=k||{}).gzip=!0,C(T,k)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,o){var a=n("./zlib/inflate"),l=n("./utils/common"),c=n("./utils/strings"),f=n("./zlib/constants"),d=n("./zlib/messages"),p=n("./zlib/zstream"),v=n("./zlib/gzheader"),_=Object.prototype.toString;function y(A){if(!(this instanceof y))return new y(A);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},A||{});var C=this.options;C.raw&&0<=C.windowBits&&C.windowBits<16&&(C.windowBits=-C.windowBits,C.windowBits===0&&(C.windowBits=-15)),!(0<=C.windowBits&&C.windowBits<16)||A&&A.windowBits||(C.windowBits+=32),15<C.windowBits&&C.windowBits<48&&(15&C.windowBits)==0&&(C.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var T=a.inflateInit2(this.strm,C.windowBits);if(T!==f.Z_OK)throw new Error(d[T]);this.header=new v,a.inflateGetHeader(this.strm,this.header)}function N(A,C){var T=new y(C);if(T.push(A,!0),T.err)throw T.msg||d[T.err];return T.result}y.prototype.push=function(A,C){var T,k,U,z,q,J,H=this.strm,Z=this.options.chunkSize,W=this.options.dictionary,ae=!1;if(this.ended)return!1;k=C===~~C?C:C===!0?f.Z_FINISH:f.Z_NO_FLUSH,typeof A=="string"?H.input=c.binstring2buf(A):_.call(A)==="[object ArrayBuffer]"?H.input=new Uint8Array(A):H.input=A,H.next_in=0,H.avail_in=H.input.length;do{if(H.avail_out===0&&(H.output=new l.Buf8(Z),H.next_out=0,H.avail_out=Z),(T=a.inflate(H,f.Z_NO_FLUSH))===f.Z_NEED_DICT&&W&&(J=typeof W=="string"?c.string2buf(W):_.call(W)==="[object ArrayBuffer]"?new Uint8Array(W):W,T=a.inflateSetDictionary(this.strm,J)),T===f.Z_BUF_ERROR&&ae===!0&&(T=f.Z_OK,ae=!1),T!==f.Z_STREAM_END&&T!==f.Z_OK)return this.onEnd(T),!(this.ended=!0);H.next_out&&(H.avail_out!==0&&T!==f.Z_STREAM_END&&(H.avail_in!==0||k!==f.Z_FINISH&&k!==f.Z_SYNC_FLUSH)||(this.options.to==="string"?(U=c.utf8border(H.output,H.next_out),z=H.next_out-U,q=c.buf2string(H.output,U),H.next_out=z,H.avail_out=Z-z,z&&l.arraySet(H.output,H.output,U,z,0),this.onData(q)):this.onData(l.shrinkBuf(H.output,H.next_out)))),H.avail_in===0&&H.avail_out===0&&(ae=!0)}while((0<H.avail_in||H.avail_out===0)&&T!==f.Z_STREAM_END);return T===f.Z_STREAM_END&&(k=f.Z_FINISH),k===f.Z_FINISH?(T=a.inflateEnd(this.strm),this.onEnd(T),this.ended=!0,T===f.Z_OK):k!==f.Z_SYNC_FLUSH||(this.onEnd(f.Z_OK),!(H.avail_out=0))},y.prototype.onData=function(A){this.chunks.push(A)},y.prototype.onEnd=function(A){A===f.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=A,this.msg=this.strm.msg},o.Inflate=y,o.inflate=N,o.inflateRaw=function(A,C){return(C=C||{}).raw=!0,N(A,C)},o.ungzip=N},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,o){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";o.assign=function(f){for(var d=Array.prototype.slice.call(arguments,1);d.length;){var p=d.shift();if(p){if(typeof p!="object")throw new TypeError(p+"must be non-object");for(var v in p)p.hasOwnProperty(v)&&(f[v]=p[v])}}return f},o.shrinkBuf=function(f,d){return f.length===d?f:f.subarray?f.subarray(0,d):(f.length=d,f)};var l={arraySet:function(f,d,p,v,_){if(d.subarray&&f.subarray)f.set(d.subarray(p,p+v),_);else for(var y=0;y<v;y++)f[_+y]=d[p+y]},flattenChunks:function(f){var d,p,v,_,y,N;for(d=v=0,p=f.length;d<p;d++)v+=f[d].length;for(N=new Uint8Array(v),d=_=0,p=f.length;d<p;d++)y=f[d],N.set(y,_),_+=y.length;return N}},c={arraySet:function(f,d,p,v,_){for(var y=0;y<v;y++)f[_+y]=d[p+y]},flattenChunks:function(f){return[].concat.apply([],f)}};o.setTyped=function(f){f?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,l)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,c))},o.setTyped(a)},{}],42:[function(n,r,o){var a=n("./common"),l=!0,c=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{c=!1}for(var f=new a.Buf8(256),d=0;d<256;d++)f[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;function p(v,_){if(_<65537&&(v.subarray&&c||!v.subarray&&l))return String.fromCharCode.apply(null,a.shrinkBuf(v,_));for(var y="",N=0;N<_;N++)y+=String.fromCharCode(v[N]);return y}f[254]=f[254]=1,o.string2buf=function(v){var _,y,N,A,C,T=v.length,k=0;for(A=0;A<T;A++)(64512&(y=v.charCodeAt(A)))==55296&&A+1<T&&(64512&(N=v.charCodeAt(A+1)))==56320&&(y=65536+(y-55296<<10)+(N-56320),A++),k+=y<128?1:y<2048?2:y<65536?3:4;for(_=new a.Buf8(k),A=C=0;C<k;A++)(64512&(y=v.charCodeAt(A)))==55296&&A+1<T&&(64512&(N=v.charCodeAt(A+1)))==56320&&(y=65536+(y-55296<<10)+(N-56320),A++),y<128?_[C++]=y:(y<2048?_[C++]=192|y>>>6:(y<65536?_[C++]=224|y>>>12:(_[C++]=240|y>>>18,_[C++]=128|y>>>12&63),_[C++]=128|y>>>6&63),_[C++]=128|63&y);return _},o.buf2binstring=function(v){return p(v,v.length)},o.binstring2buf=function(v){for(var _=new a.Buf8(v.length),y=0,N=_.length;y<N;y++)_[y]=v.charCodeAt(y);return _},o.buf2string=function(v,_){var y,N,A,C,T=_||v.length,k=new Array(2*T);for(y=N=0;y<T;)if((A=v[y++])<128)k[N++]=A;else if(4<(C=f[A]))k[N++]=65533,y+=C-1;else{for(A&=C===2?31:C===3?15:7;1<C&&y<T;)A=A<<6|63&v[y++],C--;1<C?k[N++]=65533:A<65536?k[N++]=A:(A-=65536,k[N++]=55296|A>>10&1023,k[N++]=56320|1023&A)}return p(k,N)},o.utf8border=function(v,_){var y;for((_=_||v.length)>v.length&&(_=v.length),y=_-1;0<=y&&(192&v[y])==128;)y--;return y<0||y===0?_:y+f[v[y]]>_?y:_}},{"./common":41}],43:[function(n,r,o){r.exports=function(a,l,c,f){for(var d=65535&a|0,p=a>>>16&65535|0,v=0;c!==0;){for(c-=v=2e3<c?2e3:c;p=p+(d=d+l[f++]|0)|0,--v;);d%=65521,p%=65521}return d|p<<16|0}},{}],44:[function(n,r,o){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,o){var a=(function(){for(var l,c=[],f=0;f<256;f++){l=f;for(var d=0;d<8;d++)l=1&l?3988292384^l>>>1:l>>>1;c[f]=l}return c})();r.exports=function(l,c,f,d){var p=a,v=d+f;l^=-1;for(var _=d;_<v;_++)l=l>>>8^p[255&(l^c[_])];return-1^l}},{}],46:[function(n,r,o){var a,l=n("../utils/common"),c=n("./trees"),f=n("./adler32"),d=n("./crc32"),p=n("./messages"),v=0,_=4,y=0,N=-2,A=-1,C=4,T=2,k=8,U=9,z=286,q=30,J=19,H=2*z+1,Z=15,W=3,ae=258,B=ae+W+1,D=42,X=113,I=1,ce=2,oe=3,le=4;function me(F,ye){return F.msg=p[ye],ye}function ge(F){return(F<<1)-(4<F?9:0)}function Ne(F){for(var ye=F.length;0<=--ye;)F[ye]=0}function Y(F){var ye=F.state,$=ye.pending;$>F.avail_out&&($=F.avail_out),$!==0&&(l.arraySet(F.output,ye.pending_buf,ye.pending_out,$,F.next_out),F.next_out+=$,ye.pending_out+=$,F.total_out+=$,F.avail_out-=$,ye.pending-=$,ye.pending===0&&(ye.pending_out=0))}function R(F,ye){c._tr_flush_block(F,0<=F.block_start?F.block_start:-1,F.strstart-F.block_start,ye),F.block_start=F.strstart,Y(F.strm)}function G(F,ye){F.pending_buf[F.pending++]=ye}function K(F,ye){F.pending_buf[F.pending++]=ye>>>8&255,F.pending_buf[F.pending++]=255&ye}function ie(F,ye){var $,ue,se=F.max_chain_length,he=F.strstart,Ce=F.prev_length,Re=F.nice_match,be=F.strstart>F.w_size-B?F.strstart-(F.w_size-B):0,ze=F.window,He=F.w_mask,Ve=F.prev,it=F.strstart+ae,gt=ze[he+Ce-1],ft=ze[he+Ce];F.prev_length>=F.good_match&&(se>>=2),Re>F.lookahead&&(Re=F.lookahead);do if(ze[($=ye)+Ce]===ft&&ze[$+Ce-1]===gt&&ze[$]===ze[he]&&ze[++$]===ze[he+1]){he+=2,$++;do;while(ze[++he]===ze[++$]&&ze[++he]===ze[++$]&&ze[++he]===ze[++$]&&ze[++he]===ze[++$]&&ze[++he]===ze[++$]&&ze[++he]===ze[++$]&&ze[++he]===ze[++$]&&ze[++he]===ze[++$]&&he<it);if(ue=ae-(it-he),he=it-ae,Ce<ue){if(F.match_start=ye,Re<=(Ce=ue))break;gt=ze[he+Ce-1],ft=ze[he+Ce]}}while((ye=Ve[ye&He])>be&&--se!=0);return Ce<=F.lookahead?Ce:F.lookahead}function ve(F){var ye,$,ue,se,he,Ce,Re,be,ze,He,Ve=F.w_size;do{if(se=F.window_size-F.lookahead-F.strstart,F.strstart>=Ve+(Ve-B)){for(l.arraySet(F.window,F.window,Ve,Ve,0),F.match_start-=Ve,F.strstart-=Ve,F.block_start-=Ve,ye=$=F.hash_size;ue=F.head[--ye],F.head[ye]=Ve<=ue?ue-Ve:0,--$;);for(ye=$=Ve;ue=F.prev[--ye],F.prev[ye]=Ve<=ue?ue-Ve:0,--$;);se+=Ve}if(F.strm.avail_in===0)break;if(Ce=F.strm,Re=F.window,be=F.strstart+F.lookahead,ze=se,He=void 0,He=Ce.avail_in,ze<He&&(He=ze),$=He===0?0:(Ce.avail_in-=He,l.arraySet(Re,Ce.input,Ce.next_in,He,be),Ce.state.wrap===1?Ce.adler=f(Ce.adler,Re,He,be):Ce.state.wrap===2&&(Ce.adler=d(Ce.adler,Re,He,be)),Ce.next_in+=He,Ce.total_in+=He,He),F.lookahead+=$,F.lookahead+F.insert>=W)for(he=F.strstart-F.insert,F.ins_h=F.window[he],F.ins_h=(F.ins_h<<F.hash_shift^F.window[he+1])&F.hash_mask;F.insert&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[he+W-1])&F.hash_mask,F.prev[he&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=he,he++,F.insert--,!(F.lookahead+F.insert<W)););}while(F.lookahead<B&&F.strm.avail_in!==0)}function Te(F,ye){for(var $,ue;;){if(F.lookahead<B){if(ve(F),F.lookahead<B&&ye===v)return I;if(F.lookahead===0)break}if($=0,F.lookahead>=W&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+W-1])&F.hash_mask,$=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),$!==0&&F.strstart-$<=F.w_size-B&&(F.match_length=ie(F,$)),F.match_length>=W)if(ue=c._tr_tally(F,F.strstart-F.match_start,F.match_length-W),F.lookahead-=F.match_length,F.match_length<=F.max_lazy_match&&F.lookahead>=W){for(F.match_length--;F.strstart++,F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+W-1])&F.hash_mask,$=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart,--F.match_length!=0;);F.strstart++}else F.strstart+=F.match_length,F.match_length=0,F.ins_h=F.window[F.strstart],F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+1])&F.hash_mask;else ue=c._tr_tally(F,0,F.window[F.strstart]),F.lookahead--,F.strstart++;if(ue&&(R(F,!1),F.strm.avail_out===0))return I}return F.insert=F.strstart<W-1?F.strstart:W-1,ye===_?(R(F,!0),F.strm.avail_out===0?oe:le):F.last_lit&&(R(F,!1),F.strm.avail_out===0)?I:ce}function we(F,ye){for(var $,ue,se;;){if(F.lookahead<B){if(ve(F),F.lookahead<B&&ye===v)return I;if(F.lookahead===0)break}if($=0,F.lookahead>=W&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+W-1])&F.hash_mask,$=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),F.prev_length=F.match_length,F.prev_match=F.match_start,F.match_length=W-1,$!==0&&F.prev_length<F.max_lazy_match&&F.strstart-$<=F.w_size-B&&(F.match_length=ie(F,$),F.match_length<=5&&(F.strategy===1||F.match_length===W&&4096<F.strstart-F.match_start)&&(F.match_length=W-1)),F.prev_length>=W&&F.match_length<=F.prev_length){for(se=F.strstart+F.lookahead-W,ue=c._tr_tally(F,F.strstart-1-F.prev_match,F.prev_length-W),F.lookahead-=F.prev_length-1,F.prev_length-=2;++F.strstart<=se&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+W-1])&F.hash_mask,$=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),--F.prev_length!=0;);if(F.match_available=0,F.match_length=W-1,F.strstart++,ue&&(R(F,!1),F.strm.avail_out===0))return I}else if(F.match_available){if((ue=c._tr_tally(F,0,F.window[F.strstart-1]))&&R(F,!1),F.strstart++,F.lookahead--,F.strm.avail_out===0)return I}else F.match_available=1,F.strstart++,F.lookahead--}return F.match_available&&(ue=c._tr_tally(F,0,F.window[F.strstart-1]),F.match_available=0),F.insert=F.strstart<W-1?F.strstart:W-1,ye===_?(R(F,!0),F.strm.avail_out===0?oe:le):F.last_lit&&(R(F,!1),F.strm.avail_out===0)?I:ce}function Se(F,ye,$,ue,se){this.good_length=F,this.max_lazy=ye,this.nice_length=$,this.max_chain=ue,this.func=se}function We(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=k,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(2*H),this.dyn_dtree=new l.Buf16(2*(2*q+1)),this.bl_tree=new l.Buf16(2*(2*J+1)),Ne(this.dyn_ltree),Ne(this.dyn_dtree),Ne(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(Z+1),this.heap=new l.Buf16(2*z+1),Ne(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*z+1),Ne(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ye(F){var ye;return F&&F.state?(F.total_in=F.total_out=0,F.data_type=T,(ye=F.state).pending=0,ye.pending_out=0,ye.wrap<0&&(ye.wrap=-ye.wrap),ye.status=ye.wrap?D:X,F.adler=ye.wrap===2?0:1,ye.last_flush=v,c._tr_init(ye),y):me(F,N)}function st(F){var ye=Ye(F);return ye===y&&(function($){$.window_size=2*$.w_size,Ne($.head),$.max_lazy_match=a[$.level].max_lazy,$.good_match=a[$.level].good_length,$.nice_match=a[$.level].nice_length,$.max_chain_length=a[$.level].max_chain,$.strstart=0,$.block_start=0,$.lookahead=0,$.insert=0,$.match_length=$.prev_length=W-1,$.match_available=0,$.ins_h=0})(F.state),ye}function ot(F,ye,$,ue,se,he){if(!F)return N;var Ce=1;if(ye===A&&(ye=6),ue<0?(Ce=0,ue=-ue):15<ue&&(Ce=2,ue-=16),se<1||U<se||$!==k||ue<8||15<ue||ye<0||9<ye||he<0||C<he)return me(F,N);ue===8&&(ue=9);var Re=new We;return(F.state=Re).strm=F,Re.wrap=Ce,Re.gzhead=null,Re.w_bits=ue,Re.w_size=1<<Re.w_bits,Re.w_mask=Re.w_size-1,Re.hash_bits=se+7,Re.hash_size=1<<Re.hash_bits,Re.hash_mask=Re.hash_size-1,Re.hash_shift=~~((Re.hash_bits+W-1)/W),Re.window=new l.Buf8(2*Re.w_size),Re.head=new l.Buf16(Re.hash_size),Re.prev=new l.Buf16(Re.w_size),Re.lit_bufsize=1<<se+6,Re.pending_buf_size=4*Re.lit_bufsize,Re.pending_buf=new l.Buf8(Re.pending_buf_size),Re.d_buf=1*Re.lit_bufsize,Re.l_buf=3*Re.lit_bufsize,Re.level=ye,Re.strategy=he,Re.method=$,st(F)}a=[new Se(0,0,0,0,function(F,ye){var $=65535;for($>F.pending_buf_size-5&&($=F.pending_buf_size-5);;){if(F.lookahead<=1){if(ve(F),F.lookahead===0&&ye===v)return I;if(F.lookahead===0)break}F.strstart+=F.lookahead,F.lookahead=0;var ue=F.block_start+$;if((F.strstart===0||F.strstart>=ue)&&(F.lookahead=F.strstart-ue,F.strstart=ue,R(F,!1),F.strm.avail_out===0)||F.strstart-F.block_start>=F.w_size-B&&(R(F,!1),F.strm.avail_out===0))return I}return F.insert=0,ye===_?(R(F,!0),F.strm.avail_out===0?oe:le):(F.strstart>F.block_start&&(R(F,!1),F.strm.avail_out),I)}),new Se(4,4,8,4,Te),new Se(4,5,16,8,Te),new Se(4,6,32,32,Te),new Se(4,4,16,16,we),new Se(8,16,32,32,we),new Se(8,16,128,128,we),new Se(8,32,128,256,we),new Se(32,128,258,1024,we),new Se(32,258,258,4096,we)],o.deflateInit=function(F,ye){return ot(F,ye,k,15,8,0)},o.deflateInit2=ot,o.deflateReset=st,o.deflateResetKeep=Ye,o.deflateSetHeader=function(F,ye){return F&&F.state?F.state.wrap!==2?N:(F.state.gzhead=ye,y):N},o.deflate=function(F,ye){var $,ue,se,he;if(!F||!F.state||5<ye||ye<0)return F?me(F,N):N;if(ue=F.state,!F.output||!F.input&&F.avail_in!==0||ue.status===666&&ye!==_)return me(F,F.avail_out===0?-5:N);if(ue.strm=F,$=ue.last_flush,ue.last_flush=ye,ue.status===D)if(ue.wrap===2)F.adler=0,G(ue,31),G(ue,139),G(ue,8),ue.gzhead?(G(ue,(ue.gzhead.text?1:0)+(ue.gzhead.hcrc?2:0)+(ue.gzhead.extra?4:0)+(ue.gzhead.name?8:0)+(ue.gzhead.comment?16:0)),G(ue,255&ue.gzhead.time),G(ue,ue.gzhead.time>>8&255),G(ue,ue.gzhead.time>>16&255),G(ue,ue.gzhead.time>>24&255),G(ue,ue.level===9?2:2<=ue.strategy||ue.level<2?4:0),G(ue,255&ue.gzhead.os),ue.gzhead.extra&&ue.gzhead.extra.length&&(G(ue,255&ue.gzhead.extra.length),G(ue,ue.gzhead.extra.length>>8&255)),ue.gzhead.hcrc&&(F.adler=d(F.adler,ue.pending_buf,ue.pending,0)),ue.gzindex=0,ue.status=69):(G(ue,0),G(ue,0),G(ue,0),G(ue,0),G(ue,0),G(ue,ue.level===9?2:2<=ue.strategy||ue.level<2?4:0),G(ue,3),ue.status=X);else{var Ce=k+(ue.w_bits-8<<4)<<8;Ce|=(2<=ue.strategy||ue.level<2?0:ue.level<6?1:ue.level===6?2:3)<<6,ue.strstart!==0&&(Ce|=32),Ce+=31-Ce%31,ue.status=X,K(ue,Ce),ue.strstart!==0&&(K(ue,F.adler>>>16),K(ue,65535&F.adler)),F.adler=1}if(ue.status===69)if(ue.gzhead.extra){for(se=ue.pending;ue.gzindex<(65535&ue.gzhead.extra.length)&&(ue.pending!==ue.pending_buf_size||(ue.gzhead.hcrc&&ue.pending>se&&(F.adler=d(F.adler,ue.pending_buf,ue.pending-se,se)),Y(F),se=ue.pending,ue.pending!==ue.pending_buf_size));)G(ue,255&ue.gzhead.extra[ue.gzindex]),ue.gzindex++;ue.gzhead.hcrc&&ue.pending>se&&(F.adler=d(F.adler,ue.pending_buf,ue.pending-se,se)),ue.gzindex===ue.gzhead.extra.length&&(ue.gzindex=0,ue.status=73)}else ue.status=73;if(ue.status===73)if(ue.gzhead.name){se=ue.pending;do{if(ue.pending===ue.pending_buf_size&&(ue.gzhead.hcrc&&ue.pending>se&&(F.adler=d(F.adler,ue.pending_buf,ue.pending-se,se)),Y(F),se=ue.pending,ue.pending===ue.pending_buf_size)){he=1;break}he=ue.gzindex<ue.gzhead.name.length?255&ue.gzhead.name.charCodeAt(ue.gzindex++):0,G(ue,he)}while(he!==0);ue.gzhead.hcrc&&ue.pending>se&&(F.adler=d(F.adler,ue.pending_buf,ue.pending-se,se)),he===0&&(ue.gzindex=0,ue.status=91)}else ue.status=91;if(ue.status===91)if(ue.gzhead.comment){se=ue.pending;do{if(ue.pending===ue.pending_buf_size&&(ue.gzhead.hcrc&&ue.pending>se&&(F.adler=d(F.adler,ue.pending_buf,ue.pending-se,se)),Y(F),se=ue.pending,ue.pending===ue.pending_buf_size)){he=1;break}he=ue.gzindex<ue.gzhead.comment.length?255&ue.gzhead.comment.charCodeAt(ue.gzindex++):0,G(ue,he)}while(he!==0);ue.gzhead.hcrc&&ue.pending>se&&(F.adler=d(F.adler,ue.pending_buf,ue.pending-se,se)),he===0&&(ue.status=103)}else ue.status=103;if(ue.status===103&&(ue.gzhead.hcrc?(ue.pending+2>ue.pending_buf_size&&Y(F),ue.pending+2<=ue.pending_buf_size&&(G(ue,255&F.adler),G(ue,F.adler>>8&255),F.adler=0,ue.status=X)):ue.status=X),ue.pending!==0){if(Y(F),F.avail_out===0)return ue.last_flush=-1,y}else if(F.avail_in===0&&ge(ye)<=ge($)&&ye!==_)return me(F,-5);if(ue.status===666&&F.avail_in!==0)return me(F,-5);if(F.avail_in!==0||ue.lookahead!==0||ye!==v&&ue.status!==666){var Re=ue.strategy===2?(function(be,ze){for(var He;;){if(be.lookahead===0&&(ve(be),be.lookahead===0)){if(ze===v)return I;break}if(be.match_length=0,He=c._tr_tally(be,0,be.window[be.strstart]),be.lookahead--,be.strstart++,He&&(R(be,!1),be.strm.avail_out===0))return I}return be.insert=0,ze===_?(R(be,!0),be.strm.avail_out===0?oe:le):be.last_lit&&(R(be,!1),be.strm.avail_out===0)?I:ce})(ue,ye):ue.strategy===3?(function(be,ze){for(var He,Ve,it,gt,ft=be.window;;){if(be.lookahead<=ae){if(ve(be),be.lookahead<=ae&&ze===v)return I;if(be.lookahead===0)break}if(be.match_length=0,be.lookahead>=W&&0<be.strstart&&(Ve=ft[it=be.strstart-1])===ft[++it]&&Ve===ft[++it]&&Ve===ft[++it]){gt=be.strstart+ae;do;while(Ve===ft[++it]&&Ve===ft[++it]&&Ve===ft[++it]&&Ve===ft[++it]&&Ve===ft[++it]&&Ve===ft[++it]&&Ve===ft[++it]&&Ve===ft[++it]&&it<gt);be.match_length=ae-(gt-it),be.match_length>be.lookahead&&(be.match_length=be.lookahead)}if(be.match_length>=W?(He=c._tr_tally(be,1,be.match_length-W),be.lookahead-=be.match_length,be.strstart+=be.match_length,be.match_length=0):(He=c._tr_tally(be,0,be.window[be.strstart]),be.lookahead--,be.strstart++),He&&(R(be,!1),be.strm.avail_out===0))return I}return be.insert=0,ze===_?(R(be,!0),be.strm.avail_out===0?oe:le):be.last_lit&&(R(be,!1),be.strm.avail_out===0)?I:ce})(ue,ye):a[ue.level].func(ue,ye);if(Re!==oe&&Re!==le||(ue.status=666),Re===I||Re===oe)return F.avail_out===0&&(ue.last_flush=-1),y;if(Re===ce&&(ye===1?c._tr_align(ue):ye!==5&&(c._tr_stored_block(ue,0,0,!1),ye===3&&(Ne(ue.head),ue.lookahead===0&&(ue.strstart=0,ue.block_start=0,ue.insert=0))),Y(F),F.avail_out===0))return ue.last_flush=-1,y}return ye!==_?y:ue.wrap<=0?1:(ue.wrap===2?(G(ue,255&F.adler),G(ue,F.adler>>8&255),G(ue,F.adler>>16&255),G(ue,F.adler>>24&255),G(ue,255&F.total_in),G(ue,F.total_in>>8&255),G(ue,F.total_in>>16&255),G(ue,F.total_in>>24&255)):(K(ue,F.adler>>>16),K(ue,65535&F.adler)),Y(F),0<ue.wrap&&(ue.wrap=-ue.wrap),ue.pending!==0?y:1)},o.deflateEnd=function(F){var ye;return F&&F.state?(ye=F.state.status)!==D&&ye!==69&&ye!==73&&ye!==91&&ye!==103&&ye!==X&&ye!==666?me(F,N):(F.state=null,ye===X?me(F,-3):y):N},o.deflateSetDictionary=function(F,ye){var $,ue,se,he,Ce,Re,be,ze,He=ye.length;if(!F||!F.state||(he=($=F.state).wrap)===2||he===1&&$.status!==D||$.lookahead)return N;for(he===1&&(F.adler=f(F.adler,ye,He,0)),$.wrap=0,He>=$.w_size&&(he===0&&(Ne($.head),$.strstart=0,$.block_start=0,$.insert=0),ze=new l.Buf8($.w_size),l.arraySet(ze,ye,He-$.w_size,$.w_size,0),ye=ze,He=$.w_size),Ce=F.avail_in,Re=F.next_in,be=F.input,F.avail_in=He,F.next_in=0,F.input=ye,ve($);$.lookahead>=W;){for(ue=$.strstart,se=$.lookahead-(W-1);$.ins_h=($.ins_h<<$.hash_shift^$.window[ue+W-1])&$.hash_mask,$.prev[ue&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=ue,ue++,--se;);$.strstart=ue,$.lookahead=W-1,ve($)}return $.strstart+=$.lookahead,$.block_start=$.strstart,$.insert=$.lookahead,$.lookahead=0,$.match_length=$.prev_length=W-1,$.match_available=0,F.next_in=Re,F.input=be,F.avail_in=Ce,$.wrap=he,y},o.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,o){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,o){r.exports=function(a,l){var c,f,d,p,v,_,y,N,A,C,T,k,U,z,q,J,H,Z,W,ae,B,D,X,I,ce;c=a.state,f=a.next_in,I=a.input,d=f+(a.avail_in-5),p=a.next_out,ce=a.output,v=p-(l-a.avail_out),_=p+(a.avail_out-257),y=c.dmax,N=c.wsize,A=c.whave,C=c.wnext,T=c.window,k=c.hold,U=c.bits,z=c.lencode,q=c.distcode,J=(1<<c.lenbits)-1,H=(1<<c.distbits)-1;e:do{U<15&&(k+=I[f++]<<U,U+=8,k+=I[f++]<<U,U+=8),Z=z[k&J];t:for(;;){if(k>>>=W=Z>>>24,U-=W,(W=Z>>>16&255)===0)ce[p++]=65535&Z;else{if(!(16&W)){if((64&W)==0){Z=z[(65535&Z)+(k&(1<<W)-1)];continue t}if(32&W){c.mode=12;break e}a.msg="invalid literal/length code",c.mode=30;break e}ae=65535&Z,(W&=15)&&(U<W&&(k+=I[f++]<<U,U+=8),ae+=k&(1<<W)-1,k>>>=W,U-=W),U<15&&(k+=I[f++]<<U,U+=8,k+=I[f++]<<U,U+=8),Z=q[k&H];n:for(;;){if(k>>>=W=Z>>>24,U-=W,!(16&(W=Z>>>16&255))){if((64&W)==0){Z=q[(65535&Z)+(k&(1<<W)-1)];continue n}a.msg="invalid distance code",c.mode=30;break e}if(B=65535&Z,U<(W&=15)&&(k+=I[f++]<<U,(U+=8)<W&&(k+=I[f++]<<U,U+=8)),y<(B+=k&(1<<W)-1)){a.msg="invalid distance too far back",c.mode=30;break e}if(k>>>=W,U-=W,(W=p-v)<B){if(A<(W=B-W)&&c.sane){a.msg="invalid distance too far back",c.mode=30;break e}if(X=T,(D=0)===C){if(D+=N-W,W<ae){for(ae-=W;ce[p++]=T[D++],--W;);D=p-B,X=ce}}else if(C<W){if(D+=N+C-W,(W-=C)<ae){for(ae-=W;ce[p++]=T[D++],--W;);if(D=0,C<ae){for(ae-=W=C;ce[p++]=T[D++],--W;);D=p-B,X=ce}}}else if(D+=C-W,W<ae){for(ae-=W;ce[p++]=T[D++],--W;);D=p-B,X=ce}for(;2<ae;)ce[p++]=X[D++],ce[p++]=X[D++],ce[p++]=X[D++],ae-=3;ae&&(ce[p++]=X[D++],1<ae&&(ce[p++]=X[D++]))}else{for(D=p-B;ce[p++]=ce[D++],ce[p++]=ce[D++],ce[p++]=ce[D++],2<(ae-=3););ae&&(ce[p++]=ce[D++],1<ae&&(ce[p++]=ce[D++]))}break}}break}}while(f<d&&p<_);f-=ae=U>>3,k&=(1<<(U-=ae<<3))-1,a.next_in=f,a.next_out=p,a.avail_in=f<d?d-f+5:5-(f-d),a.avail_out=p<_?_-p+257:257-(p-_),c.hold=k,c.bits=U}},{}],49:[function(n,r,o){var a=n("../utils/common"),l=n("./adler32"),c=n("./crc32"),f=n("./inffast"),d=n("./inftrees"),p=1,v=2,_=0,y=-2,N=1,A=852,C=592;function T(D){return(D>>>24&255)+(D>>>8&65280)+((65280&D)<<8)+((255&D)<<24)}function k(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function U(D){var X;return D&&D.state?(X=D.state,D.total_in=D.total_out=X.total=0,D.msg="",X.wrap&&(D.adler=1&X.wrap),X.mode=N,X.last=0,X.havedict=0,X.dmax=32768,X.head=null,X.hold=0,X.bits=0,X.lencode=X.lendyn=new a.Buf32(A),X.distcode=X.distdyn=new a.Buf32(C),X.sane=1,X.back=-1,_):y}function z(D){var X;return D&&D.state?((X=D.state).wsize=0,X.whave=0,X.wnext=0,U(D)):y}function q(D,X){var I,ce;return D&&D.state?(ce=D.state,X<0?(I=0,X=-X):(I=1+(X>>4),X<48&&(X&=15)),X&&(X<8||15<X)?y:(ce.window!==null&&ce.wbits!==X&&(ce.window=null),ce.wrap=I,ce.wbits=X,z(D))):y}function J(D,X){var I,ce;return D?(ce=new k,(D.state=ce).window=null,(I=q(D,X))!==_&&(D.state=null),I):y}var H,Z,W=!0;function ae(D){if(W){var X;for(H=new a.Buf32(512),Z=new a.Buf32(32),X=0;X<144;)D.lens[X++]=8;for(;X<256;)D.lens[X++]=9;for(;X<280;)D.lens[X++]=7;for(;X<288;)D.lens[X++]=8;for(d(p,D.lens,0,288,H,0,D.work,{bits:9}),X=0;X<32;)D.lens[X++]=5;d(v,D.lens,0,32,Z,0,D.work,{bits:5}),W=!1}D.lencode=H,D.lenbits=9,D.distcode=Z,D.distbits=5}function B(D,X,I,ce){var oe,le=D.state;return le.window===null&&(le.wsize=1<<le.wbits,le.wnext=0,le.whave=0,le.window=new a.Buf8(le.wsize)),ce>=le.wsize?(a.arraySet(le.window,X,I-le.wsize,le.wsize,0),le.wnext=0,le.whave=le.wsize):(ce<(oe=le.wsize-le.wnext)&&(oe=ce),a.arraySet(le.window,X,I-ce,oe,le.wnext),(ce-=oe)?(a.arraySet(le.window,X,I-ce,ce,0),le.wnext=ce,le.whave=le.wsize):(le.wnext+=oe,le.wnext===le.wsize&&(le.wnext=0),le.whave<le.wsize&&(le.whave+=oe))),0}o.inflateReset=z,o.inflateReset2=q,o.inflateResetKeep=U,o.inflateInit=function(D){return J(D,15)},o.inflateInit2=J,o.inflate=function(D,X){var I,ce,oe,le,me,ge,Ne,Y,R,G,K,ie,ve,Te,we,Se,We,Ye,st,ot,F,ye,$,ue,se=0,he=new a.Buf8(4),Ce=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!D||!D.state||!D.output||!D.input&&D.avail_in!==0)return y;(I=D.state).mode===12&&(I.mode=13),me=D.next_out,oe=D.output,Ne=D.avail_out,le=D.next_in,ce=D.input,ge=D.avail_in,Y=I.hold,R=I.bits,G=ge,K=Ne,ye=_;e:for(;;)switch(I.mode){case N:if(I.wrap===0){I.mode=13;break}for(;R<16;){if(ge===0)break e;ge--,Y+=ce[le++]<<R,R+=8}if(2&I.wrap&&Y===35615){he[I.check=0]=255&Y,he[1]=Y>>>8&255,I.check=c(I.check,he,2,0),R=Y=0,I.mode=2;break}if(I.flags=0,I.head&&(I.head.done=!1),!(1&I.wrap)||(((255&Y)<<8)+(Y>>8))%31){D.msg="incorrect header check",I.mode=30;break}if((15&Y)!=8){D.msg="unknown compression method",I.mode=30;break}if(R-=4,F=8+(15&(Y>>>=4)),I.wbits===0)I.wbits=F;else if(F>I.wbits){D.msg="invalid window size",I.mode=30;break}I.dmax=1<<F,D.adler=I.check=1,I.mode=512&Y?10:12,R=Y=0;break;case 2:for(;R<16;){if(ge===0)break e;ge--,Y+=ce[le++]<<R,R+=8}if(I.flags=Y,(255&I.flags)!=8){D.msg="unknown compression method",I.mode=30;break}if(57344&I.flags){D.msg="unknown header flags set",I.mode=30;break}I.head&&(I.head.text=Y>>8&1),512&I.flags&&(he[0]=255&Y,he[1]=Y>>>8&255,I.check=c(I.check,he,2,0)),R=Y=0,I.mode=3;case 3:for(;R<32;){if(ge===0)break e;ge--,Y+=ce[le++]<<R,R+=8}I.head&&(I.head.time=Y),512&I.flags&&(he[0]=255&Y,he[1]=Y>>>8&255,he[2]=Y>>>16&255,he[3]=Y>>>24&255,I.check=c(I.check,he,4,0)),R=Y=0,I.mode=4;case 4:for(;R<16;){if(ge===0)break e;ge--,Y+=ce[le++]<<R,R+=8}I.head&&(I.head.xflags=255&Y,I.head.os=Y>>8),512&I.flags&&(he[0]=255&Y,he[1]=Y>>>8&255,I.check=c(I.check,he,2,0)),R=Y=0,I.mode=5;case 5:if(1024&I.flags){for(;R<16;){if(ge===0)break e;ge--,Y+=ce[le++]<<R,R+=8}I.length=Y,I.head&&(I.head.extra_len=Y),512&I.flags&&(he[0]=255&Y,he[1]=Y>>>8&255,I.check=c(I.check,he,2,0)),R=Y=0}else I.head&&(I.head.extra=null);I.mode=6;case 6:if(1024&I.flags&&(ge<(ie=I.length)&&(ie=ge),ie&&(I.head&&(F=I.head.extra_len-I.length,I.head.extra||(I.head.extra=new Array(I.head.extra_len)),a.arraySet(I.head.extra,ce,le,ie,F)),512&I.flags&&(I.check=c(I.check,ce,ie,le)),ge-=ie,le+=ie,I.length-=ie),I.length))break e;I.length=0,I.mode=7;case 7:if(2048&I.flags){if(ge===0)break e;for(ie=0;F=ce[le+ie++],I.head&&F&&I.length<65536&&(I.head.name+=String.fromCharCode(F)),F&&ie<ge;);if(512&I.flags&&(I.check=c(I.check,ce,ie,le)),ge-=ie,le+=ie,F)break e}else I.head&&(I.head.name=null);I.length=0,I.mode=8;case 8:if(4096&I.flags){if(ge===0)break e;for(ie=0;F=ce[le+ie++],I.head&&F&&I.length<65536&&(I.head.comment+=String.fromCharCode(F)),F&&ie<ge;);if(512&I.flags&&(I.check=c(I.check,ce,ie,le)),ge-=ie,le+=ie,F)break e}else I.head&&(I.head.comment=null);I.mode=9;case 9:if(512&I.flags){for(;R<16;){if(ge===0)break e;ge--,Y+=ce[le++]<<R,R+=8}if(Y!==(65535&I.check)){D.msg="header crc mismatch",I.mode=30;break}R=Y=0}I.head&&(I.head.hcrc=I.flags>>9&1,I.head.done=!0),D.adler=I.check=0,I.mode=12;break;case 10:for(;R<32;){if(ge===0)break e;ge--,Y+=ce[le++]<<R,R+=8}D.adler=I.check=T(Y),R=Y=0,I.mode=11;case 11:if(I.havedict===0)return D.next_out=me,D.avail_out=Ne,D.next_in=le,D.avail_in=ge,I.hold=Y,I.bits=R,2;D.adler=I.check=1,I.mode=12;case 12:if(X===5||X===6)break e;case 13:if(I.last){Y>>>=7&R,R-=7&R,I.mode=27;break}for(;R<3;){if(ge===0)break e;ge--,Y+=ce[le++]<<R,R+=8}switch(I.last=1&Y,R-=1,3&(Y>>>=1)){case 0:I.mode=14;break;case 1:if(ae(I),I.mode=20,X!==6)break;Y>>>=2,R-=2;break e;case 2:I.mode=17;break;case 3:D.msg="invalid block type",I.mode=30}Y>>>=2,R-=2;break;case 14:for(Y>>>=7&R,R-=7&R;R<32;){if(ge===0)break e;ge--,Y+=ce[le++]<<R,R+=8}if((65535&Y)!=(Y>>>16^65535)){D.msg="invalid stored block lengths",I.mode=30;break}if(I.length=65535&Y,R=Y=0,I.mode=15,X===6)break e;case 15:I.mode=16;case 16:if(ie=I.length){if(ge<ie&&(ie=ge),Ne<ie&&(ie=Ne),ie===0)break e;a.arraySet(oe,ce,le,ie,me),ge-=ie,le+=ie,Ne-=ie,me+=ie,I.length-=ie;break}I.mode=12;break;case 17:for(;R<14;){if(ge===0)break e;ge--,Y+=ce[le++]<<R,R+=8}if(I.nlen=257+(31&Y),Y>>>=5,R-=5,I.ndist=1+(31&Y),Y>>>=5,R-=5,I.ncode=4+(15&Y),Y>>>=4,R-=4,286<I.nlen||30<I.ndist){D.msg="too many length or distance symbols",I.mode=30;break}I.have=0,I.mode=18;case 18:for(;I.have<I.ncode;){for(;R<3;){if(ge===0)break e;ge--,Y+=ce[le++]<<R,R+=8}I.lens[Ce[I.have++]]=7&Y,Y>>>=3,R-=3}for(;I.have<19;)I.lens[Ce[I.have++]]=0;if(I.lencode=I.lendyn,I.lenbits=7,$={bits:I.lenbits},ye=d(0,I.lens,0,19,I.lencode,0,I.work,$),I.lenbits=$.bits,ye){D.msg="invalid code lengths set",I.mode=30;break}I.have=0,I.mode=19;case 19:for(;I.have<I.nlen+I.ndist;){for(;Se=(se=I.lencode[Y&(1<<I.lenbits)-1])>>>16&255,We=65535&se,!((we=se>>>24)<=R);){if(ge===0)break e;ge--,Y+=ce[le++]<<R,R+=8}if(We<16)Y>>>=we,R-=we,I.lens[I.have++]=We;else{if(We===16){for(ue=we+2;R<ue;){if(ge===0)break e;ge--,Y+=ce[le++]<<R,R+=8}if(Y>>>=we,R-=we,I.have===0){D.msg="invalid bit length repeat",I.mode=30;break}F=I.lens[I.have-1],ie=3+(3&Y),Y>>>=2,R-=2}else if(We===17){for(ue=we+3;R<ue;){if(ge===0)break e;ge--,Y+=ce[le++]<<R,R+=8}R-=we,F=0,ie=3+(7&(Y>>>=we)),Y>>>=3,R-=3}else{for(ue=we+7;R<ue;){if(ge===0)break e;ge--,Y+=ce[le++]<<R,R+=8}R-=we,F=0,ie=11+(127&(Y>>>=we)),Y>>>=7,R-=7}if(I.have+ie>I.nlen+I.ndist){D.msg="invalid bit length repeat",I.mode=30;break}for(;ie--;)I.lens[I.have++]=F}}if(I.mode===30)break;if(I.lens[256]===0){D.msg="invalid code -- missing end-of-block",I.mode=30;break}if(I.lenbits=9,$={bits:I.lenbits},ye=d(p,I.lens,0,I.nlen,I.lencode,0,I.work,$),I.lenbits=$.bits,ye){D.msg="invalid literal/lengths set",I.mode=30;break}if(I.distbits=6,I.distcode=I.distdyn,$={bits:I.distbits},ye=d(v,I.lens,I.nlen,I.ndist,I.distcode,0,I.work,$),I.distbits=$.bits,ye){D.msg="invalid distances set",I.mode=30;break}if(I.mode=20,X===6)break e;case 20:I.mode=21;case 21:if(6<=ge&&258<=Ne){D.next_out=me,D.avail_out=Ne,D.next_in=le,D.avail_in=ge,I.hold=Y,I.bits=R,f(D,K),me=D.next_out,oe=D.output,Ne=D.avail_out,le=D.next_in,ce=D.input,ge=D.avail_in,Y=I.hold,R=I.bits,I.mode===12&&(I.back=-1);break}for(I.back=0;Se=(se=I.lencode[Y&(1<<I.lenbits)-1])>>>16&255,We=65535&se,!((we=se>>>24)<=R);){if(ge===0)break e;ge--,Y+=ce[le++]<<R,R+=8}if(Se&&(240&Se)==0){for(Ye=we,st=Se,ot=We;Se=(se=I.lencode[ot+((Y&(1<<Ye+st)-1)>>Ye)])>>>16&255,We=65535&se,!(Ye+(we=se>>>24)<=R);){if(ge===0)break e;ge--,Y+=ce[le++]<<R,R+=8}Y>>>=Ye,R-=Ye,I.back+=Ye}if(Y>>>=we,R-=we,I.back+=we,I.length=We,Se===0){I.mode=26;break}if(32&Se){I.back=-1,I.mode=12;break}if(64&Se){D.msg="invalid literal/length code",I.mode=30;break}I.extra=15&Se,I.mode=22;case 22:if(I.extra){for(ue=I.extra;R<ue;){if(ge===0)break e;ge--,Y+=ce[le++]<<R,R+=8}I.length+=Y&(1<<I.extra)-1,Y>>>=I.extra,R-=I.extra,I.back+=I.extra}I.was=I.length,I.mode=23;case 23:for(;Se=(se=I.distcode[Y&(1<<I.distbits)-1])>>>16&255,We=65535&se,!((we=se>>>24)<=R);){if(ge===0)break e;ge--,Y+=ce[le++]<<R,R+=8}if((240&Se)==0){for(Ye=we,st=Se,ot=We;Se=(se=I.distcode[ot+((Y&(1<<Ye+st)-1)>>Ye)])>>>16&255,We=65535&se,!(Ye+(we=se>>>24)<=R);){if(ge===0)break e;ge--,Y+=ce[le++]<<R,R+=8}Y>>>=Ye,R-=Ye,I.back+=Ye}if(Y>>>=we,R-=we,I.back+=we,64&Se){D.msg="invalid distance code",I.mode=30;break}I.offset=We,I.extra=15&Se,I.mode=24;case 24:if(I.extra){for(ue=I.extra;R<ue;){if(ge===0)break e;ge--,Y+=ce[le++]<<R,R+=8}I.offset+=Y&(1<<I.extra)-1,Y>>>=I.extra,R-=I.extra,I.back+=I.extra}if(I.offset>I.dmax){D.msg="invalid distance too far back",I.mode=30;break}I.mode=25;case 25:if(Ne===0)break e;if(ie=K-Ne,I.offset>ie){if((ie=I.offset-ie)>I.whave&&I.sane){D.msg="invalid distance too far back",I.mode=30;break}ve=ie>I.wnext?(ie-=I.wnext,I.wsize-ie):I.wnext-ie,ie>I.length&&(ie=I.length),Te=I.window}else Te=oe,ve=me-I.offset,ie=I.length;for(Ne<ie&&(ie=Ne),Ne-=ie,I.length-=ie;oe[me++]=Te[ve++],--ie;);I.length===0&&(I.mode=21);break;case 26:if(Ne===0)break e;oe[me++]=I.length,Ne--,I.mode=21;break;case 27:if(I.wrap){for(;R<32;){if(ge===0)break e;ge--,Y|=ce[le++]<<R,R+=8}if(K-=Ne,D.total_out+=K,I.total+=K,K&&(D.adler=I.check=I.flags?c(I.check,oe,K,me-K):l(I.check,oe,K,me-K)),K=Ne,(I.flags?Y:T(Y))!==I.check){D.msg="incorrect data check",I.mode=30;break}R=Y=0}I.mode=28;case 28:if(I.wrap&&I.flags){for(;R<32;){if(ge===0)break e;ge--,Y+=ce[le++]<<R,R+=8}if(Y!==(4294967295&I.total)){D.msg="incorrect length check",I.mode=30;break}R=Y=0}I.mode=29;case 29:ye=1;break e;case 30:ye=-3;break e;case 31:return-4;case 32:default:return y}return D.next_out=me,D.avail_out=Ne,D.next_in=le,D.avail_in=ge,I.hold=Y,I.bits=R,(I.wsize||K!==D.avail_out&&I.mode<30&&(I.mode<27||X!==4))&&B(D,D.output,D.next_out,K-D.avail_out)?(I.mode=31,-4):(G-=D.avail_in,K-=D.avail_out,D.total_in+=G,D.total_out+=K,I.total+=K,I.wrap&&K&&(D.adler=I.check=I.flags?c(I.check,oe,K,D.next_out-K):l(I.check,oe,K,D.next_out-K)),D.data_type=I.bits+(I.last?64:0)+(I.mode===12?128:0)+(I.mode===20||I.mode===15?256:0),(G==0&&K===0||X===4)&&ye===_&&(ye=-5),ye)},o.inflateEnd=function(D){if(!D||!D.state)return y;var X=D.state;return X.window&&(X.window=null),D.state=null,_},o.inflateGetHeader=function(D,X){var I;return D&&D.state?(2&(I=D.state).wrap)==0?y:((I.head=X).done=!1,_):y},o.inflateSetDictionary=function(D,X){var I,ce=X.length;return D&&D.state?(I=D.state).wrap!==0&&I.mode!==11?y:I.mode===11&&l(1,X,ce,0)!==I.check?-3:B(D,X,ce,ce)?(I.mode=31,-4):(I.havedict=1,_):y},o.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,o){var a=n("../utils/common"),l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(p,v,_,y,N,A,C,T){var k,U,z,q,J,H,Z,W,ae,B=T.bits,D=0,X=0,I=0,ce=0,oe=0,le=0,me=0,ge=0,Ne=0,Y=0,R=null,G=0,K=new a.Buf16(16),ie=new a.Buf16(16),ve=null,Te=0;for(D=0;D<=15;D++)K[D]=0;for(X=0;X<y;X++)K[v[_+X]]++;for(oe=B,ce=15;1<=ce&&K[ce]===0;ce--);if(ce<oe&&(oe=ce),ce===0)return N[A++]=20971520,N[A++]=20971520,T.bits=1,0;for(I=1;I<ce&&K[I]===0;I++);for(oe<I&&(oe=I),D=ge=1;D<=15;D++)if(ge<<=1,(ge-=K[D])<0)return-1;if(0<ge&&(p===0||ce!==1))return-1;for(ie[1]=0,D=1;D<15;D++)ie[D+1]=ie[D]+K[D];for(X=0;X<y;X++)v[_+X]!==0&&(C[ie[v[_+X]]++]=X);if(H=p===0?(R=ve=C,19):p===1?(R=l,G-=257,ve=c,Te-=257,256):(R=f,ve=d,-1),D=I,J=A,me=X=Y=0,z=-1,q=(Ne=1<<(le=oe))-1,p===1&&852<Ne||p===2&&592<Ne)return 1;for(;;){for(Z=D-me,ae=C[X]<H?(W=0,C[X]):C[X]>H?(W=ve[Te+C[X]],R[G+C[X]]):(W=96,0),k=1<<D-me,I=U=1<<le;N[J+(Y>>me)+(U-=k)]=Z<<24|W<<16|ae|0,U!==0;);for(k=1<<D-1;Y&k;)k>>=1;if(k!==0?(Y&=k-1,Y+=k):Y=0,X++,--K[D]==0){if(D===ce)break;D=v[_+C[X]]}if(oe<D&&(Y&q)!==z){for(me===0&&(me=oe),J+=I,ge=1<<(le=D-me);le+me<ce&&!((ge-=K[le+me])<=0);)le++,ge<<=1;if(Ne+=1<<le,p===1&&852<Ne||p===2&&592<Ne)return 1;N[z=Y&q]=oe<<24|le<<16|J-A|0}}return Y!==0&&(N[J+Y]=D-me<<24|64<<16|0),T.bits=oe,0}},{"../utils/common":41}],51:[function(n,r,o){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,o){var a=n("../utils/common"),l=0,c=1;function f(se){for(var he=se.length;0<=--he;)se[he]=0}var d=0,p=29,v=256,_=v+1+p,y=30,N=19,A=2*_+1,C=15,T=16,k=7,U=256,z=16,q=17,J=18,H=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],W=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ae=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],B=new Array(2*(_+2));f(B);var D=new Array(2*y);f(D);var X=new Array(512);f(X);var I=new Array(256);f(I);var ce=new Array(p);f(ce);var oe,le,me,ge=new Array(y);function Ne(se,he,Ce,Re,be){this.static_tree=se,this.extra_bits=he,this.extra_base=Ce,this.elems=Re,this.max_length=be,this.has_stree=se&&se.length}function Y(se,he){this.dyn_tree=se,this.max_code=0,this.stat_desc=he}function R(se){return se<256?X[se]:X[256+(se>>>7)]}function G(se,he){se.pending_buf[se.pending++]=255&he,se.pending_buf[se.pending++]=he>>>8&255}function K(se,he,Ce){se.bi_valid>T-Ce?(se.bi_buf|=he<<se.bi_valid&65535,G(se,se.bi_buf),se.bi_buf=he>>T-se.bi_valid,se.bi_valid+=Ce-T):(se.bi_buf|=he<<se.bi_valid&65535,se.bi_valid+=Ce)}function ie(se,he,Ce){K(se,Ce[2*he],Ce[2*he+1])}function ve(se,he){for(var Ce=0;Ce|=1&se,se>>>=1,Ce<<=1,0<--he;);return Ce>>>1}function Te(se,he,Ce){var Re,be,ze=new Array(C+1),He=0;for(Re=1;Re<=C;Re++)ze[Re]=He=He+Ce[Re-1]<<1;for(be=0;be<=he;be++){var Ve=se[2*be+1];Ve!==0&&(se[2*be]=ve(ze[Ve]++,Ve))}}function we(se){var he;for(he=0;he<_;he++)se.dyn_ltree[2*he]=0;for(he=0;he<y;he++)se.dyn_dtree[2*he]=0;for(he=0;he<N;he++)se.bl_tree[2*he]=0;se.dyn_ltree[2*U]=1,se.opt_len=se.static_len=0,se.last_lit=se.matches=0}function Se(se){8<se.bi_valid?G(se,se.bi_buf):0<se.bi_valid&&(se.pending_buf[se.pending++]=se.bi_buf),se.bi_buf=0,se.bi_valid=0}function We(se,he,Ce,Re){var be=2*he,ze=2*Ce;return se[be]<se[ze]||se[be]===se[ze]&&Re[he]<=Re[Ce]}function Ye(se,he,Ce){for(var Re=se.heap[Ce],be=Ce<<1;be<=se.heap_len&&(be<se.heap_len&&We(he,se.heap[be+1],se.heap[be],se.depth)&&be++,!We(he,Re,se.heap[be],se.depth));)se.heap[Ce]=se.heap[be],Ce=be,be<<=1;se.heap[Ce]=Re}function st(se,he,Ce){var Re,be,ze,He,Ve=0;if(se.last_lit!==0)for(;Re=se.pending_buf[se.d_buf+2*Ve]<<8|se.pending_buf[se.d_buf+2*Ve+1],be=se.pending_buf[se.l_buf+Ve],Ve++,Re===0?ie(se,be,he):(ie(se,(ze=I[be])+v+1,he),(He=H[ze])!==0&&K(se,be-=ce[ze],He),ie(se,ze=R(--Re),Ce),(He=Z[ze])!==0&&K(se,Re-=ge[ze],He)),Ve<se.last_lit;);ie(se,U,he)}function ot(se,he){var Ce,Re,be,ze=he.dyn_tree,He=he.stat_desc.static_tree,Ve=he.stat_desc.has_stree,it=he.stat_desc.elems,gt=-1;for(se.heap_len=0,se.heap_max=A,Ce=0;Ce<it;Ce++)ze[2*Ce]!==0?(se.heap[++se.heap_len]=gt=Ce,se.depth[Ce]=0):ze[2*Ce+1]=0;for(;se.heap_len<2;)ze[2*(be=se.heap[++se.heap_len]=gt<2?++gt:0)]=1,se.depth[be]=0,se.opt_len--,Ve&&(se.static_len-=He[2*be+1]);for(he.max_code=gt,Ce=se.heap_len>>1;1<=Ce;Ce--)Ye(se,ze,Ce);for(be=it;Ce=se.heap[1],se.heap[1]=se.heap[se.heap_len--],Ye(se,ze,1),Re=se.heap[1],se.heap[--se.heap_max]=Ce,se.heap[--se.heap_max]=Re,ze[2*be]=ze[2*Ce]+ze[2*Re],se.depth[be]=(se.depth[Ce]>=se.depth[Re]?se.depth[Ce]:se.depth[Re])+1,ze[2*Ce+1]=ze[2*Re+1]=be,se.heap[1]=be++,Ye(se,ze,1),2<=se.heap_len;);se.heap[--se.heap_max]=se.heap[1],(function(ft,vt){var Ct,at,Vt,_t,cn,Bt,Lt=vt.dyn_tree,di=vt.max_code,en=vt.stat_desc.static_tree,Ir=vt.stat_desc.has_stree,mn=vt.stat_desc.extra_bits,si=vt.stat_desc.extra_base,Fn=vt.stat_desc.max_length,Jt=0;for(_t=0;_t<=C;_t++)ft.bl_count[_t]=0;for(Lt[2*ft.heap[ft.heap_max]+1]=0,Ct=ft.heap_max+1;Ct<A;Ct++)Fn<(_t=Lt[2*Lt[2*(at=ft.heap[Ct])+1]+1]+1)&&(_t=Fn,Jt++),Lt[2*at+1]=_t,di<at||(ft.bl_count[_t]++,cn=0,si<=at&&(cn=mn[at-si]),Bt=Lt[2*at],ft.opt_len+=Bt*(_t+cn),Ir&&(ft.static_len+=Bt*(en[2*at+1]+cn)));if(Jt!==0){do{for(_t=Fn-1;ft.bl_count[_t]===0;)_t--;ft.bl_count[_t]--,ft.bl_count[_t+1]+=2,ft.bl_count[Fn]--,Jt-=2}while(0<Jt);for(_t=Fn;_t!==0;_t--)for(at=ft.bl_count[_t];at!==0;)di<(Vt=ft.heap[--Ct])||(Lt[2*Vt+1]!==_t&&(ft.opt_len+=(_t-Lt[2*Vt+1])*Lt[2*Vt],Lt[2*Vt+1]=_t),at--)}})(se,he),Te(ze,gt,se.bl_count)}function F(se,he,Ce){var Re,be,ze=-1,He=he[1],Ve=0,it=7,gt=4;for(He===0&&(it=138,gt=3),he[2*(Ce+1)+1]=65535,Re=0;Re<=Ce;Re++)be=He,He=he[2*(Re+1)+1],++Ve<it&&be===He||(Ve<gt?se.bl_tree[2*be]+=Ve:be!==0?(be!==ze&&se.bl_tree[2*be]++,se.bl_tree[2*z]++):Ve<=10?se.bl_tree[2*q]++:se.bl_tree[2*J]++,ze=be,gt=(Ve=0)===He?(it=138,3):be===He?(it=6,3):(it=7,4))}function ye(se,he,Ce){var Re,be,ze=-1,He=he[1],Ve=0,it=7,gt=4;for(He===0&&(it=138,gt=3),Re=0;Re<=Ce;Re++)if(be=He,He=he[2*(Re+1)+1],!(++Ve<it&&be===He)){if(Ve<gt)for(;ie(se,be,se.bl_tree),--Ve!=0;);else be!==0?(be!==ze&&(ie(se,be,se.bl_tree),Ve--),ie(se,z,se.bl_tree),K(se,Ve-3,2)):Ve<=10?(ie(se,q,se.bl_tree),K(se,Ve-3,3)):(ie(se,J,se.bl_tree),K(se,Ve-11,7));ze=be,gt=(Ve=0)===He?(it=138,3):be===He?(it=6,3):(it=7,4)}}f(ge);var $=!1;function ue(se,he,Ce,Re){K(se,(d<<1)+(Re?1:0),3),(function(be,ze,He,Ve){Se(be),G(be,He),G(be,~He),a.arraySet(be.pending_buf,be.window,ze,He,be.pending),be.pending+=He})(se,he,Ce)}o._tr_init=function(se){$||((function(){var he,Ce,Re,be,ze,He=new Array(C+1);for(be=Re=0;be<p-1;be++)for(ce[be]=Re,he=0;he<1<<H[be];he++)I[Re++]=be;for(I[Re-1]=be,be=ze=0;be<16;be++)for(ge[be]=ze,he=0;he<1<<Z[be];he++)X[ze++]=be;for(ze>>=7;be<y;be++)for(ge[be]=ze<<7,he=0;he<1<<Z[be]-7;he++)X[256+ze++]=be;for(Ce=0;Ce<=C;Ce++)He[Ce]=0;for(he=0;he<=143;)B[2*he+1]=8,he++,He[8]++;for(;he<=255;)B[2*he+1]=9,he++,He[9]++;for(;he<=279;)B[2*he+1]=7,he++,He[7]++;for(;he<=287;)B[2*he+1]=8,he++,He[8]++;for(Te(B,_+1,He),he=0;he<y;he++)D[2*he+1]=5,D[2*he]=ve(he,5);oe=new Ne(B,H,v+1,_,C),le=new Ne(D,Z,0,y,C),me=new Ne(new Array(0),W,0,N,k)})(),$=!0),se.l_desc=new Y(se.dyn_ltree,oe),se.d_desc=new Y(se.dyn_dtree,le),se.bl_desc=new Y(se.bl_tree,me),se.bi_buf=0,se.bi_valid=0,we(se)},o._tr_stored_block=ue,o._tr_flush_block=function(se,he,Ce,Re){var be,ze,He=0;0<se.level?(se.strm.data_type===2&&(se.strm.data_type=(function(Ve){var it,gt=4093624447;for(it=0;it<=31;it++,gt>>>=1)if(1&gt&&Ve.dyn_ltree[2*it]!==0)return l;if(Ve.dyn_ltree[18]!==0||Ve.dyn_ltree[20]!==0||Ve.dyn_ltree[26]!==0)return c;for(it=32;it<v;it++)if(Ve.dyn_ltree[2*it]!==0)return c;return l})(se)),ot(se,se.l_desc),ot(se,se.d_desc),He=(function(Ve){var it;for(F(Ve,Ve.dyn_ltree,Ve.l_desc.max_code),F(Ve,Ve.dyn_dtree,Ve.d_desc.max_code),ot(Ve,Ve.bl_desc),it=N-1;3<=it&&Ve.bl_tree[2*ae[it]+1]===0;it--);return Ve.opt_len+=3*(it+1)+5+5+4,it})(se),be=se.opt_len+3+7>>>3,(ze=se.static_len+3+7>>>3)<=be&&(be=ze)):be=ze=Ce+5,Ce+4<=be&&he!==-1?ue(se,he,Ce,Re):se.strategy===4||ze===be?(K(se,2+(Re?1:0),3),st(se,B,D)):(K(se,4+(Re?1:0),3),(function(Ve,it,gt,ft){var vt;for(K(Ve,it-257,5),K(Ve,gt-1,5),K(Ve,ft-4,4),vt=0;vt<ft;vt++)K(Ve,Ve.bl_tree[2*ae[vt]+1],3);ye(Ve,Ve.dyn_ltree,it-1),ye(Ve,Ve.dyn_dtree,gt-1)})(se,se.l_desc.max_code+1,se.d_desc.max_code+1,He+1),st(se,se.dyn_ltree,se.dyn_dtree)),we(se),Re&&Se(se)},o._tr_tally=function(se,he,Ce){return se.pending_buf[se.d_buf+2*se.last_lit]=he>>>8&255,se.pending_buf[se.d_buf+2*se.last_lit+1]=255&he,se.pending_buf[se.l_buf+se.last_lit]=255&Ce,se.last_lit++,he===0?se.dyn_ltree[2*Ce]++:(se.matches++,he--,se.dyn_ltree[2*(I[Ce]+v+1)]++,se.dyn_dtree[2*R(he)]++),se.last_lit===se.lit_bufsize-1},o._tr_align=function(se){K(se,2,3),ie(se,U,B),(function(he){he.bi_valid===16?(G(he,he.bi_buf),he.bi_buf=0,he.bi_valid=0):8<=he.bi_valid&&(he.pending_buf[he.pending++]=255&he.bi_buf,he.bi_buf>>=8,he.bi_valid-=8)})(se)}},{"../utils/common":41}],53:[function(n,r,o){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,o){(function(a){(function(l,c){if(!l.setImmediate){var f,d,p,v,_=1,y={},N=!1,A=l.document,C=Object.getPrototypeOf&&Object.getPrototypeOf(l);C=C&&C.setTimeout?C:l,f={}.toString.call(l.process)==="[object process]"?function(z){process.nextTick(function(){k(z)})}:(function(){if(l.postMessage&&!l.importScripts){var z=!0,q=l.onmessage;return l.onmessage=function(){z=!1},l.postMessage("","*"),l.onmessage=q,z}})()?(v="setImmediate$"+Math.random()+"$",l.addEventListener?l.addEventListener("message",U,!1):l.attachEvent("onmessage",U),function(z){l.postMessage(v+z,"*")}):l.MessageChannel?((p=new MessageChannel).port1.onmessage=function(z){k(z.data)},function(z){p.port2.postMessage(z)}):A&&"onreadystatechange"in A.createElement("script")?(d=A.documentElement,function(z){var q=A.createElement("script");q.onreadystatechange=function(){k(z),q.onreadystatechange=null,d.removeChild(q),q=null},d.appendChild(q)}):function(z){setTimeout(k,0,z)},C.setImmediate=function(z){typeof z!="function"&&(z=new Function(""+z));for(var q=new Array(arguments.length-1),J=0;J<q.length;J++)q[J]=arguments[J+1];var H={callback:z,args:q};return y[_]=H,f(_),_++},C.clearImmediate=T}function T(z){delete y[z]}function k(z){if(N)setTimeout(k,0,z);else{var q=y[z];if(q){N=!0;try{(function(J){var H=J.callback,Z=J.args;switch(Z.length){case 0:H();break;case 1:H(Z[0]);break;case 2:H(Z[0],Z[1]);break;case 3:H(Z[0],Z[1],Z[2]);break;default:H.apply(c,Z)}})(q)}finally{T(z),N=!1}}}}function U(z){z.source===l&&typeof z.data=="string"&&z.data.indexOf(v)===0&&k(+z.data.slice(v.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof Vf<"u"?Vf:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Wh)),Wh.exports}var Qy=$y();const eb=jp(Qy),tb="modulepreload",nb=function(t){return"/RARE-VISUAL-CATALYST-3.6/"+t},Pg={},dp=function(e,n,r){let o=Promise.resolve();if(n&&n.length>0){let l=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));o=l(n.map(d=>{if(d=nb(d),d in Pg)return;Pg[d]=!0;const p=d.endsWith(".css"),v=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${v}`))return;const _=document.createElement("link");if(_.rel=p?"stylesheet":tb,p||(_.as="script"),_.crossOrigin="",_.href=d,f&&_.setAttribute("nonce",f),document.head.appendChild(_),p)return new Promise((y,N)=>{_.addEventListener("load",y),_.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return o.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})};function En(t){"@babel/helpers - typeof";return En=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},En(t)}var mr=Uint8Array,vs=Uint16Array,Jp=Int32Array,wd=new mr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),xd=new mr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),hp=new mr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),av=function(t,e){for(var n=new vs(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var o=new Jp(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)o[a]=a-n[r]<<5|r;return{b:n,r:o}},lv=av(wd,2),uv=lv.b,pp=lv.r;uv[28]=258,pp[258]=28;var cv=av(xd,0),ib=cv.b,Ug=cv.r,mp=new vs(32768);for(var Hn=0;Hn<32768;++Hn){var ml=(Hn&43690)>>1|(Hn&21845)<<1;ml=(ml&52428)>>2|(ml&13107)<<2,ml=(ml&61680)>>4|(ml&3855)<<4,mp[Hn]=((ml&65280)>>8|(ml&255)<<8)>>1}var Ho=(function(t,e,n){for(var r=t.length,o=0,a=new vs(e);o<r;++o)t[o]&&++a[t[o]-1];var l=new vs(e);for(o=1;o<e;++o)l[o]=l[o-1]+a[o-1]<<1;var c;if(n){c=new vs(1<<e);var f=15-e;for(o=0;o<r;++o)if(t[o])for(var d=o<<4|t[o],p=e-t[o],v=l[t[o]-1]++<<p,_=v|(1<<p)-1;v<=_;++v)c[mp[v]>>f]=d}else for(c=new vs(r),o=0;o<r;++o)t[o]&&(c[o]=mp[l[t[o]-1]++]>>15-t[o]);return c}),_l=new mr(288);for(var Hn=0;Hn<144;++Hn)_l[Hn]=8;for(var Hn=144;Hn<256;++Hn)_l[Hn]=9;for(var Hn=256;Hn<280;++Hn)_l[Hn]=7;for(var Hn=280;Hn<288;++Hn)_l[Hn]=8;var Zc=new mr(32);for(var Hn=0;Hn<32;++Hn)Zc[Hn]=5;var rb=Ho(_l,9,0),sb=Ho(_l,9,1),ob=Ho(Zc,5,0),ab=Ho(Zc,5,1),Kh=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},no=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},Xh=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},Wp=function(t){return(t+7)/8|0},fv=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new mr(t.subarray(e,n))},lb=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ro=function(t,e,n){var r=new Error(e||lb[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,ro),!n)throw r;return r},ub=function(t,e,n,r){var o=t.length,a=0;if(!o||e.f&&!e.l)return n||new mr(0);var l=!n,c=l||e.i!=2,f=e.i;l&&(n=new mr(o*3));var d=function(Ye){var st=n.length;if(Ye>st){var ot=new mr(Math.max(st*2,Ye));ot.set(n),n=ot}},p=e.f||0,v=e.p||0,_=e.b||0,y=e.l,N=e.d,A=e.m,C=e.n,T=o*8;do{if(!y){p=no(t,v,1);var k=no(t,v+1,3);if(v+=3,k)if(k==1)y=sb,N=ab,A=9,C=5;else if(k==2){var J=no(t,v,31)+257,H=no(t,v+10,15)+4,Z=J+no(t,v+5,31)+1;v+=14;for(var W=new mr(Z),ae=new mr(19),B=0;B<H;++B)ae[hp[B]]=no(t,v+B*3,7);v+=H*3;for(var D=Kh(ae),X=(1<<D)-1,I=Ho(ae,D,1),B=0;B<Z;){var ce=I[no(t,v,X)];v+=ce&15;var U=ce>>4;if(U<16)W[B++]=U;else{var oe=0,le=0;for(U==16?(le=3+no(t,v,3),v+=2,oe=W[B-1]):U==17?(le=3+no(t,v,7),v+=3):U==18&&(le=11+no(t,v,127),v+=7);le--;)W[B++]=oe}}var me=W.subarray(0,J),ge=W.subarray(J);A=Kh(me),C=Kh(ge),y=Ho(me,A,1),N=Ho(ge,C,1)}else ro(1);else{var U=Wp(v)+4,z=t[U-4]|t[U-3]<<8,q=U+z;if(q>o){f&&ro(0);break}c&&d(_+z),n.set(t.subarray(U,q),_),e.b=_+=z,e.p=v=q*8,e.f=p;continue}if(v>T){f&&ro(0);break}}c&&d(_+131072);for(var Ne=(1<<A)-1,Y=(1<<C)-1,R=v;;R=v){var oe=y[Xh(t,v)&Ne],G=oe>>4;if(v+=oe&15,v>T){f&&ro(0);break}if(oe||ro(2),G<256)n[_++]=G;else if(G==256){R=v,y=null;break}else{var K=G-254;if(G>264){var B=G-257,ie=wd[B];K=no(t,v,(1<<ie)-1)+uv[B],v+=ie}var ve=N[Xh(t,v)&Y],Te=ve>>4;ve||ro(3),v+=ve&15;var ge=ib[Te];if(Te>3){var ie=xd[Te];ge+=Xh(t,v)&(1<<ie)-1,v+=ie}if(v>T){f&&ro(0);break}c&&d(_+131072);var we=_+K;if(_<ge){var Se=a-ge,We=Math.min(ge,we);for(Se+_<0&&ro(3);_<We;++_)n[_]=r[Se+_]}for(;_<we;++_)n[_]=n[_-ge]}}e.l=y,e.p=R,e.b=_,e.f=p,y&&(p=1,e.m=A,e.d=N,e.n=C)}while(!p);return _!=n.length&&l?fv(n,0,_):n.subarray(0,_)},Aa=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Hc=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},Zh=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var o=n.length,a=n.slice();if(!o)return{t:hv,l:0};if(o==1){var l=new mr(n[0].s+1);return l[n[0].s]=1,{t:l,l:1}}n.sort(function(q,J){return q.f-J.f}),n.push({s:-1,f:25001});var c=n[0],f=n[1],d=0,p=1,v=2;for(n[0]={s:-1,f:c.f+f.f,l:c,r:f};p!=o-1;)c=n[n[d].f<n[v].f?d++:v++],f=n[d!=p&&n[d].f<n[v].f?d++:v++],n[p++]={s:-1,f:c.f+f.f,l:c,r:f};for(var _=a[0].s,r=1;r<o;++r)a[r].s>_&&(_=a[r].s);var y=new vs(_+1),N=gp(n[p-1],y,0);if(N>e){var r=0,A=0,C=N-e,T=1<<C;for(a.sort(function(J,H){return y[H.s]-y[J.s]||J.f-H.f});r<o;++r){var k=a[r].s;if(y[k]>e)A+=T-(1<<N-y[k]),y[k]=e;else break}for(A>>=C;A>0;){var U=a[r].s;y[U]<e?A-=1<<e-y[U]++-1:++r}for(;r>=0&&A;--r){var z=a[r].s;y[z]==e&&(--y[z],++A)}N=e}return{t:new mr(y),l:N}},gp=function(t,e,n){return t.s==-1?Math.max(gp(t.l,e,n+1),gp(t.r,e,n+1)):e[t.s]=n},Og=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new vs(++e),r=0,o=t[0],a=1,l=function(f){n[r++]=f},c=1;c<=e;++c)if(t[c]==o&&c!=e)++a;else{if(!o&&a>2){for(;a>138;a-=138)l(32754);a>2&&(l(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(l(o),--a;a>6;a-=6)l(8304);a>2&&(l(a-3<<5|8208),a=0)}for(;a--;)l(o);a=1,o=t[c]}return{c:n.subarray(0,r),n:e}},Vc=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},dv=function(t,e,n){var r=n.length,o=Wp(e+2);t[o]=r&255,t[o+1]=r>>8,t[o+2]=t[o]^255,t[o+3]=t[o+1]^255;for(var a=0;a<r;++a)t[o+a+4]=n[a];return(o+4+r)*8},Fg=function(t,e,n,r,o,a,l,c,f,d,p){Aa(e,p++,n),++o[256];for(var v=Zh(o,15),_=v.t,y=v.l,N=Zh(a,15),A=N.t,C=N.l,T=Og(_),k=T.c,U=T.n,z=Og(A),q=z.c,J=z.n,H=new vs(19),Z=0;Z<k.length;++Z)++H[k[Z]&31];for(var Z=0;Z<q.length;++Z)++H[q[Z]&31];for(var W=Zh(H,7),ae=W.t,B=W.l,D=19;D>4&&!ae[hp[D-1]];--D);var X=d+5<<3,I=Vc(o,_l)+Vc(a,Zc)+l,ce=Vc(o,_)+Vc(a,A)+l+14+3*D+Vc(H,ae)+2*H[16]+3*H[17]+7*H[18];if(f>=0&&X<=I&&X<=ce)return dv(e,p,t.subarray(f,f+d));var oe,le,me,ge;if(Aa(e,p,1+(ce<I)),p+=2,ce<I){oe=Ho(_,y,0),le=_,me=Ho(A,C,0),ge=A;var Ne=Ho(ae,B,0);Aa(e,p,U-257),Aa(e,p+5,J-1),Aa(e,p+10,D-4),p+=14;for(var Z=0;Z<D;++Z)Aa(e,p+3*Z,ae[hp[Z]]);p+=3*D;for(var Y=[k,q],R=0;R<2;++R)for(var G=Y[R],Z=0;Z<G.length;++Z){var K=G[Z]&31;Aa(e,p,Ne[K]),p+=ae[K],K>15&&(Aa(e,p,G[Z]>>5&127),p+=G[Z]>>12)}}else oe=rb,le=_l,me=ob,ge=Zc;for(var Z=0;Z<c;++Z){var ie=r[Z];if(ie>255){var K=ie>>18&31;Hc(e,p,oe[K+257]),p+=le[K+257],K>7&&(Aa(e,p,ie>>23&31),p+=wd[K]);var ve=ie&31;Hc(e,p,me[ve]),p+=ge[ve],ve>3&&(Hc(e,p,ie>>5&8191),p+=xd[ve])}else Hc(e,p,oe[ie]),p+=le[ie]}return Hc(e,p,oe[256]),p+le[256]},cb=new Jp([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),hv=new mr(0),fb=function(t,e,n,r,o,a){var l=a.z||t.length,c=new mr(r+l+5*(1+Math.ceil(l/7e3))+o),f=c.subarray(r,c.length-o),d=a.l,p=(a.r||0)&7;if(e){p&&(f[0]=a.r>>3);for(var v=cb[e-1],_=v>>13,y=v&8191,N=(1<<n)-1,A=a.p||new vs(32768),C=a.h||new vs(N+1),T=Math.ceil(n/3),k=2*T,U=function(F){return(t[F]^t[F+1]<<T^t[F+2]<<k)&N},z=new Jp(25e3),q=new vs(288),J=new vs(32),H=0,Z=0,W=a.i||0,ae=0,B=a.w||0,D=0;W+2<l;++W){var X=U(W),I=W&32767,ce=C[X];if(A[I]=ce,C[X]=I,B<=W){var oe=l-W;if((H>7e3||ae>24576)&&(oe>423||!d)){p=Fg(t,f,0,z,q,J,Z,ae,D,W-D,p),ae=H=Z=0,D=W;for(var le=0;le<286;++le)q[le]=0;for(var le=0;le<30;++le)J[le]=0}var me=2,ge=0,Ne=y,Y=I-ce&32767;if(oe>2&&X==U(W-Y))for(var R=Math.min(_,oe)-1,G=Math.min(32767,W),K=Math.min(258,oe);Y<=G&&--Ne&&I!=ce;){if(t[W+me]==t[W+me-Y]){for(var ie=0;ie<K&&t[W+ie]==t[W+ie-Y];++ie);if(ie>me){if(me=ie,ge=Y,ie>R)break;for(var ve=Math.min(Y,ie-2),Te=0,le=0;le<ve;++le){var we=W-Y+le&32767,Se=A[we],We=we-Se&32767;We>Te&&(Te=We,ce=we)}}}I=ce,ce=A[I],Y+=I-ce&32767}if(ge){z[ae++]=268435456|pp[me]<<18|Ug[ge];var Ye=pp[me]&31,st=Ug[ge]&31;Z+=wd[Ye]+xd[st],++q[257+Ye],++J[st],B=W+me,++H}else z[ae++]=t[W],++q[t[W]]}}for(W=Math.max(W,B);W<l;++W)z[ae++]=t[W],++q[t[W]];p=Fg(t,f,d,z,q,J,Z,ae,D,W-D,p),d||(a.r=p&7|f[p/8|0]<<3,p-=7,a.h=C,a.p=A,a.i=W,a.w=B)}else{for(var W=a.w||0;W<l+d;W+=65535){var ot=W+65535;ot>=l&&(f[p/8|0]=d,ot=l),p=dv(f,p+1,t.subarray(W,ot))}a.i=l}return fv(c,0,r+Wp(p)+o)},pv=function(){var t=1,e=0;return{p:function(n){for(var r=t,o=e,a=n.length|0,l=0;l!=a;){for(var c=Math.min(l+2655,a);l<c;++l)o+=r+=n[l];r=(r&65535)+15*(r>>16),o=(o&65535)+15*(o>>16)}t=r,e=o},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},db=function(t,e,n,r,o){if(!o&&(o={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),l=new mr(a.length+t.length);l.set(a),l.set(t,a.length),t=l,o.w=a.length}return fb(t,e.level==null?6:e.level,e.mem==null?o.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,o)},mv=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},hb=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var o=pv();o.p(e.dictionary),mv(t,2,o.d())}},pb=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&ro(6,"invalid zlib data"),(t[1]>>5&1)==1&&ro(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function vp(t,e){e||(e={});var n=pv();n.p(t);var r=db(t,e,e.dictionary?6:2,4);return hb(r,e),mv(r,r.length-4,n.d()),r}function mb(t,e){return ub(t.subarray(pb(t),-4),{i:2},e,e)}var gb=typeof TextDecoder<"u"&&new TextDecoder,vb=0;try{gb.decode(hv,{stream:!0}),vb=1}catch{}var Dt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function $h(){Dt.console&&typeof Dt.console.log=="function"&&Dt.console.log.apply(Dt.console,arguments)}var Pn={log:$h,warn:function(t){Dt.console&&(typeof Dt.console.warn=="function"?Dt.console.warn.apply(Dt.console,arguments):$h.call(null,arguments))},error:function(t){Dt.console&&(typeof Dt.console.error=="function"?Dt.console.error.apply(Dt.console,arguments):$h(t))}};function Qh(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Kl(r.response,e,n)},r.onerror=function(){Pn.error("could not download file")},r.send()}function Bg(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Yf(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Kc,yp,Kl=Dt.saveAs||((typeof window>"u"?"undefined":En(window))!=="object"||window!==Dt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=Dt.URL||Dt.webkitURL,o=document.createElement("a");e=e||t.name||"download",o.download=e,o.rel="noopener",typeof t=="string"?(o.href=t,o.origin!==location.origin?Bg(o.href)?Qh(t,e,n):Yf(o,o.target="_blank"):Yf(o)):(o.href=r.createObjectURL(t),setTimeout((function(){r.revokeObjectURL(o.href)}),4e4),setTimeout((function(){Yf(o)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(Bg(t))Qh(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout((function(){Yf(r)}))}else navigator.msSaveOrOpenBlob((function(o,a){return a===void 0?a={autoBom:!1}:En(a)!=="object"&&(Pn.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob(["\uFEFF",o],{type:o.type}):o})(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return Qh(t,e,n);var o=t.type==="application/octet-stream",a=/constructor/i.test(Dt.HTMLElement)||Dt.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||o&&a)&&(typeof FileReader>"u"?"undefined":En(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var p=c.result;p=l?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=p:location=p,r=null},c.readAsDataURL(t)}else{var f=Dt.URL||Dt.webkitURL,d=f.createObjectURL(t);r?r.location=d:location.href=d,r=null,setTimeout((function(){f.revokeObjectURL(d)}),4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function gv(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],r=0;r<n.length;r++){var o=n[r].re,a=n[r].process,l=o.exec(t);l&&(e=a(l),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),f=this.g.toString(16),d=this.b.toString(16);return c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),d.length==1&&(d="0"+d),"#"+c+f+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function ep(t,e){var n=t[0],r=t[1],o=t[2],a=t[3];n=fr(n,r,o,a,e[0],7,-680876936),a=fr(a,n,r,o,e[1],12,-389564586),o=fr(o,a,n,r,e[2],17,606105819),r=fr(r,o,a,n,e[3],22,-1044525330),n=fr(n,r,o,a,e[4],7,-176418897),a=fr(a,n,r,o,e[5],12,1200080426),o=fr(o,a,n,r,e[6],17,-1473231341),r=fr(r,o,a,n,e[7],22,-45705983),n=fr(n,r,o,a,e[8],7,1770035416),a=fr(a,n,r,o,e[9],12,-1958414417),o=fr(o,a,n,r,e[10],17,-42063),r=fr(r,o,a,n,e[11],22,-1990404162),n=fr(n,r,o,a,e[12],7,1804603682),a=fr(a,n,r,o,e[13],12,-40341101),o=fr(o,a,n,r,e[14],17,-1502002290),n=dr(n,r=fr(r,o,a,n,e[15],22,1236535329),o,a,e[1],5,-165796510),a=dr(a,n,r,o,e[6],9,-1069501632),o=dr(o,a,n,r,e[11],14,643717713),r=dr(r,o,a,n,e[0],20,-373897302),n=dr(n,r,o,a,e[5],5,-701558691),a=dr(a,n,r,o,e[10],9,38016083),o=dr(o,a,n,r,e[15],14,-660478335),r=dr(r,o,a,n,e[4],20,-405537848),n=dr(n,r,o,a,e[9],5,568446438),a=dr(a,n,r,o,e[14],9,-1019803690),o=dr(o,a,n,r,e[3],14,-187363961),r=dr(r,o,a,n,e[8],20,1163531501),n=dr(n,r,o,a,e[13],5,-1444681467),a=dr(a,n,r,o,e[2],9,-51403784),o=dr(o,a,n,r,e[7],14,1735328473),n=hr(n,r=dr(r,o,a,n,e[12],20,-1926607734),o,a,e[5],4,-378558),a=hr(a,n,r,o,e[8],11,-2022574463),o=hr(o,a,n,r,e[11],16,1839030562),r=hr(r,o,a,n,e[14],23,-35309556),n=hr(n,r,o,a,e[1],4,-1530992060),a=hr(a,n,r,o,e[4],11,1272893353),o=hr(o,a,n,r,e[7],16,-155497632),r=hr(r,o,a,n,e[10],23,-1094730640),n=hr(n,r,o,a,e[13],4,681279174),a=hr(a,n,r,o,e[0],11,-358537222),o=hr(o,a,n,r,e[3],16,-722521979),r=hr(r,o,a,n,e[6],23,76029189),n=hr(n,r,o,a,e[9],4,-640364487),a=hr(a,n,r,o,e[12],11,-421815835),o=hr(o,a,n,r,e[15],16,530742520),n=pr(n,r=hr(r,o,a,n,e[2],23,-995338651),o,a,e[0],6,-198630844),a=pr(a,n,r,o,e[7],10,1126891415),o=pr(o,a,n,r,e[14],15,-1416354905),r=pr(r,o,a,n,e[5],21,-57434055),n=pr(n,r,o,a,e[12],6,1700485571),a=pr(a,n,r,o,e[3],10,-1894986606),o=pr(o,a,n,r,e[10],15,-1051523),r=pr(r,o,a,n,e[1],21,-2054922799),n=pr(n,r,o,a,e[8],6,1873313359),a=pr(a,n,r,o,e[15],10,-30611744),o=pr(o,a,n,r,e[6],15,-1560198380),r=pr(r,o,a,n,e[13],21,1309151649),n=pr(n,r,o,a,e[4],6,-145523070),a=pr(a,n,r,o,e[11],10,-1120210379),o=pr(o,a,n,r,e[2],15,718787259),r=pr(r,o,a,n,e[9],21,-343485551),t[0]=yl(n,t[0]),t[1]=yl(r,t[1]),t[2]=yl(o,t[2]),t[3]=yl(a,t[3])}function Sd(t,e,n,r,o,a){return e=yl(yl(e,t),yl(r,a)),yl(e<<o|e>>>32-o,n)}function fr(t,e,n,r,o,a,l){return Sd(e&n|~e&r,t,e,o,a,l)}function dr(t,e,n,r,o,a,l){return Sd(e&r|n&~r,t,e,o,a,l)}function hr(t,e,n,r,o,a,l){return Sd(e^n^r,t,e,o,a,l)}function pr(t,e,n,r,o,a,l){return Sd(n^(e|~r),t,e,o,a,l)}function vv(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)ep(r,yb(t.substring(e-64,e)));t=t.substring(e-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)o[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(o[e>>2]|=128<<(e%4<<3),e>55)for(ep(r,o),e=0;e<16;e++)o[e]=0;return o[14]=8*n,ep(r,o),r}function yb(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}Kc=Dt.atob.bind(Dt),yp=Dt.btoa.bind(Dt);var zg="0123456789abcdef".split("");function bb(t){for(var e="",n=0;n<4;n++)e+=zg[t>>8*n+4&15]+zg[t>>8*n&15];return e}function _b(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function bp(t){return vv(t).map(_b).join("")}var wb=(function(t){for(var e=0;e<t.length;e++)t[e]=bb(t[e]);return t.join("")})(vv("hello"))!="5d41402abc4b2a76b9719d911017c592";function yl(t,e){if(wb){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function _p(t,e){var n,r,o,a;if(t!==n){for(var l=(o=t,a=1+(256/t.length>>0),new Array(a+1).join(o)),c=[],f=0;f<256;f++)c[f]=f;var d=0;for(f=0;f<256;f++){var p=c[f];d=(d+p+l.charCodeAt(f))%256,c[f]=c[d],c[d]=p}n=t,r=c}else c=r;var v=e.length,_=0,y=0,N="";for(f=0;f<v;f++)y=(y+(p=c[_=(_+1)%256]))%256,c[_]=c[y],c[y]=p,l=c[(c[_]+c[y])%256],N+=String.fromCharCode(e.charCodeAt(f)^l);return N}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var qg={print:4,modify:8,copy:16,"annot-forms":32};function Gu(t,e,n,r){this.v=1,this.r=2;var o=192;t.forEach((function(c){if(qg.perm!==void 0)throw new Error("Invalid permission: "+c);o+=qg[c]})),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),l=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,l),this.P=-(1+(255^o)),this.encryptionKey=bp(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=_p(this.encryptionKey,this.padding)}function Hu(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var o=t.charCodeAt(r);o<33||o===35||o===37||o===40||o===41||o===47||o===60||o===62||o===91||o===93||o===123||o===125||o>126?e+="#"+("0"+o.toString(16)).slice(-2):e+=t[r]}return e}function Gg(t){if(En(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,o){if(o=o||!1,typeof n!="string"||typeof r!="function"||typeof o!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var a=Math.random().toString(35);return e[n][a]=[r,!!o],a},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),o=[];for(var a in e[n]){var l=e[n][a];try{l[0].apply(t,r)}catch(c){Dt.console&&Pn.error("jsPDF PubSub Error",c.message,c)}l[1]&&o.push(a)}o.length&&o.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function fd(t){if(!(this instanceof fd))return new fd(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function yv(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Zl(t,e,n,r,o){if(!(this instanceof Zl))return new Zl(t,e,n,r,o);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,yv.call(this,r,o)}function ju(t,e,n,r,o){if(!(this instanceof ju))return new ju(t,e,n,r,o);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,yv.call(this,r,o)}function kt(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],o=arguments[2],a=arguments[3],l=[],c=1,f=16,d="S",p=null;En(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,o=t.format||o,a=t.compress||t.compressPdf||a,(p=t.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),c=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(f=t.floatPrecision),d=t.defaultPathOperation||"S"),l=t.filters||(a===!0?["FlateEncode"]:l),r=r||"mm",n=(""+(n||"P")).toLowerCase();var v=t.putOnlyUsedFonts||!1,_={},y={internal:{},__private__:{}};y.__private__.PubSub=Gg;var N="1.3",A=y.__private__.getPdfVersion=function(){return N};y.__private__.setPdfVersion=function(E){N=E};var C={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return C};var T=y.__private__.getPageFormat=function(E){return C[E]};o=o||"a4";var k={COMPAT:"compat",ADVANCED:"advanced"},U=k.COMPAT;function z(){this.saveGraphicsState(),$(new St(at,0,0,-at,0,bo()*at).toString()+" cm"),this.setFontSize(this.getFontSize()/at),d="n",U=k.ADVANCED}function q(){this.restoreGraphicsState(),d="S",U=k.COMPAT}var J=y.__private__.combineFontStyleAndFontWeight=function(E,j){if(E=="bold"&&j=="normal"||E=="bold"&&j==400||E=="normal"&&j=="italic"||E=="bold"&&j=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return j&&(E=j==400||j==="normal"?E==="italic"?"italic":"normal":j!=700&&j!=="bold"||E!=="normal"?(j==700?"bold":j)+""+E:"bold"),E};y.advancedAPI=function(E){var j=U===k.COMPAT;return j&&z.call(this),typeof E!="function"||(E(this),j&&q.call(this)),this},y.compatAPI=function(E){var j=U===k.ADVANCED;return j&&q.call(this),typeof E!="function"||(E(this),j&&z.call(this)),this},y.isAdvancedAPI=function(){return U===k.ADVANCED};var H,Z=function(E){if(U!==k.ADVANCED)throw new Error(E+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},W=y.roundToPrecision=y.__private__.roundToPrecision=function(E,j){var pe=e||j;if(isNaN(E)||isNaN(pe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return E.toFixed(pe).replace(/0+$/,"")};H=y.hpf=y.__private__.hpf=typeof f=="number"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return W(E,f)}:f==="smart"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return W(E,E>-1&&E<1?16:5)}:function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return W(E,16)};var ae=y.f2=y.__private__.f2=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f2");return W(E,2)},B=y.__private__.f3=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f3");return W(E,3)},D=y.scale=y.__private__.scale=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.scale");return U===k.COMPAT?E*at:U===k.ADVANCED?E:void 0},X=function(E){return U===k.COMPAT?bo()-E:U===k.ADVANCED?E:void 0},I=function(E){return D(X(E))};y.__private__.setPrecision=y.setPrecision=function(E){typeof parseInt(E,10)=="number"&&(e=parseInt(E,10))};var ce,oe="00000000000000000000000000000000",le=y.__private__.getFileId=function(){return oe},me=y.__private__.setFileId=function(E){return oe=E!==void 0&&/^[a-fA-F0-9]{32}$/.test(E)?E.toUpperCase():oe.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),p!==null&&(Kt=new Gu(p.userPermissions,p.userPassword,p.ownerPassword,oe)),oe};y.setFileId=function(E){return me(E),this},y.getFileId=function(){return le()};var ge=y.__private__.convertDateToPDFDate=function(E){var j=E.getTimezoneOffset(),pe=j<0?"+":"-",xe=Math.floor(Math.abs(j/60)),De=Math.abs(j%60),je=[pe,K(xe),"'",K(De),"'"].join("");return["D:",E.getFullYear(),K(E.getMonth()+1),K(E.getDate()),K(E.getHours()),K(E.getMinutes()),K(E.getSeconds()),je].join("")},Ne=y.__private__.convertPDFDateToDate=function(E){var j=parseInt(E.substr(2,4),10),pe=parseInt(E.substr(6,2),10)-1,xe=parseInt(E.substr(8,2),10),De=parseInt(E.substr(10,2),10),je=parseInt(E.substr(12,2),10),rt=parseInt(E.substr(14,2),10);return new Date(j,pe,xe,De,je,rt,0)},Y=y.__private__.setCreationDate=function(E){var j;if(E===void 0&&(E=new Date),E instanceof Date)j=ge(E);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(E))throw new Error("Invalid argument passed to jsPDF.setCreationDate");j=E}return ce=j},R=y.__private__.getCreationDate=function(E){var j=ce;return E==="jsDate"&&(j=Ne(ce)),j};y.setCreationDate=function(E){return Y(E),this},y.getCreationDate=function(E){return R(E)};var G,K=y.__private__.padd2=function(E){return("0"+parseInt(E)).slice(-2)},ie=y.__private__.padd2Hex=function(E){return("00"+(E=E.toString())).substr(E.length)},ve=0,Te=[],we=[],Se=0,We=[],Ye=[],st=!1,ot=we,F=function(){ve=0,Se=0,we=[],Te=[],We=[],gi=wn(),gn=wn()};y.__private__.setCustomOutputDestination=function(E){st=!0,ot=E};var ye=function(E){st||(ot=E)};y.__private__.resetCustomOutputDestination=function(){st=!1,ot=we};var $=y.__private__.out=function(E){return E=E.toString(),Se+=E.length+1,ot.push(E),ot},ue=y.__private__.write=function(E){return $(arguments.length===1?E.toString():Array.prototype.join.call(arguments," "))},se=y.__private__.getArrayBuffer=function(E){for(var j=E.length,pe=new ArrayBuffer(j),xe=new Uint8Array(pe);j--;)xe[j]=E.charCodeAt(j);return pe},he=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return he};var Ce=t.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(E){return Ce=U===k.ADVANCED?E/at:E,this};var Re,be=y.__private__.getFontSize=y.getFontSize=function(){return U===k.COMPAT?Ce:Ce*at},ze=t.R2L||!1;y.__private__.setR2L=y.setR2L=function(E){return ze=E,this},y.__private__.getR2L=y.getR2L=function(){return ze};var He,Ve=y.__private__.setZoomMode=function(E){var j=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(E))Re=E;else if(isNaN(E)){if(j.indexOf(E)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+E+'" is not recognized.');Re=E}else Re=parseInt(E,10)};y.__private__.getZoomMode=function(){return Re};var it,gt=y.__private__.setPageMode=function(E){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(E)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+E+'" is not recognized.');He=E};y.__private__.getPageMode=function(){return He};var ft=y.__private__.setLayoutMode=function(E){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(E)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+E+'" is not recognized.');it=E};y.__private__.getLayoutMode=function(){return it},y.__private__.setDisplayMode=y.setDisplayMode=function(E,j,pe){return Ve(E),ft(j),gt(pe),this};var vt={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(E){if(Object.keys(vt).indexOf(E)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return vt[E]},y.__private__.getDocumentProperties=function(){return vt},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(E){for(var j in vt)vt.hasOwnProperty(j)&&E[j]&&(vt[j]=E[j]);return this},y.__private__.setDocumentProperty=function(E,j){if(Object.keys(vt).indexOf(E)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return vt[E]=j};var Ct,at,Vt,_t,cn,Bt={},Lt={},di=[],en={},Ir={},mn={},si={},Fn=null,Jt=0,xt=[],Yt=new Gg(y),Oi=t.hotfixes||[],Zn={},oi={},Li=[],St=function E(j,pe,xe,De,je,rt){if(!(this instanceof E))return new E(j,pe,xe,De,je,rt);isNaN(j)&&(j=1),isNaN(pe)&&(pe=0),isNaN(xe)&&(xe=0),isNaN(De)&&(De=1),isNaN(je)&&(je=0),isNaN(rt)&&(rt=0),this._matrix=[j,pe,xe,De,je,rt]};Object.defineProperty(St.prototype,"sx",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(St.prototype,"shy",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(St.prototype,"shx",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(St.prototype,"sy",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(St.prototype,"tx",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(St.prototype,"ty",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(St.prototype,"a",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(St.prototype,"b",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(St.prototype,"c",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(St.prototype,"d",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(St.prototype,"e",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(St.prototype,"f",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(St.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(St.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(St.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(St.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),St.prototype.join=function(E){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(H).join(E)},St.prototype.multiply=function(E){var j=E.sx*this.sx+E.shy*this.shx,pe=E.sx*this.shy+E.shy*this.sy,xe=E.shx*this.sx+E.sy*this.shx,De=E.shx*this.shy+E.sy*this.sy,je=E.tx*this.sx+E.ty*this.shx+this.tx,rt=E.tx*this.shy+E.ty*this.sy+this.ty;return new St(j,pe,xe,De,je,rt)},St.prototype.decompose=function(){var E=this.sx,j=this.shy,pe=this.shx,xe=this.sy,De=this.tx,je=this.ty,rt=Math.sqrt(E*E+j*j),pt=(E/=rt)*pe+(j/=rt)*xe;pe-=E*pt,xe-=j*pt;var Tt=Math.sqrt(pe*pe+xe*xe);return pt/=Tt,E*(xe/=Tt)<j*(pe/=Tt)&&(E=-E,j=-j,pt=-pt,rt=-rt),{scale:new St(rt,0,0,Tt,0,0),translate:new St(1,0,0,1,De,je),rotate:new St(E,j,-j,E,0,0),skew:new St(1,0,pt,1,0,0)}},St.prototype.toString=function(E){return this.join(" ")},St.prototype.inversed=function(){var E=this.sx,j=this.shy,pe=this.shx,xe=this.sy,De=this.tx,je=this.ty,rt=1/(E*xe-j*pe),pt=xe*rt,Tt=-j*rt,Pt=-pe*rt,Rt=E*rt;return new St(pt,Tt,Pt,Rt,-pt*De-Pt*je,-Tt*De-Rt*je)},St.prototype.applyToPoint=function(E){var j=E.x*this.sx+E.y*this.shx+this.tx,pe=E.x*this.shy+E.y*this.sy+this.ty;return new na(j,pe)},St.prototype.applyToRectangle=function(E){var j=this.applyToPoint(E),pe=this.applyToPoint(new na(E.x+E.w,E.y+E.h));return new Rl(j.x,j.y,pe.x-j.x,pe.y-j.y)},St.prototype.clone=function(){var E=this.sx,j=this.shy,pe=this.shx,xe=this.sy,De=this.tx,je=this.ty;return new St(E,j,pe,xe,De,je)},y.Matrix=St;var Ki=y.matrixMult=function(E,j){return j.multiply(E)},hi=new St(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=hi;var pi=function(E,j){if(!Ir[E]){var pe=(j instanceof Zl?"Sh":"P")+(Object.keys(en).length+1).toString(10);j.id=pe,Ir[E]=pe,en[pe]=j,Yt.publish("addPattern",j)}};y.ShadingPattern=Zl,y.TilingPattern=ju,y.addShadingPattern=function(E,j){return Z("addShadingPattern()"),pi(E,j),this},y.beginTilingPattern=function(E){Z("beginTilingPattern()"),ru(E.boundingBox[0],E.boundingBox[1],E.boundingBox[2]-E.boundingBox[0],E.boundingBox[3]-E.boundingBox[1],E.matrix)},y.endTilingPattern=function(E,j){Z("endTilingPattern()"),j.stream=Ye[G].join(`
`),pi(E,j),Yt.publish("endTilingPattern",j),Li.pop().restore()};var _n=y.__private__.newObject=function(){var E=wn();return mi(E,!0),E},wn=y.__private__.newObjectDeferred=function(){return ve++,Te[ve]=function(){return Se},ve},mi=function(E,j){return j=typeof j=="boolean"&&j,Te[E]=Se,j&&$(E+" 0 obj"),E},ys=y.__private__.newAdditionalObject=function(){var E={objId:wn(),content:""};return We.push(E),E},gi=wn(),gn=wn(),Tn=y.__private__.decodeColorString=function(E){var j=E.split(" ");if(j.length!==2||j[1]!=="g"&&j[1]!=="G")j.length===5&&(j[4]==="k"||j[4]==="K")&&(j=[(1-j[0])*(1-j[3]),(1-j[1])*(1-j[3]),(1-j[2])*(1-j[3]),"r"]);else{var pe=parseFloat(j[0]);j=[pe,pe,pe,"r"]}for(var xe="#",De=0;De<3;De++)xe+=("0"+Math.floor(255*parseFloat(j[De])).toString(16)).slice(-2);return xe},vi=y.__private__.encodeColorString=function(E){var j;typeof E=="string"&&(E={ch1:E});var pe=E.ch1,xe=E.ch2,De=E.ch3,je=E.ch4,rt=E.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof pe=="string"&&pe.charAt(0)!=="#"){var pt=new gv(pe);if(pt.ok)pe=pt.toHex();else if(!/^\d*\.?\d*$/.test(pe))throw new Error('Invalid color "'+pe+'" passed to jsPDF.encodeColorString.')}if(typeof pe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(pe)&&(pe="#"+pe[1]+pe[1]+pe[2]+pe[2]+pe[3]+pe[3]),typeof pe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(pe)){var Tt=parseInt(pe.substr(1),16);pe=Tt>>16&255,xe=Tt>>8&255,De=255&Tt}if(xe===void 0||je===void 0&&pe===xe&&xe===De)if(typeof pe=="string")j=pe+" "+rt[0];else switch(E.precision){case 2:j=ae(pe/255)+" "+rt[0];break;case 3:default:j=B(pe/255)+" "+rt[0]}else if(je===void 0||En(je)==="object"){if(je&&!isNaN(je.a)&&je.a===0)return j=["1.","1.","1.",rt[1]].join(" ");if(typeof pe=="string")j=[pe,xe,De,rt[1]].join(" ");else switch(E.precision){case 2:j=[ae(pe/255),ae(xe/255),ae(De/255),rt[1]].join(" ");break;default:case 3:j=[B(pe/255),B(xe/255),B(De/255),rt[1]].join(" ")}}else if(typeof pe=="string")j=[pe,xe,De,je,rt[2]].join(" ");else switch(E.precision){case 2:j=[ae(pe),ae(xe),ae(De),ae(je),rt[2]].join(" ");break;case 3:default:j=[B(pe),B(xe),B(De),B(je),rt[2]].join(" ")}return j},tr=y.__private__.getFilters=function(){return l},nr=y.__private__.putStream=function(E){var j=(E=E||{}).data||"",pe=E.filters||tr(),xe=E.alreadyAppliedFilters||[],De=E.addLength1||!1,je=j.length,rt=E.objectId,pt=function(Ii){return Ii};if(p!==null&&rt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(pt=Kt.encryptor(rt,0));var Tt={};pe===!0&&(pe=["FlateEncode"]);var Pt=E.additionalKeyValues||[],Rt=(Tt=kt.API.processDataByFilters!==void 0?kt.API.processDataByFilters(j,pe):{data:j,reverseChain:[]}).reverseChain+(Array.isArray(xe)?xe.join(" "):xe.toString());if(Tt.data.length!==0&&(Pt.push({key:"Length",value:Tt.data.length}),De===!0&&Pt.push({key:"Length1",value:je})),Rt.length!=0)if(Rt.split("/").length-1==1)Pt.push({key:"Filter",value:Rt});else{Pt.push({key:"Filter",value:"["+Rt+"]"});for(var tn=0;tn<Pt.length;tn+=1)if(Pt[tn].key==="DecodeParms"){for(var Un=[],zn=0;zn<Tt.reverseChain.split("/").length-1;zn+=1)Un.push("null");Un.push(Pt[tn].value),Pt[tn].value="["+Un.join(" ")+"]"}}$("<<");for(var $n=0;$n<Pt.length;$n++)$("/"+Pt[$n].key+" "+Pt[$n].value);$(">>"),Tt.data.length!==0&&($("stream"),$(pt(Tt.data)),$("endstream"))},Mr=y.__private__.putPage=function(E){var j=E.number,pe=E.data,xe=E.objId,De=E.contentsObjId;mi(xe,!0),$("<</Type /Page"),$("/Parent "+E.rootDictionaryObjId+" 0 R"),$("/Resources "+E.resourceDictionaryObjId+" 0 R"),$("/MediaBox ["+parseFloat(H(E.mediaBox.bottomLeftX))+" "+parseFloat(H(E.mediaBox.bottomLeftY))+" "+H(E.mediaBox.topRightX)+" "+H(E.mediaBox.topRightY)+"]"),E.cropBox!==null&&$("/CropBox ["+H(E.cropBox.bottomLeftX)+" "+H(E.cropBox.bottomLeftY)+" "+H(E.cropBox.topRightX)+" "+H(E.cropBox.topRightY)+"]"),E.bleedBox!==null&&$("/BleedBox ["+H(E.bleedBox.bottomLeftX)+" "+H(E.bleedBox.bottomLeftY)+" "+H(E.bleedBox.topRightX)+" "+H(E.bleedBox.topRightY)+"]"),E.trimBox!==null&&$("/TrimBox ["+H(E.trimBox.bottomLeftX)+" "+H(E.trimBox.bottomLeftY)+" "+H(E.trimBox.topRightX)+" "+H(E.trimBox.topRightY)+"]"),E.artBox!==null&&$("/ArtBox ["+H(E.artBox.bottomLeftX)+" "+H(E.artBox.bottomLeftY)+" "+H(E.artBox.topRightX)+" "+H(E.artBox.topRightY)+"]"),typeof E.userUnit=="number"&&E.userUnit!==1&&$("/UserUnit "+E.userUnit),Yt.publish("putPage",{objId:xe,pageContext:xt[j],pageNumber:j,page:pe}),$("/Contents "+De+" 0 R"),$(">>"),$("endobj");var je=pe.join(`
`);return U===k.ADVANCED&&(je+=`
Q`),mi(De,!0),nr({data:je,filters:tr(),objectId:De}),$("endobj"),xe},ir=y.__private__.putPages=function(){var E,j,pe=[];for(E=1;E<=Jt;E++)xt[E].objId=wn(),xt[E].contentsObjId=wn();for(E=1;E<=Jt;E++)pe.push(Mr({number:E,data:Ye[E],objId:xt[E].objId,contentsObjId:xt[E].contentsObjId,mediaBox:xt[E].mediaBox,cropBox:xt[E].cropBox,bleedBox:xt[E].bleedBox,trimBox:xt[E].trimBox,artBox:xt[E].artBox,userUnit:xt[E].userUnit,rootDictionaryObjId:gi,resourceDictionaryObjId:gn}));mi(gi,!0),$("<</Type /Pages");var xe="/Kids [";for(j=0;j<Jt;j++)xe+=pe[j]+" 0 R ";$(xe+"]"),$("/Count "+Jt),$(">>"),$("endobj"),Yt.publish("postPutPages")},Rr=function(E){Yt.publish("putFont",{font:E,out:$,newObject:_n,putStream:nr}),E.isAlreadyPutted!==!0&&(E.objectNumber=_n(),$("<<"),$("/Type /Font"),$("/BaseFont /"+Hu(E.postScriptName)),$("/Subtype /Type1"),typeof E.encoding=="string"&&$("/Encoding /"+E.encoding),$("/FirstChar 32"),$("/LastChar 255"),$(">>"),$("endobj"))},bs=function(){for(var E in Bt)Bt.hasOwnProperty(E)&&(v===!1||v===!0&&_.hasOwnProperty(E))&&Rr(Bt[E])},vr=function(E){E.objectNumber=_n();var j=[];j.push({key:"Type",value:"/XObject"}),j.push({key:"Subtype",value:"/Form"}),j.push({key:"BBox",value:"["+[H(E.x),H(E.y),H(E.x+E.width),H(E.y+E.height)].join(" ")+"]"}),j.push({key:"Matrix",value:"["+E.matrix.toString()+"]"});var pe=E.pages[1].join(`
`);nr({data:pe,additionalKeyValues:j,objectId:E.objectNumber}),$("endobj")},ti=function(){for(var E in Zn)Zn.hasOwnProperty(E)&&vr(Zn[E])},is=function(E,j){var pe,xe=[],De=1/(j-1);for(pe=0;pe<1;pe+=De)xe.push(pe);if(xe.push(1),E[0].offset!=0){var je={offset:0,color:E[0].color};E.unshift(je)}if(E[E.length-1].offset!=1){var rt={offset:1,color:E[E.length-1].color};E.push(rt)}for(var pt="",Tt=0,Pt=0;Pt<xe.length;Pt++){for(pe=xe[Pt];pe>E[Tt+1].offset;)Tt++;var Rt=E[Tt].offset,tn=(pe-Rt)/(E[Tt+1].offset-Rt),Un=E[Tt].color,zn=E[Tt+1].color;pt+=ie(Math.round((1-tn)*Un[0]+tn*zn[0]).toString(16))+ie(Math.round((1-tn)*Un[1]+tn*zn[1]).toString(16))+ie(Math.round((1-tn)*Un[2]+tn*zn[2]).toString(16))}return pt.trim()},_s=function(E,j){j||(j=21);var pe=_n(),xe=is(E.colors,j),De=[];De.push({key:"FunctionType",value:"0"}),De.push({key:"Domain",value:"[0.0 1.0]"}),De.push({key:"Size",value:"["+j+"]"}),De.push({key:"BitsPerSample",value:"8"}),De.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),De.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),nr({data:xe,additionalKeyValues:De,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:pe}),$("endobj"),E.objectNumber=_n(),$("<< /ShadingType "+E.type),$("/ColorSpace /DeviceRGB");var je="/Coords ["+H(parseFloat(E.coords[0]))+" "+H(parseFloat(E.coords[1]))+" ";E.type===2?je+=H(parseFloat(E.coords[2]))+" "+H(parseFloat(E.coords[3])):je+=H(parseFloat(E.coords[2]))+" "+H(parseFloat(E.coords[3]))+" "+H(parseFloat(E.coords[4]))+" "+H(parseFloat(E.coords[5])),$(je+="]"),E.matrix&&$("/Matrix ["+E.matrix.toString()+"]"),$("/Function "+pe+" 0 R"),$("/Extend [true true]"),$(">>"),$("endobj")},Vn=function(E,j){var pe=wn(),xe=_n();j.push({resourcesOid:pe,objectOid:xe}),E.objectNumber=xe;var De=[];De.push({key:"Type",value:"/Pattern"}),De.push({key:"PatternType",value:"1"}),De.push({key:"PaintType",value:"1"}),De.push({key:"TilingType",value:"1"}),De.push({key:"BBox",value:"["+E.boundingBox.map(H).join(" ")+"]"}),De.push({key:"XStep",value:H(E.xStep)}),De.push({key:"YStep",value:H(E.yStep)}),De.push({key:"Resources",value:pe+" 0 R"}),E.matrix&&De.push({key:"Matrix",value:"["+E.matrix.toString()+"]"}),nr({data:E.stream,additionalKeyValues:De,objectId:E.objectNumber}),$("endobj")},Bs=function(E){var j;for(j in en)en.hasOwnProperty(j)&&(en[j]instanceof Zl?_s(en[j]):en[j]instanceof ju&&Vn(en[j],E))},Yo=function(E){for(var j in E.objectNumber=_n(),$("<<"),E)switch(j){case"opacity":$("/ca "+ae(E[j]));break;case"stroke-opacity":$("/CA "+ae(E[j]))}$(">>"),$("endobj")},kr=function(){var E;for(E in mn)mn.hasOwnProperty(E)&&Yo(mn[E])},Dr=function(){for(var E in $("/XObject <<"),Zn)Zn.hasOwnProperty(E)&&Zn[E].objectNumber>=0&&$("/"+E+" "+Zn[E].objectNumber+" 0 R");Yt.publish("putXobjectDict"),$(">>")},Al=function(){Kt.oid=_n(),$("<<"),$("/Filter /Standard"),$("/V "+Kt.v),$("/R "+Kt.r),$("/U <"+Kt.toHexString(Kt.U)+">"),$("/O <"+Kt.toHexString(Kt.O)+">"),$("/P "+Kt.P),$(">>"),$("endobj")},Jo=function(){for(var E in $("/Font <<"),Bt)Bt.hasOwnProperty(E)&&(v===!1||v===!0&&_.hasOwnProperty(E))&&$("/"+E+" "+Bt[E].objectNumber+" 0 R");$(">>")},La=function(){if(Object.keys(en).length>0){for(var E in $("/Shading <<"),en)en.hasOwnProperty(E)&&en[E]instanceof Zl&&en[E].objectNumber>=0&&$("/"+E+" "+en[E].objectNumber+" 0 R");Yt.publish("putShadingPatternDict"),$(">>")}},Pr=function(E){if(Object.keys(en).length>0){for(var j in $("/Pattern <<"),en)en.hasOwnProperty(j)&&en[j]instanceof y.TilingPattern&&en[j].objectNumber>=0&&en[j].objectNumber<E&&$("/"+j+" "+en[j].objectNumber+" 0 R");Yt.publish("putTilingPatternDict"),$(">>")}},ws=function(){if(Object.keys(mn).length>0){var E;for(E in $("/ExtGState <<"),mn)mn.hasOwnProperty(E)&&mn[E].objectNumber>=0&&$("/"+E+" "+mn[E].objectNumber+" 0 R");Yt.publish("putGStateDict"),$(">>")}},Nn=function(E){mi(E.resourcesOid,!0),$("<<"),$("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Jo(),La(),Pr(E.objectOid),ws(),Dr(),$(">>"),$("endobj")},rr=function(){var E=[];bs(),kr(),ti(),Bs(E),Yt.publish("putResources"),E.forEach(Nn),Nn({resourcesOid:gn,objectOid:Number.MAX_SAFE_INTEGER}),Yt.publish("postPutResources")},yi=function(){Yt.publish("putAdditionalObjects");for(var E=0;E<We.length;E++){var j=We[E];mi(j.objId,!0),$(j.content),$("endobj")}Yt.publish("postPutAdditionalObjects")},Wo=function(E){Lt[E.fontName]=Lt[E.fontName]||{},Lt[E.fontName][E.fontStyle]=E.id},Ko=function(E,j,pe,xe,De){var je={id:"F"+(Object.keys(Bt).length+1).toString(10),postScriptName:E,fontName:j,fontStyle:pe,encoding:xe,isStandardFont:De||!1,metadata:{}};return Yt.publish("addFont",{font:je,instance:this}),Bt[je.id]=je,Wo(je),je.id},Xo=function(E){for(var j=0,pe=he.length;j<pe;j++){var xe=Ko.call(this,E[j][0],E[j][1],E[j][2],he[j][3],!0);v===!1&&(_[xe]=!0);var De=E[j][0].split("-");Wo({id:xe,fontName:De[0],fontStyle:De[1]||""})}Yt.publish("addFonts",{fonts:Bt,dictionary:Lt})},sr=function(E){return E.foo=function(){try{return E.apply(this,arguments)}catch(xe){var j=xe.stack||"";~j.indexOf(" at ")&&(j=j.split(" at ")[1]);var pe="Error in function "+j.split(`
`)[0].split("<")[0]+": "+xe.message;if(!Dt.console)throw new Error(pe);Dt.console.error(pe,xe),Dt.alert&&alert(pe)}},E.foo.bar=E,E.foo},rs=function(E,j){var pe,xe,De,je,rt,pt,Tt,Pt,Rt;if(De=(j=j||{}).sourceEncoding||"Unicode",rt=j.outputEncoding,(j.autoencode||rt)&&Bt[Ct].metadata&&Bt[Ct].metadata[De]&&Bt[Ct].metadata[De].encoding&&(je=Bt[Ct].metadata[De].encoding,!rt&&Bt[Ct].encoding&&(rt=Bt[Ct].encoding),!rt&&je.codePages&&(rt=je.codePages[0]),typeof rt=="string"&&(rt=je[rt]),rt)){for(Tt=!1,pt=[],pe=0,xe=E.length;pe<xe;pe++)(Pt=rt[E.charCodeAt(pe)])?pt.push(String.fromCharCode(Pt)):pt.push(E[pe]),pt[pe].charCodeAt(0)>>8&&(Tt=!0);E=pt.join("")}for(pe=E.length;Tt===void 0&&pe!==0;)E.charCodeAt(pe-1)>>8&&(Tt=!0),pe--;if(!Tt)return E;for(pt=j.noBOM?[]:[254,255],pe=0,xe=E.length;pe<xe;pe++){if((Rt=(Pt=E.charCodeAt(pe))>>8)>>8)throw new Error("Character at position "+pe+" of string '"+E+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");pt.push(Rt),pt.push(Pt-(Rt<<8))}return String.fromCharCode.apply(void 0,pt)},Fi=y.__private__.pdfEscape=y.pdfEscape=function(E,j){return rs(E,j).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},bi=y.__private__.beginPage=function(E){Ye[++Jt]=[],xt[Jt]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(E[0]),topRightY:Number(E[1])}},fo(Jt),ye(Ye[G])},co=function(E,j){var pe,xe,De;switch(n=j||n,typeof E=="string"&&(pe=T(E.toLowerCase()),Array.isArray(pe)&&(xe=pe[0],De=pe[1])),Array.isArray(E)&&(xe=E[0]*at,De=E[1]*at),isNaN(xe)&&(xe=o[0],De=o[1]),(xe>14400||De>14400)&&(Pn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),xe=Math.min(14400,xe),De=Math.min(14400,De)),o=[xe,De],n.substr(0,1)){case"l":De>xe&&(o=[De,xe]);break;case"p":xe>De&&(o=[De,xe])}bi(o),ea(_i),$(os),Il!==0&&$(Il+" J"),Ml!==0&&$(Ml+" j"),Yt.publish("addPage",{pageNumber:Jt})},Ia=function(E){E>0&&E<=Jt&&(Ye.splice(E,1),xt.splice(E,1),Jt--,G>Jt&&(G=Jt),this.setPage(G))},fo=function(E){E>0&&E<=Jt&&(G=E)},xs=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return Ye.length-1},Zo=function(E,j,pe){var xe,De=void 0;return pe=pe||{},E=E!==void 0?E:Bt[Ct].fontName,j=j!==void 0?j:Bt[Ct].fontStyle,xe=E.toLowerCase(),Lt[xe]!==void 0&&Lt[xe][j]!==void 0?De=Lt[xe][j]:Lt[E]!==void 0&&Lt[E][j]!==void 0?De=Lt[E][j]:pe.disableWarning===!1&&Pn.warn("Unable to look up font label for font '"+E+"', '"+j+"'. Refer to getFontList() for available fonts."),De||pe.noFallback||(De=Lt.times[j])==null&&(De=Lt.times.normal),De},Ma=y.__private__.putInfo=function(){var E=_n(),j=function(xe){return xe};for(var pe in p!==null&&(j=Kt.encryptor(E,0)),$("<<"),$("/Producer ("+Fi(j("jsPDF "+kt.version))+")"),vt)vt.hasOwnProperty(pe)&&vt[pe]&&$("/"+pe.substr(0,1).toUpperCase()+pe.substr(1)+" ("+Fi(j(vt[pe]))+")");$("/CreationDate ("+Fi(j(ce))+")"),$(">>"),$("endobj")},Ur=y.__private__.putCatalog=function(E){var j=(E=E||{}).rootDictionaryObjId||gi;switch(_n(),$("<<"),$("/Type /Catalog"),$("/Pages "+j+" 0 R"),Re||(Re="fullwidth"),Re){case"fullwidth":$("/OpenAction [3 0 R /FitH null]");break;case"fullheight":$("/OpenAction [3 0 R /FitV null]");break;case"fullpage":$("/OpenAction [3 0 R /Fit]");break;case"original":$("/OpenAction [3 0 R /XYZ null null 1]");break;default:var pe=""+Re;pe.substr(pe.length-1)==="%"&&(Re=parseInt(Re)/100),typeof Re=="number"&&$("/OpenAction [3 0 R /XYZ null null "+ae(Re)+"]")}switch(it||(it="continuous"),it){case"continuous":$("/PageLayout /OneColumn");break;case"single":$("/PageLayout /SinglePage");break;case"two":case"twoleft":$("/PageLayout /TwoColumnLeft");break;case"tworight":$("/PageLayout /TwoColumnRight")}He&&$("/PageMode /"+He),Yt.publish("putCatalog"),$(">>"),$("endobj")},El=y.__private__.putTrailer=function(){$("trailer"),$("<<"),$("/Size "+(ve+1)),$("/Root "+ve+" 0 R"),$("/Info "+(ve-1)+" 0 R"),p!==null&&$("/Encrypt "+Kt.oid+" 0 R"),$("/ID [ <"+oe+"> <"+oe+"> ]"),$(">>")},de=y.__private__.putHeader=function(){$("%PDF-"+N),$("%")},Ze=y.__private__.putXRef=function(){var E="0000000000";$("xref"),$("0 "+(ve+1)),$("0000000000 65535 f ");for(var j=1;j<=ve;j++)typeof Te[j]=="function"?$((E+Te[j]()).slice(-10)+" 00000 n "):Te[j]!==void 0?$((E+Te[j]).slice(-10)+" 00000 n "):$("0000000000 00000 n ")},Xe=y.__private__.buildDocument=function(){F(),ye(we),Yt.publish("buildDocument"),de(),ir(),yi(),rr(),p!==null&&Al(),Ma(),Ur();var E=Se;return Ze(),El(),$("startxref"),$(""+E),$("%%EOF"),ye(Ye[G]),we.join(`
`)},At=y.__private__.getBlob=function(E){return new Blob([se(E)],{type:"application/pdf"})},Gt=y.output=y.__private__.output=sr((function(E,j){switch(typeof(j=j||{})=="string"?j={filename:j}:j.filename=j.filename||"generated.pdf",E){case void 0:return Xe();case"save":y.save(j.filename);break;case"arraybuffer":return se(Xe());case"blob":return At(Xe());case"bloburi":case"bloburl":if(Dt.URL!==void 0&&typeof Dt.URL.createObjectURL=="function")return Dt.URL&&Dt.URL.createObjectURL(At(Xe()))||void 0;Pn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var pe="",xe=Xe();try{pe=yp(xe)}catch{pe=yp(unescape(encodeURIComponent(xe)))}return"data:application/pdf;filename="+j.filename+";base64,"+pe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Dt)==="[object Window]"){var De="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",je=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';j.pdfObjectUrl&&(De=j.pdfObjectUrl,je="");var rt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+De+'"'+je+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(j)+");<\/script></body></html>",pt=Dt.open();return pt!==null&&pt.document.write(rt),pt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Dt)==="[object Window]"){var Tt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(j.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+j.filename+'" width="500px" height="400px" /></body></html>',Pt=Dt.open();if(Pt!==null){Pt.document.write(Tt);var Rt=this;Pt.document.documentElement.querySelector("#pdfViewer").onload=function(){Pt.document.title=j.filename,Pt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Rt.output("bloburl"))}}return Pt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Dt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var tn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",j)+'"></iframe></body></html>',Un=Dt.open();if(Un!==null&&(Un.document.write(tn),Un.document.title=j.filename),Un||typeof safari>"u")return Un;break;case"datauri":case"dataurl":return Dt.document.location.href=this.output("datauristring",j);default:return null}})),an=function(E){return Array.isArray(Oi)===!0&&Oi.indexOf(E)>-1};switch(r){case"pt":at=1;break;case"mm":at=72/25.4;break;case"cm":at=72/2.54;break;case"in":at=72;break;case"px":at=an("px_scaling")==1?.75:96/72;break;case"pc":case"em":at=12;break;case"ex":at=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);at=r}var Kt=null;Y(),me();var Or=function(E){return p!==null?Kt.encryptor(E,0):function(j){return j}},Ss=y.__private__.getPageInfo=y.getPageInfo=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:xt[E].objId,pageNumber:E,pageContext:xt[E]}},mt=y.__private__.getPageInfoByObjId=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var j in xt)if(xt[j].objId===E)break;return Ss(j)},Bn=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:xt[G].objId,pageNumber:G,pageContext:xt[G]}};y.addPage=function(){return co.apply(this,arguments),this},y.setPage=function(){return fo.apply(this,arguments),ye.call(this,Ye[G]),this},y.insertPage=function(E){return this.addPage(),this.movePage(G,E),this},y.movePage=function(E,j){var pe,xe;if(E>j){pe=Ye[E],xe=xt[E];for(var De=E;De>j;De--)Ye[De]=Ye[De-1],xt[De]=xt[De-1];Ye[j]=pe,xt[j]=xe,this.setPage(j)}else if(E<j){pe=Ye[E],xe=xt[E];for(var je=E;je<j;je++)Ye[je]=Ye[je+1],xt[je]=xt[je+1];Ye[j]=pe,xt[j]=xe,this.setPage(j)}return this},y.deletePage=function(){return Ia.apply(this,arguments),this},y.__private__.text=y.text=function(E,j,pe,xe,De){var je,rt,pt,Tt,Pt,Rt,tn,Un,zn,$n=(xe=xe||{}).scope||this;if(typeof E=="number"&&typeof j=="number"&&(typeof pe=="string"||Array.isArray(pe))){var Ii=pe;pe=j,j=E,E=Ii}if(arguments[3]instanceof St?(Z("The transform parameter of text() with a Matrix value"),zn=De):(pt=arguments[4],Tt=arguments[5],En(tn=arguments[3])==="object"&&tn!==null||(typeof pt=="string"&&(Tt=pt,pt=null),typeof tn=="string"&&(Tt=tn,tn=null),typeof tn=="number"&&(pt=tn,tn=null),xe={flags:tn,angle:pt,align:Tt})),isNaN(j)||isNaN(pe)||E==null)throw new Error("Invalid arguments passed to jsPDF.text");if(E.length===0)return $n;var ai="",Bi=!1,_r=typeof xe.lineHeightFactor=="number"?xe.lineHeightFactor:go,Es=$n.internal.scaleFactor;function su(Wt){return Wt=Wt.split("	").join(Array(xe.TabLen||9).join(" ")),Fi(Wt,tn)}function Oa(Wt){for(var vn,ln=Wt.concat(),On=[],fs=ln.length;fs--;)typeof(vn=ln.shift())=="string"?On.push(vn):Array.isArray(Wt)&&(vn.length===1||vn[1]===void 0&&vn[2]===void 0)?On.push(vn[0]):On.push([vn[0],vn[1],vn[2]]);return On}function Fa(Wt,vn){var ln;if(typeof Wt=="string")ln=vn(Wt)[0];else if(Array.isArray(Wt)){for(var On,fs,To=Wt.concat(),Ys=[],ja=To.length;ja--;)typeof(On=To.shift())=="string"?Ys.push(vn(On)[0]):Array.isArray(On)&&typeof On[0]=="string"&&(fs=vn(On[0],On[1],On[2]),Ys.push([fs[0],fs[1],fs[2]]));ln=Ys}return ln}var Ts=!1,qs=!0;if(typeof E=="string")Ts=!0;else if(Array.isArray(E)){var Pl=E.concat();rt=[];for(var Gs,wi=Pl.length;wi--;)(typeof(Gs=Pl.shift())!="string"||Array.isArray(Gs)&&typeof Gs[0]!="string")&&(qs=!1);Ts=qs}if(Ts===!1)throw new Error('Type of text must be string or Array. "'+E+'" is not recognized.');typeof E=="string"&&(E=E.match(/[\r?\n]/)?E.split(/\r\n|\r|\n/g):[E]);var ra=Ce/$n.internal.scaleFactor,_o=ra*(_r-1);switch(xe.baseline){case"bottom":pe-=_o;break;case"top":pe+=ra-_o;break;case"hanging":pe+=ra-2*_o;break;case"middle":pe+=ra/2-_o}if((Rt=xe.maxWidth||0)>0&&(typeof E=="string"?E=$n.splitTextToSize(E,Rt):Object.prototype.toString.call(E)==="[object Array]"&&(E=E.reduce((function(Wt,vn){return Wt.concat($n.splitTextToSize(vn,Rt))}),[]))),je={text:E,x:j,y:pe,options:xe,mutex:{pdfEscape:Fi,activeFontKey:Ct,fonts:Bt,activeFontSize:Ce}},Yt.publish("preProcessText",je),E=je.text,pt=(xe=je.options).angle,!(zn instanceof St)&&pt&&typeof pt=="number"){pt*=Math.PI/180,xe.rotationDirection===0&&(pt=-pt),U===k.ADVANCED&&(pt=-pt);var wo=Math.cos(pt),Ba=Math.sin(pt);zn=new St(wo,Ba,-Ba,wo,0,0)}else pt&&pt instanceof St&&(zn=pt);U!==k.ADVANCED||zn||(zn=hi),(Pt=xe.charSpace||Pa)!==void 0&&(ai+=H(D(Pt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Un=xe.horizontalScale)!==void 0&&(ai+=H(100*Un)+` Tz
`),xe.lang;var Xi=-1,ou=xe.renderingMode!==void 0?xe.renderingMode:xe.stroke,Ul=$n.internal.getCurrentPageInfo().pageContext;switch(ou){case 0:case!1:case"fill":Xi=0;break;case 1:case!0:case"stroke":Xi=1;break;case 2:case"fillThenStroke":Xi=2;break;case 3:case"invisible":Xi=3;break;case 4:case"fillAndAddForClipping":Xi=4;break;case 5:case"strokeAndAddPathForClipping":Xi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Xi=6;break;case 7:case"addToPathForClipping":Xi=7}var au=Ul.usedRenderingMode!==void 0?Ul.usedRenderingMode:-1;Xi!==-1?ai+=Xi+` Tr
`:au!==-1&&(ai+=`0 Tr
`),Xi!==-1&&(Ul.usedRenderingMode=Xi),Tt=xe.align||"left";var qr,za=Ce*_r,lu=$n.internal.pageSize.getWidth(),zi=Bt[Ct];Pt=xe.charSpace||Pa,Rt=xe.maxWidth||0,tn=Object.assign({autoencode:!0,noBOM:!0},xe.flags);var Gr=[],xo=function(Wt){return $n.getStringUnitWidth(Wt,{font:zi,charSpace:Pt,fontSize:Ce,doKerning:!1})*Ce/Es};if(Object.prototype.toString.call(E)==="[object Array]"){var Zi;rt=Oa(E),Tt!=="left"&&(qr=rt.map(xo));var qi,Hs=0;if(Tt==="right"){j-=qr[0],E=[],wi=rt.length;for(var as=0;as<wi;as++)as===0?(qi=zr(j),Zi=br(pe)):(qi=D(Hs-qr[as]),Zi=-za),E.push([rt[as],qi,Zi]),Hs=qr[as]}else if(Tt==="center"){j-=qr[0]/2,E=[],wi=rt.length;for(var Vs=0;Vs<wi;Vs++)Vs===0?(qi=zr(j),Zi=br(pe)):(qi=D((Hs-qr[Vs])/2),Zi=-za),E.push([rt[Vs],qi,Zi]),Hs=qr[Vs]}else if(Tt==="left"){E=[],wi=rt.length;for(var ls=0;ls<wi;ls++)E.push(rt[ls])}else if(Tt==="justify"&&zi.encoding==="Identity-H"){E=[],wi=rt.length,Rt=Rt!==0?Rt:lu;for(var us=0,Mn=0;Mn<wi;Mn++)if(Zi=Mn===0?br(pe):-za,qi=Mn===0?zr(j):us,Mn<wi-1){var sa=D((Rt-qr[Mn])/(rt[Mn].split(" ").length-1)),Gi=rt[Mn].split(" ");E.push([Gi[0]+" ",qi,Zi]),us=0;for(var xi=1;xi<Gi.length;xi++){var cs=(xo(Gi[xi-1]+" "+Gi[xi])-xo(Gi[xi]))*Es+sa;xi==Gi.length-1?E.push([Gi[xi],cs,0]):E.push([Gi[xi]+" ",cs,0]),us-=cs}}else E.push([rt[Mn],qi,Zi]);E.push(["",us,0])}else{if(Tt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(E=[],wi=rt.length,Rt=Rt!==0?Rt:lu,Mn=0;Mn<wi;Mn++)Zi=Mn===0?br(pe):-za,qi=Mn===0?zr(j):0,Mn<wi-1?Gr.push(H(D((Rt-qr[Mn])/(rt[Mn].split(" ").length-1)))):Gr.push(0),E.push([rt[Mn],qi,Zi])}}var qa=typeof xe.R2L=="boolean"?xe.R2L:ze;qa===!0&&(E=Fa(E,(function(Wt,vn,ln){return[Wt.split("").reverse().join(""),vn,ln]}))),je={text:E,x:j,y:pe,options:xe,mutex:{pdfEscape:Fi,activeFontKey:Ct,fonts:Bt,activeFontSize:Ce}},Yt.publish("postProcessText",je),E=je.text,Bi=je.mutex.isHex||!1;var Ga=Bt[Ct].encoding;Ga!=="WinAnsiEncoding"&&Ga!=="StandardEncoding"||(E=Fa(E,(function(Wt,vn,ln){return[su(Wt),vn,ln]}))),rt=Oa(E),E=[];for(var wr,So,js,Ao=0,Ha=1,oa=Array.isArray(rt[0])?Ha:Ao,Eo="",Va=function(Wt,vn,ln){var On="";return ln instanceof St?(ln=typeof xe.angle=="number"?Ki(ln,new St(1,0,0,1,Wt,vn)):Ki(new St(1,0,0,1,Wt,vn),ln),U===k.ADVANCED&&(ln=Ki(new St(1,0,0,-1,0,0),ln)),On=ln.join(" ")+` Tm
`):On=H(Wt)+" "+H(vn)+` Td
`,On},xr=0;xr<rt.length;xr++){switch(Eo="",oa){case Ha:js=(Bi?"<":"(")+rt[xr][0]+(Bi?">":")"),wr=parseFloat(rt[xr][1]),So=parseFloat(rt[xr][2]);break;case Ao:js=(Bi?"<":"(")+rt[xr]+(Bi?">":")"),wr=zr(j),So=br(pe)}Gr!==void 0&&Gr[xr]!==void 0&&(Eo=Gr[xr]+` Tw
`),xr===0?E.push(Eo+Va(wr,So,zn)+js):oa===Ao?E.push(Eo+js):oa===Ha&&E.push(Eo+Va(wr,So,zn)+js)}E=oa===Ao?E.join(` Tj
T* `):E.join(` Tj
`),E+=` Tj
`;var ar=`BT
/`;return ar+=Ct+" "+Ce+` Tf
`,ar+=H(Ce*_r)+` TL
`,ar+=ta+`
`,ar+=ai,ar+=E,$(ar+="ET"),_[Ct]=!0,$n};var yr=y.__private__.clip=y.clip=function(E){return $(E==="evenodd"?"W*":"W"),this};y.clipEvenOdd=function(){return yr("evenodd")},y.__private__.discardPath=y.discardPath=function(){return $("n"),this};var Fr=y.__private__.isValidStyle=function(E){var j=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(E)!==-1&&(j=!0),j};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(E){return Fr(E)&&(d=E),this};var Tl=y.__private__.getStyle=y.getStyle=function(E){var j=d;switch(E){case"D":case"S":j="S";break;case"F":j="f";break;case"FD":case"DF":j="B";break;case"f":case"f*":case"B":case"B*":j=E}return j},ho=y.close=function(){return $("h"),this};y.stroke=function(){return $("S"),this},y.fill=function(E){return or("f",E),this},y.fillEvenOdd=function(E){return or("f*",E),this},y.fillStroke=function(E){return or("B",E),this},y.fillStrokeEvenOdd=function(E){return or("B*",E),this};var or=function(E,j){En(j)==="object"?As(j,E):$(E)},$o=function(E){E===null||U===k.ADVANCED&&E===void 0||(E=Tl(E),$(E))};function Qo(E,j,pe,xe,De){var je=new ju(j||this.boundingBox,pe||this.xStep,xe||this.yStep,this.gState,De||this.matrix);je.stream=this.stream;var rt=E+"$$"+this.cloneIndex+++"$$";return pi(rt,je),je}var As=function(E,j){var pe=Ir[E.key],xe=en[pe];if(xe instanceof Zl)$("q"),$(Nl(j)),xe.gState&&y.setGState(xe.gState),$(E.matrix.toString()+" cm"),$("/"+pe+" sh"),$("Q");else if(xe instanceof ju){var De=new St(1,0,0,-1,0,bo());E.matrix&&(De=De.multiply(E.matrix||hi),pe=Qo.call(xe,E.key,E.boundingBox,E.xStep,E.yStep,De).id),$("q"),$("/Pattern cs"),$("/"+pe+" scn"),xe.gState&&y.setGState(xe.gState),$(j),$("Q")}},Nl=function(E){switch(E){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},po=y.moveTo=function(E,j){return $(H(D(E))+" "+H(I(j))+" m"),this},mo=y.lineTo=function(E,j){return $(H(D(E))+" "+H(I(j))+" l"),this},ss=y.curveTo=function(E,j,pe,xe,De,je){return $([H(D(E)),H(I(j)),H(D(pe)),H(I(xe)),H(D(De)),H(I(je)),"c"].join(" ")),this};y.__private__.line=y.line=function(E,j,pe,xe,De){if(isNaN(E)||isNaN(j)||isNaN(pe)||isNaN(xe)||!Fr(De))throw new Error("Invalid arguments passed to jsPDF.line");return U===k.COMPAT?this.lines([[pe-E,xe-j]],E,j,[1,1],De||"S"):this.lines([[pe-E,xe-j]],E,j,[1,1]).stroke()},y.__private__.lines=y.lines=function(E,j,pe,xe,De,je){var rt,pt,Tt,Pt,Rt,tn,Un,zn,$n,Ii,ai,Bi;if(typeof E=="number"&&(Bi=pe,pe=j,j=E,E=Bi),xe=xe||[1,1],je=je||!1,isNaN(j)||isNaN(pe)||!Array.isArray(E)||!Array.isArray(xe)||!Fr(De)||typeof je!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(po(j,pe),rt=xe[0],pt=xe[1],Pt=E.length,Ii=j,ai=pe,Tt=0;Tt<Pt;Tt++)(Rt=E[Tt]).length===2?(Ii=Rt[0]*rt+Ii,ai=Rt[1]*pt+ai,mo(Ii,ai)):(tn=Rt[0]*rt+Ii,Un=Rt[1]*pt+ai,zn=Rt[2]*rt+Ii,$n=Rt[3]*pt+ai,Ii=Rt[4]*rt+Ii,ai=Rt[5]*pt+ai,ss(tn,Un,zn,$n,Ii,ai));return je&&ho(),$o(De),this},y.path=function(E){for(var j=0;j<E.length;j++){var pe=E[j],xe=pe.c;switch(pe.op){case"m":po(xe[0],xe[1]);break;case"l":mo(xe[0],xe[1]);break;case"c":ss.apply(this,xe);break;case"h":ho()}}return this},y.__private__.rect=y.rect=function(E,j,pe,xe,De){if(isNaN(E)||isNaN(j)||isNaN(pe)||isNaN(xe)||!Fr(De))throw new Error("Invalid arguments passed to jsPDF.rect");return U===k.COMPAT&&(xe=-xe),$([H(D(E)),H(I(j)),H(D(pe)),H(D(xe)),"re"].join(" ")),$o(De),this},y.__private__.triangle=y.triangle=function(E,j,pe,xe,De,je,rt){if(isNaN(E)||isNaN(j)||isNaN(pe)||isNaN(xe)||isNaN(De)||isNaN(je)||!Fr(rt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[pe-E,xe-j],[De-pe,je-xe],[E-De,j-je]],E,j,[1,1],rt,!0),this},y.__private__.roundedRect=y.roundedRect=function(E,j,pe,xe,De,je,rt){if(isNaN(E)||isNaN(j)||isNaN(pe)||isNaN(xe)||isNaN(De)||isNaN(je)||!Fr(rt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var pt=4/3*(Math.SQRT2-1);return De=Math.min(De,.5*pe),je=Math.min(je,.5*xe),this.lines([[pe-2*De,0],[De*pt,0,De,je-je*pt,De,je],[0,xe-2*je],[0,je*pt,-De*pt,je,-De,je],[2*De-pe,0],[-De*pt,0,-De,-je*pt,-De,-je],[0,2*je-xe],[0,-je*pt,De*pt,-je,De,-je]],E+De,j,[1,1],rt,!0),this},y.__private__.ellipse=y.ellipse=function(E,j,pe,xe,De){if(isNaN(E)||isNaN(j)||isNaN(pe)||isNaN(xe)||!Fr(De))throw new Error("Invalid arguments passed to jsPDF.ellipse");var je=4/3*(Math.SQRT2-1)*pe,rt=4/3*(Math.SQRT2-1)*xe;return po(E+pe,j),ss(E+pe,j-rt,E+je,j-xe,E,j-xe),ss(E-je,j-xe,E-pe,j-rt,E-pe,j),ss(E-pe,j+rt,E-je,j+xe,E,j+xe),ss(E+je,j+xe,E+pe,j+rt,E+pe,j),$o(De),this},y.__private__.circle=y.circle=function(E,j,pe,xe){if(isNaN(E)||isNaN(j)||isNaN(pe)||!Fr(xe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(E,j,pe,pe,xe)},y.setFont=function(E,j,pe){return pe&&(j=J(j,pe)),Ct=Zo(E,j,{disableWarning:!1}),this};var Ra=y.__private__.getFont=y.getFont=function(){return Bt[Zo.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var E,j,pe={};for(E in Lt)if(Lt.hasOwnProperty(E))for(j in pe[E]=[],Lt[E])Lt[E].hasOwnProperty(j)&&pe[E].push(j);return pe},y.addFont=function(E,j,pe,xe,De){var je=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&je.indexOf(arguments[3])!==-1?De=arguments[3]:arguments[3]&&je.indexOf(arguments[3])==-1&&(pe=J(pe,xe)),De=De||"Identity-H",Ko.call(this,E,j,pe,De)};var go,_i=t.lineWidth||.200025,Br=y.__private__.getLineWidth=y.getLineWidth=function(){return _i},ea=y.__private__.setLineWidth=y.setLineWidth=function(E){return _i=E,$(H(D(E))+" w"),this};y.__private__.setLineDash=kt.API.setLineDash=kt.API.setLineDashPattern=function(E,j){if(E=E||[],j=j||0,isNaN(j)||!Array.isArray(E))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return E=E.map((function(pe){return H(D(pe))})).join(" "),j=H(D(j)),$("["+E+"] "+j+" d"),this};var vo=y.__private__.getLineHeight=y.getLineHeight=function(){return Ce*go};y.__private__.getLineHeight=y.getLineHeight=function(){return Ce*go};var nu=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(E){return typeof(E=E||1.15)=="number"&&(go=E),this},ka=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return go};nu(t.lineHeight);var zr=y.__private__.getHorizontalCoordinate=function(E){return D(E)},br=y.__private__.getVerticalCoordinate=function(E){return U===k.ADVANCED?E:xt[G].mediaBox.topRightY-xt[G].mediaBox.bottomLeftY-D(E)},Da=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(E){return H(zr(E))},zs=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(E){return H(br(E))},os=t.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return Tn(os)},y.__private__.setStrokeColor=y.setDrawColor=function(E,j,pe,xe){return os=vi({ch1:E,ch2:j,ch3:pe,ch4:xe,pdfColorType:"draw",precision:2}),$(os),this};var Cl=t.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return Tn(Cl)},y.__private__.setFillColor=y.setFillColor=function(E,j,pe,xe){return Cl=vi({ch1:E,ch2:j,ch3:pe,ch4:xe,pdfColorType:"fill",precision:2}),$(Cl),this};var ta=t.textColor||"0 g",Ll=y.__private__.getTextColor=y.getTextColor=function(){return Tn(ta)};y.__private__.setTextColor=y.setTextColor=function(E,j,pe,xe){return ta=vi({ch1:E,ch2:j,ch3:pe,ch4:xe,pdfColorType:"text",precision:3}),this};var Pa=t.charSpace,ac=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat(Pa||0)};y.__private__.setCharSpace=y.setCharSpace=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Pa=E,this};var Il=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(E){var j=y.CapJoinStyles[E];if(j===void 0)throw new Error("Line cap style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Il=j,$(j+" J"),this};var Ml=0;y.__private__.setLineJoin=y.setLineJoin=function(E){var j=y.CapJoinStyles[E];if(j===void 0)throw new Error("Line join style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ml=j,$(j+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(E){if(E=E||0,isNaN(E))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return $(H(D(E))+" M"),this},y.GState=fd,y.setGState=function(E){(E=typeof E=="string"?mn[si[E]]:iu(null,E)).equals(Fn)||($("/"+E.id+" gs"),Fn=E)};var iu=function(E,j){if(!E||!si[E]){var pe=!1;for(var xe in mn)if(mn.hasOwnProperty(xe)&&mn[xe].equals(j)){pe=!0;break}if(pe)j=mn[xe];else{var De="GS"+(Object.keys(mn).length+1).toString(10);mn[De]=j,j.id=De}return E&&(si[E]=j.id),Yt.publish("addGState",j),j}};y.addGState=function(E,j){return iu(E,j),this},y.saveGraphicsState=function(){return $("q"),di.push({key:Ct,size:Ce,color:ta}),this},y.restoreGraphicsState=function(){$("Q");var E=di.pop();return Ct=E.key,Ce=E.size,ta=E.color,Fn=null,this},y.setCurrentTransformationMatrix=function(E){return $(E.toString()+" cm"),this},y.comment=function(E){return $("#"+E),this};var na=function(E,j){var pe=E||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return pe},set:function(je){isNaN(je)||(pe=parseFloat(je))}});var xe=j||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return xe},set:function(je){isNaN(je)||(xe=parseFloat(je))}});var De="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return De},set:function(je){De=je.toString()}}),this},Rl=function(E,j,pe,xe){na.call(this,E,j),this.type="rect";var De=pe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return De},set:function(rt){isNaN(rt)||(De=parseFloat(rt))}});var je=xe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return je},set:function(rt){isNaN(rt)||(je=parseFloat(rt))}}),this},kl=function(){this.page=Jt,this.currentPage=G,this.pages=Ye.slice(0),this.pagesContext=xt.slice(0),this.x=Vt,this.y=_t,this.matrix=cn,this.width=ia(G),this.height=bo(G),this.outputDestination=ot,this.id="",this.objectNumber=-1};kl.prototype.restore=function(){Jt=this.page,G=this.currentPage,xt=this.pagesContext,Ye=this.pages,Vt=this.x,_t=this.y,cn=this.matrix,Dl(G,this.width),Ua(G,this.height),ot=this.outputDestination};var ru=function(E,j,pe,xe,De){Li.push(new kl),Jt=G=0,Ye=[],Vt=E,_t=j,cn=De,bi([pe,xe])},lc=function(E){if(oi[E])Li.pop().restore();else{var j=new kl,pe="Xo"+(Object.keys(Zn).length+1).toString(10);j.id=pe,oi[E]=pe,Zn[pe]=j,Yt.publish("addFormObject",j),Li.pop().restore()}};for(var yo in y.beginFormObject=function(E,j,pe,xe,De){return ru(E,j,pe,xe,De),this},y.endFormObject=function(E){return lc(E),this},y.doFormObject=function(E,j){var pe=Zn[oi[E]];return $("q"),$(j.toString()+" cm"),$("/"+pe.id+" Do"),$("Q"),this},y.getFormObject=function(E){var j=Zn[oi[E]];return{x:j.x,y:j.y,width:j.width,height:j.height,matrix:j.matrix}},y.save=function(E,j){return E=E||"generated.pdf",(j=j||{}).returnPromise=j.returnPromise||!1,j.returnPromise===!1?(Kl(At(Xe()),E),typeof Kl.unload=="function"&&Dt.setTimeout&&setTimeout(Kl.unload,911),this):new Promise((function(pe,xe){try{var De=Kl(At(Xe()),E);typeof Kl.unload=="function"&&Dt.setTimeout&&setTimeout(Kl.unload,911),pe(De)}catch(je){xe(je.message)}}))},kt.API)kt.API.hasOwnProperty(yo)&&(yo==="events"&&kt.API.events.length?(function(E,j){var pe,xe,De;for(De=j.length-1;De!==-1;De--)pe=j[De][0],xe=j[De][1],E.subscribe.apply(E,[pe].concat(typeof xe=="function"?[xe]:xe))})(Yt,kt.API.events):y[yo]=kt.API[yo]);var ia=y.getPageWidth=function(E){return(xt[E=E||G].mediaBox.topRightX-xt[E].mediaBox.bottomLeftX)/at},Dl=y.setPageWidth=function(E,j){xt[E].mediaBox.topRightX=j*at+xt[E].mediaBox.bottomLeftX},bo=y.getPageHeight=function(E){return(xt[E=E||G].mediaBox.topRightY-xt[E].mediaBox.bottomLeftY)/at},Ua=y.setPageHeight=function(E,j){xt[E].mediaBox.topRightY=j*at+xt[E].mediaBox.bottomLeftY};return y.internal={pdfEscape:Fi,getStyle:Tl,getFont:Ra,getFontSize:be,getCharSpace:ac,getTextColor:Ll,getLineHeight:vo,getLineHeightFactor:ka,getLineWidth:Br,write:ue,getHorizontalCoordinate:zr,getVerticalCoordinate:br,getCoordinateString:Da,getVerticalCoordinateString:zs,collections:{},newObject:_n,newAdditionalObject:ys,newObjectDeferred:wn,newObjectDeferredBegin:mi,getFilters:tr,putStream:nr,events:Yt,scaleFactor:at,pageSize:{getWidth:function(){return ia(G)},setWidth:function(E){Dl(G,E)},getHeight:function(){return bo(G)},setHeight:function(E){Ua(G,E)}},encryptionOptions:p,encryption:Kt,getEncryptor:Or,output:Gt,getNumberOfPages:xs,pages:Ye,out:$,f2:ae,f3:B,getPageInfo:Ss,getPageInfoByObjId:mt,getCurrentPageInfo:Bn,getPDFVersion:A,Point:na,Rectangle:Rl,Matrix:St,hasHotfix:an},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return ia(G)},set:function(E){Dl(G,E)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return bo(G)},set:function(E){Ua(G,E)},enumerable:!0,configurable:!0}),Xo.call(y,he),Ct="F1",co(o,n),Yt.publish("initialized"),y}Gu.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Gu.prototype.toHexString=function(t){return t.split("").map((function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)})).join("")},Gu.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Gu.prototype.processOwnerPassword=function(t,e){return _p(bp(e).substr(0,5),t)},Gu.prototype.encryptor=function(t,e){var n=bp(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return _p(n,r)}},fd.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||En(t)!==En(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},kt.API={events:[]},kt.version="2.5.2";var ri=kt.API,Kp=1,Ql=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},zu=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},qt=function(t){return t.toFixed(2)},gl=function(t){return t.toFixed(5)};ri.__acroform__={};var ns=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Hg=function(t){return t*Kp},qo=function(t){var e=new _v,n=bt.internal.getHeight(t)||0,r=bt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(qt(r)),Number(qt(n))],e},xb=ri.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},Sb=ri.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},Ab=ri.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(t&1<<e)==0?0:1},ui=ri.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Ab(t,e-1)},ci=ri.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return xb(t,e-1)},fi=ri.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Sb(t,e-1)},Eb=ri.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,o=t[0],a=t[1],l=t[2],c=t[3],f={};return f.lowerLeft_X=n(o)||0,f.lowerLeft_Y=r(a+c)||0,f.upperRight_X=n(o+l)||0,f.upperRight_Y=r(a)||0,[Number(qt(f.lowerLeft_X)),Number(qt(f.lowerLeft_Y)),Number(qt(f.upperRight_X)),Number(qt(f.upperRight_Y))]},Tb=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=wp(t,n),o=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+o+" "+qt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=qo(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},wp=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},o=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");o=t.multiline?o.map((function(B){return B.split(`
`)})):o.map((function(B){return[B]}));var a=n,l=bt.internal.getHeight(t)||0;l=l<0?-l:l;var c=bt.internal.getWidth(t)||0;c=c<0?-c:c;var f=function(B,D,X){if(B+1<o.length){var I=D+" "+o[B+1][0];return Jf(I,t,X).width<=c-4}return!1};a++;e:for(;a>0;){e="",a--;var d,p,v=Jf("3",t,a).height,_=t.multiline?l-a:(l-v)/2,y=_+=2,N=0,A=0,C=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+Jf(e,t,a=12).width+", FieldWidth:"+c+`
`;break}for(var T="",k=0,U=0;U<o.length;U++)if(o.hasOwnProperty(U)){var z=!1;if(o[U].length!==1&&C!==o[U].length-1){if((v+2)*(k+2)+2>l)continue e;T+=o[U][C],z=!0,A=U,U--}else{T=(T+=o[U][C]+" ").substr(T.length-1)==" "?T.substr(0,T.length-1):T;var q=parseInt(U),J=f(q,T,a),H=U>=o.length-1;if(J&&!H){T+=" ",C=0;continue}if(J||H){if(H)A=q;else if(t.multiline&&(v+2)*(k+2)+2>l)continue e}else{if(!t.multiline||(v+2)*(k+2)+2>l)continue e;A=q}}for(var Z="",W=N;W<=A;W++){var ae=o[W];if(t.multiline){if(W===A){Z+=ae[C]+" ",C=(C+1)%ae.length;continue}if(W===N){Z+=ae[ae.length-1]+" ";continue}}Z+=ae[0]+" "}switch(Z=Z.substr(Z.length-1)==" "?Z.substr(0,Z.length-1):Z,p=Jf(Z,t,a).width,t.textAlign){case"right":d=c-p-2;break;case"center":d=(c-p)/2;break;case"left":default:d=2}e+=qt(d)+" "+qt(y)+` Td
`,e+="("+Ql(Z)+`) Tj
`,e+=-qt(d)+` 0 Td
`,y=-(a+2),p=0,N=z?A:A+1,k++,T=""}break}return r.text=e,r.fontSize=a,r},Jf=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),o=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:o}},Nb={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Cb=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find((function(r){return r.type===n.type&&r.object===n.object}))===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},Lb=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,o=t[n];e.internal.newObjectDeferredBegin(o.objId,!0),En(o)==="object"&&typeof o.putStream=="function"&&o.putStream(),delete t[r]}},Ib=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(ao.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Nb)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Kp=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new wv,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",(function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)})),t.internal.events.subscribe("buildDocument",(function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];a.objId=void 0,a.hasAnnotation&&Cb(a,n)}})(t)})),t.internal.events.subscribe("putCatalog",(function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)})),t.internal.events.subscribe("postPutPages",(function(n){(function(r,o){var a=!r;for(var l in r||(o.internal.newObjectDeferredBegin(o.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),o.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||o.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(l)){var c=r[l],f=[],d=c.Rect;if(c.Rect&&(c.Rect=Eb(c.Rect,o)),o.internal.newObjectDeferredBegin(c.objId,!0),c.DA=bt.createDefaultAppearanceStream(c),En(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(f=c.getKeyValueListForStream()),c.Rect=d,c.hasAppearanceStream&&!c.appearanceStreamContent){var p=Tb(c);f.push({key:"AP",value:"<</N "+p+">>"}),o.internal.acroformPlugin.xForms.push(p)}if(c.appearanceStreamContent){var v="";for(var _ in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(_)){var y=c.appearanceStreamContent[_];if(v+="/"+_+" ",v+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var l in y)if(y.hasOwnProperty(l)){var N=y[l];typeof N=="function"&&(N=N.call(o,c)),v+="/"+l+" "+N+" ",o.internal.acroformPlugin.xForms.indexOf(N)>=0||o.internal.acroformPlugin.xForms.push(N)}}else typeof(N=y)=="function"&&(N=N.call(o,c)),v+="/"+l+" "+N,o.internal.acroformPlugin.xForms.indexOf(N)>=0||o.internal.acroformPlugin.xForms.push(N);v+=">>"}f.push({key:"AP",value:`<<
`+v+">>"})}o.internal.putStream({additionalKeyValues:f,objectId:c.objId}),o.internal.out("endobj")}a&&Lb(o.internal.acroformPlugin.xForms,o)})(n,t)})),t.internal.acroformPlugin.isInitialized=!0}},bv=ri.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(l){return l};if(Array.isArray(t)){for(var o="[",a=0;a<t.length;a++)switch(a!==0&&(o+=" "),En(t[a])){case"boolean":case"number":case"object":o+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),o+="("+Ql(r(t[a].toString()))+")"):o+=t[a].toString()}return o+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},tp=function(t,e,n){var r=function(o){return o};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Ql(r(t))+")"},Go=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Go.prototype.toString=function(){return this.objId+" 0 R"},Go.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Go.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter((function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"}));for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],o=this[r];o&&(Array.isArray(o)?t.push({key:r,value:bv(o,this.objId,this.scope)}):o instanceof Go?(o.scope=this.scope,t.push({key:r,value:o.objId+" 0 R"})):typeof o!="function"&&t.push({key:r,value:o}))}return t};var _v=function(){Go.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};ns(_v,Go);var wv=function(){Go.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Ql(n(t))+")"}},set:function(n){t=n}})};ns(wv,Go);var ao=function t(){Go.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(T){if(isNaN(T))throw new Error('Invalid value "'+T+'" for attribute F supplied.');e=T}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ui(e,3)},set:function(T){T?this.F=ci(e,3):this.F=fi(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(T){if(isNaN(T))throw new Error('Invalid value "'+T+'" for attribute Ff supplied.');n=T}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(T){r=T!==void 0?T:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(T){r[0]=T}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(T){r[1]=T}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(T){r[2]=T}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(T){r[3]=T}});var o="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return o},set:function(T){switch(T){case"/Btn":case"/Tx":case"/Ch":case"/Sig":o=T;break;default:throw new Error('Invalid value "'+T+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof dd)return;a="FieldObject"+t.FieldNum++}var T=function(k){return k};return this.scope&&(T=this.scope.internal.getEncryptor(this.objId)),"("+Ql(T(a))+")"},set:function(T){a=T.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(T){a=T}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(T){l=T}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(T){c=T}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(T){f=T}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/Kp:d},set:function(T){d=T}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(T){p=T}});var v="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!v||this instanceof dd||this instanceof $l))return tp(v,this.objId,this.scope)},set:function(T){T=T.toString(),v=T}});var _=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof Ji?_:tp(_,this.objId,this.scope)},set:function(T){T=T.toString(),_=this instanceof Ji?T:T.substr(0,1)==="("?zu(T.substr(1,T.length-2)):zu(T)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ji?zu(_.substr(1,_.length-1)):_},set:function(T){T=T.toString(),_=this instanceof Ji?"/"+T:T}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(T){this.V=T}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Ji?y:tp(y,this.objId,this.scope)},set:function(T){T=T.toString(),y=this instanceof Ji?T:T.substr(0,1)==="("?zu(T.substr(1,T.length-2)):zu(T)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ji?zu(y.substr(1,y.length-1)):y},set:function(T){T=T.toString(),y=this instanceof Ji?"/"+T:T}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var N,A=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return A},set:function(T){T=!!T,A=T}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(N)return N},set:function(T){N=T}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ui(this.Ff,1)},set:function(T){T?this.Ff=ci(this.Ff,1):this.Ff=fi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ui(this.Ff,2)},set:function(T){T?this.Ff=ci(this.Ff,2):this.Ff=fi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ui(this.Ff,3)},set:function(T){T?this.Ff=ci(this.Ff,3):this.Ff=fi(this.Ff,3)}});var C=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(C!==null)return C},set:function(T){if([0,1,2].indexOf(T)===-1)throw new Error('Invalid value "'+T+'" for attribute Q supplied.');C=T}}),Object.defineProperty(this,"textAlign",{get:function(){var T;switch(C){case 0:default:T="left";break;case 1:T="center";break;case 2:T="right"}return T},configurable:!0,enumerable:!0,set:function(T){switch(T){case"right":case 2:C=2;break;case"center":case 1:C=1;break;case"left":case 0:default:C=0}}})};ns(ao,Go);var Wu=function(){ao.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return bv(e,this.objId,this.scope)},set:function(n){var r,o;o=[],typeof(r=n)=="string"&&(o=(function(a,l,c){c||(c=1);for(var f,d=[];f=l.exec(a);)d.push(f[c]);return d})(r,/\((.*?)\)/g)),e=o}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ui(this.Ff,18)},set:function(n){n?this.Ff=ci(this.Ff,18):this.Ff=fi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ui(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=ci(this.Ff,19):this.Ff=fi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ui(this.Ff,20)},set:function(n){n?(this.Ff=ci(this.Ff,20),e.sort()):this.Ff=fi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ui(this.Ff,22)},set:function(n){n?this.Ff=ci(this.Ff,22):this.Ff=fi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ui(this.Ff,23)},set:function(n){n?this.Ff=ci(this.Ff,23):this.Ff=fi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ui(this.Ff,27)},set:function(n){n?this.Ff=ci(this.Ff,27):this.Ff=fi(this.Ff,27)}}),this.hasAppearanceStream=!1};ns(Wu,ao);var Ku=function(){Wu.call(this),this.fontName="helvetica",this.combo=!1};ns(Ku,Wu);var Xu=function(){Ku.call(this),this.combo=!0};ns(Xu,Ku);var id=function(){Xu.call(this),this.edit=!0};ns(id,Xu);var Ji=function(){ao.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ui(this.Ff,15)},set:function(n){n?this.Ff=ci(this.Ff,15):this.Ff=fi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ui(this.Ff,16)},set:function(n){n?this.Ff=ci(this.Ff,16):this.Ff=fi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ui(this.Ff,17)},set:function(n){n?this.Ff=ci(this.Ff,17):this.Ff=fi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ui(this.Ff,26)},set:function(n){n?this.Ff=ci(this.Ff,26):this.Ff=fi(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,o=[];for(r in o.push("<<"),e)o.push("/"+r+" ("+Ql(n(e[r]))+")");return o.push(">>"),o.join(`
`)}},set:function(n){En(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};ns(Ji,ao);var rd=function(){Ji.call(this),this.pushButton=!0};ns(rd,Ji);var Zu=function(){Ji.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};ns(Zu,Ji);var dd=function(){var t,e;ao.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(o){t=o}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(o){e=o}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var o=function(c){return c};this.scope&&(o=this.scope.internal.getEncryptor(this.objId));var a,l=[];for(a in l.push("<<"),r)l.push("/"+a+" ("+Ql(o(r[a]))+")");return l.push(">>"),l.join(`
`)},set:function(o){En(o)==="object"&&(r=o)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(o){typeof o=="string"&&(r.CA=o)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(o){n=o}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(o){n="/"+o}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=bt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ns(dd,ao),Zu.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Zu.prototype.createOption=function(t){var e=new dd;return e.Parent=this,e.optionName=t,this.Kids.push(e),Mb.call(this.scope,e),e};var sd=function(){Ji.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=bt.CheckBox.createAppearanceStream()};ns(sd,Ji);var $l=function(){ao.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ui(this.Ff,13)},set:function(e){e?this.Ff=ci(this.Ff,13):this.Ff=fi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ui(this.Ff,21)},set:function(e){e?this.Ff=ci(this.Ff,21):this.Ff=fi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ui(this.Ff,23)},set:function(e){e?this.Ff=ci(this.Ff,23):this.Ff=fi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ui(this.Ff,24)},set:function(e){e?this.Ff=ci(this.Ff,24):this.Ff=fi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ui(this.Ff,25)},set:function(e){e?this.Ff=ci(this.Ff,25):this.Ff=fi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ui(this.Ff,26)},set:function(e){e?this.Ff=ci(this.Ff,26):this.Ff=fi(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ns($l,ao);var od=function(){$l.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ui(this.Ff,14)},set:function(t){t?this.Ff=ci(this.Ff,14):this.Ff=fi(this.Ff,14)}}),this.password=!0};ns(od,$l);var bt={CheckBox:{createAppearanceStream:function(){return{N:{On:bt.CheckBox.YesNormal},D:{On:bt.CheckBox.YesPushDown,Off:bt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=qo(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,o=t.scope.__private__.encodeColorString(t.color),a=wp(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+qt(bt.internal.getWidth(t))+" "+qt(bt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+qt(a.fontSize)+" Tf "+o),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=qo(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),o=[],a=bt.internal.getHeight(t),l=bt.internal.getWidth(t),c=wp(t,t.caption);return o.push("1 g"),o.push("0 0 "+qt(l)+" "+qt(a)+" re"),o.push("f"),o.push("q"),o.push("0 0 1 rg"),o.push("0 0 "+qt(l-1)+" "+qt(a-1)+" re"),o.push("W"),o.push("n"),o.push("0 g"),o.push("BT"),o.push("/"+n+" "+qt(c.fontSize)+" Tf "+r),o.push(c.text),o.push("ET"),o.push("Q"),e.stream=o.join(`
`),e},OffPushDown:function(t){var e=qo(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+qt(bt.internal.getWidth(t))+" "+qt(bt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:bt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=bt.RadioButton.Circle.YesNormal,e.D[t]=bt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=qo(t);e.scope=t.scope;var n=[],r=bt.internal.getWidth(t)<=bt.internal.getHeight(t)?bt.internal.getWidth(t)/4:bt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var o=bt.internal.Bezier_C,a=Number((r*o).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+gl(bt.internal.getWidth(t)/2)+" "+gl(bt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=qo(t);e.scope=t.scope;var n=[],r=bt.internal.getWidth(t)<=bt.internal.getHeight(t)?bt.internal.getWidth(t)/4:bt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var o=Number((2*r).toFixed(5)),a=Number((o*bt.internal.Bezier_C).toFixed(5)),l=Number((r*bt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+gl(bt.internal.getWidth(t)/2)+" "+gl(bt.internal.getHeight(t)/2)+" cm"),n.push(o+" 0 m"),n.push(o+" "+a+" "+a+" "+o+" 0 "+o+" c"),n.push("-"+a+" "+o+" -"+o+" "+a+" -"+o+" 0 c"),n.push("-"+o+" -"+a+" -"+a+" -"+o+" 0 -"+o+" c"),n.push(a+" -"+o+" "+o+" -"+a+" "+o+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+gl(bt.internal.getWidth(t)/2)+" "+gl(bt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+l+" "+l+" "+r+" 0 "+r+" c"),n.push("-"+l+" "+r+" -"+r+" "+l+" -"+r+" 0 c"),n.push("-"+r+" -"+l+" -"+l+" -"+r+" 0 -"+r+" c"),n.push(l+" -"+r+" "+r+" -"+l+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=qo(t);e.scope=t.scope;var n=[],r=bt.internal.getWidth(t)<=bt.internal.getHeight(t)?bt.internal.getWidth(t)/4:bt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var o=Number((2*r).toFixed(5)),a=Number((o*bt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+gl(bt.internal.getWidth(t)/2)+" "+gl(bt.internal.getHeight(t)/2)+" cm"),n.push(o+" 0 m"),n.push(o+" "+a+" "+a+" "+o+" 0 "+o+" c"),n.push("-"+a+" "+o+" -"+o+" "+a+" -"+o+" 0 c"),n.push("-"+o+" -"+a+" -"+a+" -"+o+" 0 -"+o+" c"),n.push(a+" -"+o+" "+o+" -"+a+" "+o+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:bt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=bt.RadioButton.Cross.YesNormal,e.D[t]=bt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=qo(t);e.scope=t.scope;var n=[],r=bt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+qt(bt.internal.getWidth(t)-2)+" "+qt(bt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(qt(r.x1.x)+" "+qt(r.x1.y)+" m"),n.push(qt(r.x2.x)+" "+qt(r.x2.y)+" l"),n.push(qt(r.x4.x)+" "+qt(r.x4.y)+" m"),n.push(qt(r.x3.x)+" "+qt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=qo(t);e.scope=t.scope;var n=bt.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+qt(bt.internal.getWidth(t))+" "+qt(bt.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+qt(bt.internal.getWidth(t)-2)+" "+qt(bt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(qt(n.x1.x)+" "+qt(n.x1.y)+" m"),r.push(qt(n.x2.x)+" "+qt(n.x2.y)+" l"),r.push(qt(n.x4.x)+" "+qt(n.x4.y)+" m"),r.push(qt(n.x3.x)+" "+qt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=qo(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+qt(bt.internal.getWidth(t))+" "+qt(bt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};bt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=bt.internal.getWidth(t),n=bt.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},bt.internal.getWidth=function(t){var e=0;return En(t)==="object"&&(e=Hg(t.Rect[2])),e},bt.internal.getHeight=function(t){var e=0;return En(t)==="object"&&(e=Hg(t.Rect[3])),e};var Mb=ri.addField=function(t){if(Ib(this,t),!(t instanceof ao))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};ri.AcroFormChoiceField=Wu,ri.AcroFormListBox=Ku,ri.AcroFormComboBox=Xu,ri.AcroFormEditBox=id,ri.AcroFormButton=Ji,ri.AcroFormPushButton=rd,ri.AcroFormRadioButton=Zu,ri.AcroFormCheckBox=sd,ri.AcroFormTextField=$l,ri.AcroFormPasswordField=od,ri.AcroFormAppearance=bt,ri.AcroForm={ChoiceField:Wu,ListBox:Ku,ComboBox:Xu,EditBox:id,Button:Ji,PushButton:rd,RadioButton:Zu,CheckBox:sd,TextField:$l,PasswordField:od,Appearance:bt},kt.AcroForm={ChoiceField:Wu,ListBox:Ku,ComboBox:Xu,EditBox:id,Button:Ji,PushButton:rd,RadioButton:Zu,CheckBox:sd,TextField:$l,PasswordField:od,Appearance:bt};kt.AcroForm;function xv(t){return t.reduce((function(e,n,r){return e[n]=r,e}),{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(B,D){var X,I,ce,oe,le,me=e;if((D=D||e)==="RGBA"||B.data!==void 0&&B.data instanceof Uint8ClampedArray&&"height"in B&&"width"in B)return"RGBA";if(J(B))for(le in n)for(ce=n[le],X=0;X<ce.length;X+=1){for(oe=!0,I=0;I<ce[X].length;I+=1)if(ce[X][I]!==void 0&&ce[X][I]!==B[I]){oe=!1;break}if(oe===!0){me=le;break}}else for(le in n)for(ce=n[le],X=0;X<ce.length;X+=1){for(oe=!0,I=0;I<ce[X].length;I+=1)if(ce[X][I]!==void 0&&ce[X][I]!==B.charCodeAt(I)){oe=!1;break}if(oe===!0){me=le;break}}return me===e&&D!==e&&(me=D),me},o=function B(D){for(var X=this.internal.write,I=this.internal.putStream,ce=(0,this.internal.getFilters)();ce.indexOf("FlateEncode")!==-1;)ce.splice(ce.indexOf("FlateEncode"),1);D.objectId=this.internal.newObject();var oe=[];if(oe.push({key:"Type",value:"/XObject"}),oe.push({key:"Subtype",value:"/Image"}),oe.push({key:"Width",value:D.width}),oe.push({key:"Height",value:D.height}),D.colorSpace===C.INDEXED?oe.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(D.palette.length/3-1)+" "+("sMask"in D&&D.sMask!==void 0?D.objectId+2:D.objectId+1)+" 0 R]"}):(oe.push({key:"ColorSpace",value:"/"+D.colorSpace}),D.colorSpace===C.DEVICE_CMYK&&oe.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),oe.push({key:"BitsPerComponent",value:D.bitsPerComponent}),"decodeParameters"in D&&D.decodeParameters!==void 0&&oe.push({key:"DecodeParms",value:"<<"+D.decodeParameters+">>"}),"transparency"in D&&Array.isArray(D.transparency)){for(var le="",me=0,ge=D.transparency.length;me<ge;me++)le+=D.transparency[me]+" "+D.transparency[me]+" ";oe.push({key:"Mask",value:"["+le+"]"})}D.sMask!==void 0&&oe.push({key:"SMask",value:D.objectId+1+" 0 R"});var Ne=D.filter!==void 0?["/"+D.filter]:void 0;if(I({data:D.data,additionalKeyValues:oe,alreadyAppliedFilters:Ne,objectId:D.objectId}),X("endobj"),"sMask"in D&&D.sMask!==void 0){var Y="/Predictor "+D.predictor+" /Colors 1 /BitsPerComponent "+D.bitsPerComponent+" /Columns "+D.width,R={width:D.width,height:D.height,colorSpace:"DeviceGray",bitsPerComponent:D.bitsPerComponent,decodeParameters:Y,data:D.sMask};"filter"in D&&(R.filter=D.filter),B.call(this,R)}if(D.colorSpace===C.INDEXED){var G=this.internal.newObject();I({data:Z(new Uint8Array(D.palette)),objectId:G}),X("endobj")}},a=function(){var B=this.internal.collections.addImage_images;for(var D in B)o.call(this,B[D])},l=function(){var B,D=this.internal.collections.addImage_images,X=this.internal.write;for(var I in D)X("/I"+(B=D[I]).index,B.objectId,"0","R")},c=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",l))},f=function(){var B=this.internal.collections.addImage_images;return c.call(this),B},d=function(){return Object.keys(this.internal.collections.addImage_images).length},p=function(B){return typeof t["process"+B.toUpperCase()]=="function"},v=function(B){return En(B)==="object"&&B.nodeType===1},_=function(B,D){if(B.nodeName==="IMG"&&B.hasAttribute("src")){var X=""+B.getAttribute("src");if(X.indexOf("data:image/")===0)return Kc(unescape(X).split("base64,").pop());var I=t.loadFile(X,!0);if(I!==void 0)return I}if(B.nodeName==="CANVAS"){if(B.width===0||B.height===0)throw new Error("Given canvas must have data. Canvas width: "+B.width+", height: "+B.height);var ce;switch(D){case"PNG":ce="image/png";break;case"WEBP":ce="image/webp";break;case"JPEG":case"JPG":default:ce="image/jpeg"}return Kc(B.toDataURL(ce,1).split("base64,").pop())}},y=function(B){var D=this.internal.collections.addImage_images;if(D){for(var X in D)if(B===D[X].alias)return D[X]}},N=function(B,D,X){return B||D||(B=-96,D=-96),B<0&&(B=-1*X.width*72/B/this.internal.scaleFactor),D<0&&(D=-1*X.height*72/D/this.internal.scaleFactor),B===0&&(B=D*X.width/X.height),D===0&&(D=B*X.height/X.width),[B,D]},A=function(B,D,X,I,ce,oe){var le=N.call(this,X,I,ce),me=this.internal.getCoordinateString,ge=this.internal.getVerticalCoordinateString,Ne=f.call(this);if(X=le[0],I=le[1],Ne[ce.index]=ce,oe){oe*=Math.PI/180;var Y=Math.cos(oe),R=Math.sin(oe),G=function(ie){return ie.toFixed(4)},K=[G(Y),G(R),G(-1*R),G(Y),0,0,"cm"]}this.internal.write("q"),oe?(this.internal.write([1,"0","0",1,me(B),ge(D+I),"cm"].join(" ")),this.internal.write(K.join(" ")),this.internal.write([me(X),"0","0",me(I),"0","0","cm"].join(" "))):this.internal.write([me(X),"0","0",me(I),me(B),ge(D+I),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ce.index+" Do"),this.internal.write("Q")},C=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var T=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},k=t.__addimage__.sHashCode=function(B){var D,X,I=0;if(typeof B=="string")for(X=B.length,D=0;D<X;D++)I=(I<<5)-I+B.charCodeAt(D),I|=0;else if(J(B))for(X=B.byteLength/2,D=0;D<X;D++)I=(I<<5)-I+B[D],I|=0;return I},U=t.__addimage__.validateStringAsBase64=function(B){(B=B||"").toString().trim();var D=!0;return B.length===0&&(D=!1),B.length%4!=0&&(D=!1),/^[A-Za-z0-9+/]+$/.test(B.substr(0,B.length-2))===!1&&(D=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(B.substr(-2))===!1&&(D=!1),D},z=t.__addimage__.extractImageFromDataUrl=function(B){var D=(B=B||"").split("base64,"),X=null;if(D.length===2){var I=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(D[0]);Array.isArray(I)&&(X={mimeType:I[1],charset:I[2],data:D[1]})}return X},q=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(B){return q()&&B instanceof ArrayBuffer};var J=t.__addimage__.isArrayBufferView=function(B){return q()&&typeof Uint32Array<"u"&&(B instanceof Int8Array||B instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&B instanceof Uint8ClampedArray||B instanceof Int16Array||B instanceof Uint16Array||B instanceof Int32Array||B instanceof Uint32Array||B instanceof Float32Array||B instanceof Float64Array)},H=t.__addimage__.binaryStringToUint8Array=function(B){for(var D=B.length,X=new Uint8Array(D),I=0;I<D;I++)X[I]=B.charCodeAt(I);return X},Z=t.__addimage__.arrayBufferToBinaryString=function(B){for(var D="",X=J(B)?B:new Uint8Array(B),I=0;I<X.length;I+=8192)D+=String.fromCharCode.apply(null,X.subarray(I,I+8192));return D};t.addImage=function(){var B,D,X,I,ce,oe,le,me,ge;if(typeof arguments[1]=="number"?(D=e,X=arguments[1],I=arguments[2],ce=arguments[3],oe=arguments[4],le=arguments[5],me=arguments[6],ge=arguments[7]):(D=arguments[1],X=arguments[2],I=arguments[3],ce=arguments[4],oe=arguments[5],le=arguments[6],me=arguments[7],ge=arguments[8]),En(B=arguments[0])==="object"&&!v(B)&&"imageData"in B){var Ne=B;B=Ne.imageData,D=Ne.format||D||e,X=Ne.x||X||0,I=Ne.y||I||0,ce=Ne.w||Ne.width||ce,oe=Ne.h||Ne.height||oe,le=Ne.alias||le,me=Ne.compression||me,ge=Ne.rotation||Ne.angle||ge}var Y=this.internal.getFilters();if(me===void 0&&Y.indexOf("FlateEncode")!==-1&&(me="SLOW"),isNaN(X)||isNaN(I))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var R=W.call(this,B,D,le,me);return A.call(this,X,I,ce,oe,R,ge),this};var W=function(B,D,X,I){var ce,oe,le;if(typeof B=="string"&&r(B)===e){B=unescape(B);var me=ae(B,!1);(me!==""||(me=t.loadFile(B,!0))!==void 0)&&(B=me)}if(v(B)&&(B=_(B,D)),D=r(B,D),!p(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(((le=X)==null||le.length===0)&&(X=(function(ge){return typeof ge=="string"||J(ge)?k(ge):J(ge.data)?k(ge.data):null})(B)),(ce=y.call(this,X))||(q()&&(B instanceof Uint8Array||D==="RGBA"||(oe=B,B=H(B))),ce=this["process"+D.toUpperCase()](B,d.call(this),X,(function(ge){return ge&&typeof ge=="string"&&(ge=ge.toUpperCase()),ge in t.image_compression?ge:T.NONE})(I),oe)),!ce)throw new Error("An unknown error occurred whilst processing the image.");return ce},ae=t.__addimage__.convertBase64ToBinaryString=function(B,D){var X;D=typeof D!="boolean"||D;var I,ce="";if(typeof B=="string"){I=(X=z(B))!==null?X.data:B;try{ce=Kc(I)}catch(oe){if(D)throw U(I)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+oe.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ce};t.getImageProperties=function(B){var D,X,I="";if(v(B)&&(B=_(B)),typeof B=="string"&&r(B)===e&&((I=ae(B,!1))===""&&(I=t.loadFile(B)||""),B=I),X=r(B),!p(X))throw new Error("addImage does not support files of type '"+X+"', please ensure that a plugin for '"+X+"' support is added.");if(!q()||B instanceof Uint8Array||(B=H(B)),!(D=this["process"+X.toUpperCase()](B)))throw new Error("An unknown error occurred whilst processing the image");return D.fileType=X,D}})(kt.API),(function(t){var e=function(n){if(n!==void 0&&n!="")return!0};kt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,o,a,l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(n.objId),d=n.pageContext.annotations,p=!1,v=0;v<d.length&&!p;v++)switch((r=d[v]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var _=0;_<d.length;_++){r=d[_];var y=this.internal.pdfEscape,N=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var A=this.internal.newAdditionalObject(),C=this.internal.newAdditionalObject(),T=this.internal.getEncryptor(A.objId),k=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(o="/Rect ["+l(r.bounds.x)+" "+c(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y)+"] ")+"/Contents ("+y(T(r.contents))+")",a+=" /Popup "+C.objId+" 0 R",a+=" /P "+f.objId+" 0 R",a+=" /T ("+y(T(k))+") >>",A.content=a;var U=A.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(o="/Rect ["+l(r.bounds.x+30)+" "+c(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w+30)+" "+c(r.bounds.y)+"] ")+" /Parent "+U,r.open&&(a+=" /Open true"),a+=" >>",C.content=a,this.internal.write(A.objId,"0 R",C.objId,"0 R");break;case"freetext":o="/Rect ["+l(r.bounds.x)+" "+c(r.bounds.y)+" "+l(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y+r.bounds.h)+"] ";var z=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+o+"/Contents ("+y(N(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+z+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var q=this.annotations._nameMap[r.options.name];r.options.pageNumber=q.page,r.options.top=q.y}else r.options.top||(r.options.top=0);if(o="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /A <</S /URI /URI ("+y(N(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var J=c(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+J+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,o,a,l){var c=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:f(n),y:d(r),w:f(n+o),h:d(r+a)},options:l,type:"link"})},t.textWithLink=function(n,r,o,a){var l,c,f=this.getTextWidth(n),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){c=a.maxWidth;var p=this.splitTextToSize(n,c).length;l=Math.ceil(d*p)}else c=f,l=d;return this.text(n,r,o,a),o+=.2*d,a.align==="center"&&(r-=f/2),a.align==="right"&&(r-=f),this.link(r,o-d,c,l,a),f},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}})(kt.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},o=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(A){return e[A.charCodeAt(0)]!==void 0},l=t.__arabicParser__.isArabicLetter=function(A){return typeof A=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(A)},c=t.__arabicParser__.isArabicEndLetter=function(A){return l(A)&&a(A)&&e[A.charCodeAt(0)].length<=2},f=t.__arabicParser__.isArabicAlfLetter=function(A){return l(A)&&o.indexOf(A.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(A){return l(A)&&a(A)&&e[A.charCodeAt(0)].length>=1};var d=t.__arabicParser__.arabicLetterHasFinalForm=function(A){return l(A)&&a(A)&&e[A.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(A){return l(A)&&a(A)&&e[A.charCodeAt(0)].length>=3};var p=t.__arabicParser__.arabicLetterHasMedialForm=function(A){return l(A)&&a(A)&&e[A.charCodeAt(0)].length==4},v=t.__arabicParser__.resolveLigatures=function(A){var C=0,T=n,k="",U=0;for(C=0;C<A.length;C+=1)T[A.charCodeAt(C)]!==void 0?(U++,typeof(T=T[A.charCodeAt(C)])=="number"&&(k+=String.fromCharCode(T),T=n,U=0),C===A.length-1&&(T=n,k+=A.charAt(C-(U-1)),C-=U-1,U=0)):(T=n,k+=A.charAt(C-U),C-=U,U=0);return k};t.__arabicParser__.isArabicDiacritic=function(A){return A!==void 0&&r[A.charCodeAt(0)]!==void 0};var _=t.__arabicParser__.getCorrectForm=function(A,C,T){return l(A)?a(A)===!1?-1:!d(A)||!l(C)&&!l(T)||!l(T)&&c(C)||c(A)&&!l(C)||c(A)&&f(C)||c(A)&&c(C)?0:p(A)&&l(C)&&!c(C)&&l(T)&&d(T)?3:c(A)||!l(T)?1:2:-1},y=function(A){var C=0,T=0,k=0,U="",z="",q="",J=(A=A||"").split("\\s+"),H=[];for(C=0;C<J.length;C+=1){for(H.push(""),T=0;T<J[C].length;T+=1)U=J[C][T],z=J[C][T-1],q=J[C][T+1],l(U)?(k=_(U,z,q),H[C]+=k!==-1?String.fromCharCode(e[U.charCodeAt(0)][k]):U):H[C]+=U;H[C]=v(H[C])}return H.join(" ")},N=t.__arabicParser__.processArabic=t.processArabic=function(){var A,C=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,T=[];if(Array.isArray(C)){var k=0;for(T=[],k=0;k<C.length;k+=1)Array.isArray(C[k])?T.push([y(C[k][0]),C[k][1],C[k][2]]):T.push([y(C[k])]);A=T}else A=y(C);return typeof arguments[0]=="string"?A:(arguments[0].text=A,arguments[0])};t.events.push(["preProcessText",N])})(kt.API),kt.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",(function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+e+" 0 R")}))}return this},(function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(c){n=c}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(c){r=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var o=300;Object.defineProperty(this,"height",{get:function(){return o},set:function(c){o=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=o+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(c){a=c}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(c){l=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var o;if((n=n||"2d")!=="2d")return null;for(o in r)this.pdf.context2d.hasOwnProperty(o)&&(this.pdf.context2d[o]=r[o]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(kt.API),(function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),o.call(this))},o=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(A){f=A}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(A){d=A}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(A){p=A}});var v=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return v},set:function(A){v=A}});var _=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return _},set:function(A){_=A}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(A){y=A}});var N=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return N},set:function(A){N=A}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(f){return r.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},t.getTextDimensions=function(f,d){r.call(this);var p=(d=d||{}).fontSize||this.getFontSize(),v=d.font||this.getFont(),_=d.scaleFactor||this.internal.scaleFactor,y=0,N=0,A=0,C=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var T=d.maxWidth;T>0?typeof f=="string"?f=this.splitTextToSize(f,T):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce((function(U,z){return U.concat(C.splitTextToSize(z,T))}),[])):f=Array.isArray(f)?f:[f];for(var k=0;k<f.length;k++)y<(A=this.getStringUnitWidth(f[k],{font:v})*p)&&(y=A);return y!==0&&(N=f.length),{w:y/=_,h:Math.max((N*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/_,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=t.cell=function(){var f;f=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var d=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,v=this.internal.__cell__.margins||e,_=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===f.lineNumber?(f.x=(d.x||0)+(d.width||0),f.y=d.y||0):d.y+d.height+f.height+v.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=v.top,y&&_&&(this.printHeaderRow(f.lineNumber,!0),f.y+=_[0].height)):f.y=d.y+d.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,n===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-p,f.y+p,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+p,{align:"center",baseline:"top",maxWidth:f.width-p-p}):this.text(f.text,f.x+p,f.y+p,{align:"left",baseline:"top",maxWidth:f.width-p-p})),this.internal.__cell__.lastCell=f,this};t.table=function(f,d,p,v,_){if(r.call(this),!p)throw new Error("No data for PDF table.");var y,N,A,C,T=[],k=[],U=[],z={},q={},J=[],H=[],Z=(_=_||{}).autoSize||!1,W=_.printHeaders!==!1,ae=_.css&&_.css["font-size"]!==void 0?16*_.css["font-size"]:_.fontSize||12,B=_.margins||Object.assign({width:this.getPageWidth()},e),D=typeof _.padding=="number"?_.padding:3,X=_.headerBackgroundColor||"#c8c8c8",I=_.headerTextColor||"#000";if(o.call(this),this.internal.__cell__.printHeaders=W,this.internal.__cell__.margins=B,this.internal.__cell__.table_font_size=ae,this.internal.__cell__.padding=D,this.internal.__cell__.headerBackgroundColor=X,this.internal.__cell__.headerTextColor=I,this.setFontSize(ae),v==null)k=T=Object.keys(p[0]),U=T.map((function(){return"left"}));else if(Array.isArray(v)&&En(v[0])==="object")for(T=v.map((function(Ne){return Ne.name})),k=v.map((function(Ne){return Ne.prompt||Ne.name||""})),U=v.map((function(Ne){return Ne.align||"left"})),y=0;y<v.length;y+=1)q[v[y].name]=v[y].width*(19.049976/25.4);else Array.isArray(v)&&typeof v[0]=="string"&&(k=T=v,U=T.map((function(){return"left"})));if(Z||Array.isArray(v)&&typeof v[0]=="string")for(y=0;y<T.length;y+=1){for(z[C=T[y]]=p.map((function(Ne){return Ne[C]})),this.setFont(void 0,"bold"),J.push(this.getTextDimensions(k[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),N=z[C],this.setFont(void 0,"normal"),A=0;A<N.length;A+=1)J.push(this.getTextDimensions(N[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);q[C]=Math.max.apply(null,J)+D+D,J=[]}if(W){var ce={};for(y=0;y<T.length;y+=1)ce[T[y]]={},ce[T[y]].text=k[y],ce[T[y]].align=U[y];var oe=c.call(this,ce,q);H=T.map((function(Ne){return new a(f,d,q[Ne],oe,ce[Ne].text,void 0,ce[Ne].align)})),this.setTableHeaderRow(H),this.printHeaderRow(1,!1)}var le=v.reduce((function(Ne,Y){return Ne[Y.name]=Y.align,Ne}),{});for(y=0;y<p.length;y+=1){"rowStart"in _&&_.rowStart instanceof Function&&_.rowStart({row:y,data:p[y]},this);var me=c.call(this,p[y],q);for(A=0;A<T.length;A+=1){var ge=p[y][T[A]];"cellStart"in _&&_.cellStart instanceof Function&&_.cellStart({row:y,col:A,data:ge},this),l.call(this,new a(f,d,q[T[A]],me,ge,y+2,le[T[A]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=d,this};var c=function(f,d){var p=this.internal.__cell__.padding,v=this.internal.__cell__.table_font_size,_=this.internal.scaleFactor;return Object.keys(f).map((function(y){var N=f[y];return this.splitTextToSize(N.hasOwnProperty("text")?N.text:N,d[y]-p-p)}),this).map((function(y){return this.getLineHeightFactor()*y.length*v/_+p+p}),this).reduce((function(y,N){return Math.max(y,N)}),0)};t.setTableHeaderRow=function(f){r.call(this),this.internal.__cell__.tableHeaderRow=f},t.printHeaderRow=function(f,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var v=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(v[0],v[1],v[2],v[3],void 0,-1)}this.setFont(void 0,"bold");for(var _=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){p=this.internal.__cell__.tableHeaderRow[y].clone(),d&&(p.y=this.internal.__cell__.margins.top||0,_.push(p)),p.lineNumber=f;var N=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,p),this.setTextColor(N)}_.length>0&&this.setTableHeaderRow(_),this.setFont(void 0,"normal"),n=!1}})(kt.API);var Sv={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Av=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],xp=xv(Av),Ev=[100,200,300,400,500,600,700,800,900],Rb=xv(Ev);function Sp(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=(function(a){return Sv[a=a||"normal"]?a:"normal"})(t.style),r=(function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}})(t.weight),o=(function(a){return typeof xp[a=a||"normal"]=="number"?a:"normal"})(t.stretch);return{family:e,style:n,weight:r,stretch:o,src:t.src||[],ref:t.ref||{name:e,style:[o,n,r].join(" ")}}}function Vg(t,e,n,r){var o;for(o=n;o>=0&&o<e.length;o+=r)if(t[e[o]])return t[e[o]];for(o=n;o>=0&&o<e.length;o-=r)if(t[e[o]])return t[e[o]]}var kb={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},jg={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Yg(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Db(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",o=Object.assign({},kb,n.genericFontFamilies||{}),a=null,l=null,c=0;c<e.length;++c)if(o[(a=Sp(e[c])).family]&&(a.family=o[a.family]),t.hasOwnProperty(a.family)){l=t[a.family];break}if(!(l=l||t[r]))throw new Error("Could not find a font-family for the rule '"+Yg(a)+"' and default family '"+r+"'.");if(l=(function(f,d){if(d[f])return d[f];var p=xp[f],v=p<=xp.normal?-1:1,_=Vg(d,Av,p,v);if(!_)throw new Error("Could not find a matching font-stretch value for "+f);return _})(a.stretch,l),l=(function(f,d){if(d[f])return d[f];for(var p=Sv[f],v=0;v<p.length;++v)if(d[p[v]])return d[p[v]];throw new Error("Could not find a matching font-style for "+f)})(a.style,l),!(l=(function(f,d){if(d[f])return d[f];if(f===400&&d[500])return d[500];if(f===500&&d[400])return d[400];var p=Rb[f],v=Vg(d,Ev,p,f<400?-1:1);if(!v)throw new Error("Could not find a matching font-weight for value "+f);return v})(a.weight,l)))throw new Error("Failed to resolve a font for the rule '"+Yg(a)+"'.");return l}function Jg(t){return t.trimLeft()}function Pb(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function Ub(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Wf,Wg,Kg,np=["times"];(function(t){var e,n,r,o,a,l,c,f,d,p=function(R){return R=R||{},this.isStrokeTransparent=R.isStrokeTransparent||!1,this.strokeOpacity=R.strokeOpacity||1,this.strokeStyle=R.strokeStyle||"#000000",this.fillStyle=R.fillStyle||"#000000",this.isFillTransparent=R.isFillTransparent||!1,this.fillOpacity=R.fillOpacity||1,this.font=R.font||"10px sans-serif",this.textBaseline=R.textBaseline||"alphabetic",this.textAlign=R.textAlign||"left",this.lineWidth=R.lineWidth||1,this.lineJoin=R.lineJoin||"miter",this.lineCap=R.lineCap||"butt",this.path=R.path||[],this.transform=R.transform!==void 0?R.transform.clone():new f,this.globalCompositeOperation=R.globalCompositeOperation||"normal",this.globalAlpha=R.globalAlpha||1,this.clip_path=R.clip_path||[],this.currentPoint=R.currentPoint||new l,this.miterLimit=R.miterLimit||10,this.lastPoint=R.lastPoint||new l,this.lineDashOffset=R.lineDashOffset||0,this.lineDash=R.lineDash||[],this.margin=R.margin||[0,0,0,0],this.prevPageLastElemOffset=R.prevPageLastElemOffset||0,this.ignoreClearRect=typeof R.ignoreClearRect!="boolean"||R.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new v(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,o=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,l=this.internal.Point,c=this.internal.Rectangle,f=this.internal.Matrix,d=new p}]);var v=function(R){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=R;Object.defineProperty(this,"pdf",{get:function(){return G}});var K=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return K},set:function(ye){K=!!ye}});var ie=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ie},set:function(ye){ie=!!ye}});var ve=0;Object.defineProperty(this,"posX",{get:function(){return ve},set:function(ye){isNaN(ye)||(ve=ye)}});var Te=0;Object.defineProperty(this,"posY",{get:function(){return Te},set:function(ye){isNaN(ye)||(Te=ye)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(ye){var $;typeof ye=="number"?$=[ye,ye,ye,ye]:(($=new Array(4))[0]=ye[0],$[1]=ye.length>=2?ye[1]:$[0],$[2]=ye.length>=3?ye[2]:$[0],$[3]=ye.length>=4?ye[3]:$[1]),d.margin=$}});var we=!1;Object.defineProperty(this,"autoPaging",{get:function(){return we},set:function(ye){we=ye}});var Se=0;Object.defineProperty(this,"lastBreak",{get:function(){return Se},set:function(ye){Se=ye}});var We=[];Object.defineProperty(this,"pageBreaks",{get:function(){return We},set:function(ye){We=ye}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(ye){ye instanceof p&&(d=ye)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(ye){d.path=ye}});var Ye=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ye},set:function(ye){Ye=ye}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ye){var $;$=_(ye),this.ctx.fillStyle=$.style,this.ctx.isFillTransparent=$.a===0,this.ctx.fillOpacity=$.a,this.pdf.setFillColor($.r,$.g,$.b,{a:$.a}),this.pdf.setTextColor($.r,$.g,$.b,{a:$.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ye){var $=_(ye);this.ctx.strokeStyle=$.style,this.ctx.isStrokeTransparent=$.a===0,this.ctx.strokeOpacity=$.a,$.a===0?this.pdf.setDrawColor(255,255,255):($.a,this.pdf.setDrawColor($.r,$.g,$.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ye){["butt","round","square"].indexOf(ye)!==-1&&(this.ctx.lineCap=ye,this.pdf.setLineCap(ye))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ye){isNaN(ye)||(this.ctx.lineWidth=ye,this.pdf.setLineWidth(ye))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ye){["bevel","round","miter"].indexOf(ye)!==-1&&(this.ctx.lineJoin=ye,this.pdf.setLineJoin(ye))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ye){isNaN(ye)||(this.ctx.miterLimit=ye,this.pdf.setMiterLimit(ye))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ye){this.ctx.textBaseline=ye}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ye){["right","end","center","left","start"].indexOf(ye)!==-1&&(this.ctx.textAlign=ye)}});var st=null;function ot(ye,$){if(st===null){var ue=(function(se){var he=[];return Object.keys(se).forEach((function(Ce){se[Ce].forEach((function(Re){var be=null;switch(Re){case"bold":be={family:Ce,weight:"bold"};break;case"italic":be={family:Ce,style:"italic"};break;case"bolditalic":be={family:Ce,weight:"bold",style:"italic"};break;case"":case"normal":be={family:Ce}}be!==null&&(be.ref={name:Ce,style:Re},he.push(be))}))})),he})(ye.getFontList());st=(function(se){for(var he={},Ce=0;Ce<se.length;++Ce){var Re=Sp(se[Ce]),be=Re.family,ze=Re.stretch,He=Re.style,Ve=Re.weight;he[be]=he[be]||{},he[be][ze]=he[be][ze]||{},he[be][ze][He]=he[be][ze][He]||{},he[be][ze][He][Ve]=Re}return he})(ue.concat($))}return st}var F=null;Object.defineProperty(this,"fontFaces",{get:function(){return F},set:function(ye){st=null,F=ye}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ye){var $;if(this.ctx.font=ye,($=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ye))!==null){var ue=$[1],se=($[2],$[3]),he=$[4],Ce=($[5],$[6]),Re=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(he)[2];he=Math.floor(Re==="px"?parseFloat(he)*this.pdf.internal.scaleFactor:Re==="em"?parseFloat(he)*this.pdf.getFontSize():parseFloat(he)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(he);var be=(function(vt){var Ct,at,Vt=[],_t=vt.trim();if(_t==="")return np;if(_t in jg)return[jg[_t]];for(;_t!=="";){switch(at=null,Ct=(_t=Jg(_t)).charAt(0)){case'"':case"'":at=Pb(_t.substring(1),Ct);break;default:at=Ub(_t)}if(at===null||(Vt.push(at[0]),(_t=Jg(at[1]))!==""&&_t.charAt(0)!==","))return np;_t=_t.replace(/^,/,"")}return Vt})(Ce);if(this.fontFaces){var ze=Db(ot(this.pdf,this.fontFaces),be.map((function(vt){return{family:vt,stretch:"normal",weight:se,style:ue}})));this.pdf.setFont(ze.ref.name,ze.ref.style)}else{var He="";(se==="bold"||parseInt(se,10)>=700||ue==="bold")&&(He="bold"),ue==="italic"&&(He+="italic"),He.length===0&&(He="normal");for(var Ve="",it={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},gt=0;gt<be.length;gt++){if(this.pdf.internal.getFont(be[gt],He,{noFallback:!0,disableWarning:!0})!==void 0){Ve=be[gt];break}if(He==="bolditalic"&&this.pdf.internal.getFont(be[gt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ve=be[gt],He="bold";else if(this.pdf.internal.getFont(be[gt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ve=be[gt],He="normal";break}}if(Ve===""){for(var ft=0;ft<be.length;ft++)if(it[be[ft]]){Ve=it[be[ft]];break}}Ve=Ve===""?"Times":Ve,this.pdf.setFont(Ve,He)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ye){this.ctx.globalCompositeOperation=ye}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ye){this.ctx.globalAlpha=ye}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ye){this.ctx.lineDashOffset=ye,Y.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ye){this.ctx.lineDash=ye,Y.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ye){this.ctx.ignoreClearRect=!!ye}})};v.prototype.setLineDash=function(R){this.lineDash=R},v.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},v.prototype.fill=function(){z.call(this,"fill",!1)},v.prototype.stroke=function(){z.call(this,"stroke",!1)},v.prototype.beginPath=function(){this.path=[{type:"begin"}]},v.prototype.moveTo=function(R,G){if(isNaN(R)||isNaN(G))throw Pn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var K=this.ctx.transform.applyToPoint(new l(R,G));this.path.push({type:"mt",x:K.x,y:K.y}),this.ctx.lastPoint=new l(R,G)},v.prototype.closePath=function(){var R=new l(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&En(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){R=new l(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(R.x,R.y)},v.prototype.lineTo=function(R,G){if(isNaN(R)||isNaN(G))throw Pn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var K=this.ctx.transform.applyToPoint(new l(R,G));this.path.push({type:"lt",x:K.x,y:K.y}),this.ctx.lastPoint=new l(K.x,K.y)},v.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),z.call(this,null,!0)},v.prototype.quadraticCurveTo=function(R,G,K,ie){if(isNaN(K)||isNaN(ie)||isNaN(R)||isNaN(G))throw Pn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ve=this.ctx.transform.applyToPoint(new l(K,ie)),Te=this.ctx.transform.applyToPoint(new l(R,G));this.path.push({type:"qct",x1:Te.x,y1:Te.y,x:ve.x,y:ve.y}),this.ctx.lastPoint=new l(ve.x,ve.y)},v.prototype.bezierCurveTo=function(R,G,K,ie,ve,Te){if(isNaN(ve)||isNaN(Te)||isNaN(R)||isNaN(G)||isNaN(K)||isNaN(ie))throw Pn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var we=this.ctx.transform.applyToPoint(new l(ve,Te)),Se=this.ctx.transform.applyToPoint(new l(R,G)),We=this.ctx.transform.applyToPoint(new l(K,ie));this.path.push({type:"bct",x1:Se.x,y1:Se.y,x2:We.x,y2:We.y,x:we.x,y:we.y}),this.ctx.lastPoint=new l(we.x,we.y)},v.prototype.arc=function(R,G,K,ie,ve,Te){if(isNaN(R)||isNaN(G)||isNaN(K)||isNaN(ie)||isNaN(ve))throw Pn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Te=!!Te,!this.ctx.transform.isIdentity){var we=this.ctx.transform.applyToPoint(new l(R,G));R=we.x,G=we.y;var Se=this.ctx.transform.applyToPoint(new l(0,K)),We=this.ctx.transform.applyToPoint(new l(0,0));K=Math.sqrt(Math.pow(Se.x-We.x,2)+Math.pow(Se.y-We.y,2))}Math.abs(ve-ie)>=2*Math.PI&&(ie=0,ve=2*Math.PI),this.path.push({type:"arc",x:R,y:G,radius:K,startAngle:ie,endAngle:ve,counterclockwise:Te})},v.prototype.arcTo=function(R,G,K,ie,ve){throw new Error("arcTo not implemented.")},v.prototype.rect=function(R,G,K,ie){if(isNaN(R)||isNaN(G)||isNaN(K)||isNaN(ie))throw Pn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(R,G),this.lineTo(R+K,G),this.lineTo(R+K,G+ie),this.lineTo(R,G+ie),this.lineTo(R,G),this.lineTo(R+K,G),this.lineTo(R,G)},v.prototype.fillRect=function(R,G,K,ie){if(isNaN(R)||isNaN(G)||isNaN(K)||isNaN(ie))throw Pn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var ve={};this.lineCap!=="butt"&&(ve.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ve.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(R,G,K,ie),this.fill(),ve.hasOwnProperty("lineCap")&&(this.lineCap=ve.lineCap),ve.hasOwnProperty("lineJoin")&&(this.lineJoin=ve.lineJoin)}},v.prototype.strokeRect=function(R,G,K,ie){if(isNaN(R)||isNaN(G)||isNaN(K)||isNaN(ie))throw Pn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");N.call(this)||(this.beginPath(),this.rect(R,G,K,ie),this.stroke())},v.prototype.clearRect=function(R,G,K,ie){if(isNaN(R)||isNaN(G)||isNaN(K)||isNaN(ie))throw Pn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(R,G,K,ie))},v.prototype.save=function(R){R=typeof R!="boolean"||R;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),R){this.ctx.fontSize=this.pdf.internal.getFontSize();var ie=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ie}},v.prototype.restore=function(R){R=typeof R!="boolean"||R;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("Q");this.pdf.setPage(G),R&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},v.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var _=function(R){var G,K,ie,ve;if(R.isCanvasGradient===!0&&(R=R.getColor()),!R)return{r:0,g:0,b:0,a:0,style:R};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(R))G=0,K=0,ie=0,ve=0;else{var Te=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(R);if(Te!==null)G=parseInt(Te[1]),K=parseInt(Te[2]),ie=parseInt(Te[3]),ve=1;else if((Te=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(R))!==null)G=parseInt(Te[1]),K=parseInt(Te[2]),ie=parseInt(Te[3]),ve=parseFloat(Te[4]);else{if(ve=1,typeof R=="string"&&R.charAt(0)!=="#"){var we=new gv(R);R=we.ok?we.toHex():"#000000"}R.length===4?(G=R.substring(1,2),G+=G,K=R.substring(2,3),K+=K,ie=R.substring(3,4),ie+=ie):(G=R.substring(1,3),K=R.substring(3,5),ie=R.substring(5,7)),G=parseInt(G,16),K=parseInt(K,16),ie=parseInt(ie,16)}}return{r:G,g:K,b:ie,a:ve,style:R}},y=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},N=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};v.prototype.fillText=function(R,G,K,ie){if(isNaN(G)||isNaN(K)||typeof R!="string")throw Pn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ie=isNaN(ie)?void 0:ie,!y.call(this)){var ve=me(this.ctx.transform.rotation),Te=this.ctx.transform.scaleX;D.call(this,{text:R,x:G,y:K,scale:Te,angle:ve,align:this.textAlign,maxWidth:ie})}},v.prototype.strokeText=function(R,G,K,ie){if(isNaN(G)||isNaN(K)||typeof R!="string")throw Pn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!N.call(this)){ie=isNaN(ie)?void 0:ie;var ve=me(this.ctx.transform.rotation),Te=this.ctx.transform.scaleX;D.call(this,{text:R,x:G,y:K,scale:Te,renderingMode:"stroke",angle:ve,align:this.textAlign,maxWidth:ie})}},v.prototype.measureText=function(R){if(typeof R!="string")throw Pn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,K=this.pdf.internal.scaleFactor,ie=G.internal.getFontSize(),ve=G.getStringUnitWidth(R)*ie/G.internal.scaleFactor,Te=function(we){var Se=(we=we||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Se}}),this};return new Te({width:ve*=Math.round(96*K/72*1e4)/1e4})},v.prototype.scale=function(R,G){if(isNaN(R)||isNaN(G))throw Pn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var K=new f(R,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(K)},v.prototype.rotate=function(R){if(isNaN(R))throw Pn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new f(Math.cos(R),Math.sin(R),-Math.sin(R),Math.cos(R),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},v.prototype.translate=function(R,G){if(isNaN(R)||isNaN(G))throw Pn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var K=new f(1,0,0,1,R,G);this.ctx.transform=this.ctx.transform.multiply(K)},v.prototype.transform=function(R,G,K,ie,ve,Te){if(isNaN(R)||isNaN(G)||isNaN(K)||isNaN(ie)||isNaN(ve)||isNaN(Te))throw Pn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var we=new f(R,G,K,ie,ve,Te);this.ctx.transform=this.ctx.transform.multiply(we)},v.prototype.setTransform=function(R,G,K,ie,ve,Te){R=isNaN(R)?1:R,G=isNaN(G)?0:G,K=isNaN(K)?0:K,ie=isNaN(ie)?1:ie,ve=isNaN(ve)?0:ve,Te=isNaN(Te)?0:Te,this.ctx.transform=new f(R,G,K,ie,ve,Te)};var A=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};v.prototype.drawImage=function(R,G,K,ie,ve,Te,we,Se,We){var Ye=this.pdf.getImageProperties(R),st=1,ot=1,F=1,ye=1;ie!==void 0&&Se!==void 0&&(F=Se/ie,ye=We/ve,st=Ye.width/ie*Se/ie,ot=Ye.height/ve*We/ve),Te===void 0&&(Te=G,we=K,G=0,K=0),ie!==void 0&&Se===void 0&&(Se=ie,We=ve),ie===void 0&&Se===void 0&&(Se=Ye.width,We=Ye.height);for(var $,ue=this.ctx.transform.decompose(),se=me(ue.rotate.shx),he=new f,Ce=(he=(he=(he=he.multiply(ue.translate)).multiply(ue.skew)).multiply(ue.scale)).applyToRectangle(new c(Te-G*F,we-K*ye,ie*st,ve*ot)),Re=C.call(this,Ce),be=[],ze=0;ze<Re.length;ze+=1)be.indexOf(Re[ze])===-1&&be.push(Re[ze]);if(U(be),this.autoPaging)for(var He=be[0],Ve=be[be.length-1],it=He;it<Ve+1;it++){this.pdf.setPage(it);var gt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ft=it===1?this.posY+this.margin[0]:this.margin[0],vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ct=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],at=it===1?0:vt+(it-2)*Ct;if(this.ctx.clip_path.length!==0){var Vt=this.path;$=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k($,this.posX+this.margin[3],-at+ft+this.ctx.prevPageLastElemOffset),q.call(this,"fill",!0),this.path=Vt}var _t=JSON.parse(JSON.stringify(Ce));_t=k([_t],this.posX+this.margin[3],-at+ft+this.ctx.prevPageLastElemOffset)[0];var cn=(it>He||it<Ve)&&A.call(this);cn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],gt,Ct,null).clip().discardPath()),this.pdf.addImage(R,"JPEG",_t.x,_t.y,_t.w,_t.h,null,null,se),cn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(R,"JPEG",Ce.x,Ce.y,Ce.w,Ce.h,null,null,se)};var C=function(R,G,K){var ie=[];G=G||this.pdf.internal.pageSize.width,K=K||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ve=this.posY+this.ctx.prevPageLastElemOffset;switch(R.type){default:case"mt":case"lt":ie.push(Math.floor((R.y+ve)/K)+1);break;case"arc":ie.push(Math.floor((R.y+ve-R.radius)/K)+1),ie.push(Math.floor((R.y+ve+R.radius)/K)+1);break;case"qct":var Te=ge(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x,R.y);ie.push(Math.floor((Te.y+ve)/K)+1),ie.push(Math.floor((Te.y+Te.h+ve)/K)+1);break;case"bct":var we=Ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x2,R.y2,R.x,R.y);ie.push(Math.floor((we.y+ve)/K)+1),ie.push(Math.floor((we.y+we.h+ve)/K)+1);break;case"rect":ie.push(Math.floor((R.y+ve)/K)+1),ie.push(Math.floor((R.y+R.h+ve)/K)+1)}for(var Se=0;Se<ie.length;Se+=1)for(;this.pdf.internal.getNumberOfPages()<ie[Se];)T.call(this);return ie},T=function(){var R=this.fillStyle,G=this.strokeStyle,K=this.font,ie=this.lineCap,ve=this.lineWidth,Te=this.lineJoin;this.pdf.addPage(),this.fillStyle=R,this.strokeStyle=G,this.font=K,this.lineCap=ie,this.lineWidth=ve,this.lineJoin=Te},k=function(R,G,K){for(var ie=0;ie<R.length;ie++)switch(R[ie].type){case"bct":R[ie].x2+=G,R[ie].y2+=K;case"qct":R[ie].x1+=G,R[ie].y1+=K;case"mt":case"lt":case"arc":default:R[ie].x+=G,R[ie].y+=K}return R},U=function(R){return R.sort((function(G,K){return G-K}))},z=function(R,G){for(var K,ie,ve=this.fillStyle,Te=this.strokeStyle,we=this.lineCap,Se=this.lineWidth,We=Math.abs(Se*this.ctx.transform.scaleX),Ye=this.lineJoin,st=JSON.parse(JSON.stringify(this.path)),ot=JSON.parse(JSON.stringify(this.path)),F=[],ye=0;ye<ot.length;ye++)if(ot[ye].x!==void 0)for(var $=C.call(this,ot[ye]),ue=0;ue<$.length;ue+=1)F.indexOf($[ue])===-1&&F.push($[ue]);for(var se=0;se<F.length;se++)for(;this.pdf.internal.getNumberOfPages()<F[se];)T.call(this);if(U(F),this.autoPaging)for(var he=F[0],Ce=F[F.length-1],Re=he;Re<Ce+1;Re++){this.pdf.setPage(Re),this.fillStyle=ve,this.strokeStyle=Te,this.lineCap=we,this.lineWidth=We,this.lineJoin=Ye;var be=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ze=Re===1?this.posY+this.margin[0]:this.margin[0],He=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ve=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],it=Re===1?0:He+(Re-2)*Ve;if(this.ctx.clip_path.length!==0){var gt=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(K,this.posX+this.margin[3],-it+ze+this.ctx.prevPageLastElemOffset),q.call(this,R,!0),this.path=gt}if(ie=JSON.parse(JSON.stringify(st)),this.path=k(ie,this.posX+this.margin[3],-it+ze+this.ctx.prevPageLastElemOffset),G===!1||Re===0){var ft=(Re>he||Re<Ce)&&A.call(this);ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],be,Ve,null).clip().discardPath()),q.call(this,R,G),ft&&this.pdf.restoreGraphicsState()}this.lineWidth=Se}else this.lineWidth=We,q.call(this,R,G),this.lineWidth=Se;this.path=st},q=function(R,G){if((R!=="stroke"||G||!N.call(this))&&(R==="stroke"||G||!y.call(this))){for(var K,ie,ve=[],Te=this.path,we=0;we<Te.length;we++){var Se=Te[we];switch(Se.type){case"begin":ve.push({begin:!0});break;case"close":ve.push({close:!0});break;case"mt":ve.push({start:Se,deltas:[],abs:[]});break;case"lt":var We=ve.length;if(Te[we-1]&&!isNaN(Te[we-1].x)&&(K=[Se.x-Te[we-1].x,Se.y-Te[we-1].y],We>0)){for(;We>=0;We--)if(ve[We-1].close!==!0&&ve[We-1].begin!==!0){ve[We-1].deltas.push(K),ve[We-1].abs.push(Se);break}}break;case"bct":K=[Se.x1-Te[we-1].x,Se.y1-Te[we-1].y,Se.x2-Te[we-1].x,Se.y2-Te[we-1].y,Se.x-Te[we-1].x,Se.y-Te[we-1].y],ve[ve.length-1].deltas.push(K);break;case"qct":var Ye=Te[we-1].x+2/3*(Se.x1-Te[we-1].x),st=Te[we-1].y+2/3*(Se.y1-Te[we-1].y),ot=Se.x+2/3*(Se.x1-Se.x),F=Se.y+2/3*(Se.y1-Se.y),ye=Se.x,$=Se.y;K=[Ye-Te[we-1].x,st-Te[we-1].y,ot-Te[we-1].x,F-Te[we-1].y,ye-Te[we-1].x,$-Te[we-1].y],ve[ve.length-1].deltas.push(K);break;case"arc":ve.push({deltas:[],abs:[],arc:!0}),Array.isArray(ve[ve.length-1].abs)&&ve[ve.length-1].abs.push(Se)}}ie=G?null:R==="stroke"?"stroke":"fill";for(var ue=!1,se=0;se<ve.length;se++)if(ve[se].arc)for(var he=ve[se].abs,Ce=0;Ce<he.length;Ce++){var Re=he[Ce];Re.type==="arc"?Z.call(this,Re.x,Re.y,Re.radius,Re.startAngle,Re.endAngle,Re.counterclockwise,void 0,G,!ue):X.call(this,Re.x,Re.y),ue=!0}else if(ve[se].close===!0)this.pdf.internal.out("h"),ue=!1;else if(ve[se].begin!==!0){var be=ve[se].start.x,ze=ve[se].start.y;I.call(this,ve[se].deltas,be,ze),ue=!0}ie&&W.call(this,ie),G&&ae.call(this)}},J=function(R){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,K=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return R-K;case"top":return R+G-K;case"hanging":return R+G-2*K;case"middle":return R+G/2-K;case"ideographic":return R;case"alphabetic":default:return R}},H=function(R){return R+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};v.prototype.createLinearGradient=function(){var R=function(){};return R.colorStops=[],R.addColorStop=function(G,K){this.colorStops.push([G,K])},R.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},R.isCanvasGradient=!0,R},v.prototype.createPattern=function(){return this.createLinearGradient()},v.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Z=function(R,G,K,ie,ve,Te,we,Se,We){for(var Ye=oe.call(this,K,ie,ve,Te),st=0;st<Ye.length;st++){var ot=Ye[st];st===0&&(We?B.call(this,ot.x1+R,ot.y1+G):X.call(this,ot.x1+R,ot.y1+G)),ce.call(this,R,G,ot.x2,ot.y2,ot.x3,ot.y3,ot.x4,ot.y4)}Se?ae.call(this):W.call(this,we)},W=function(R){switch(R){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ae=function(){this.pdf.clip(),this.pdf.discardPath()},B=function(R,G){this.pdf.internal.out(n(R)+" "+r(G)+" m")},D=function(R){var G;switch(R.align){case"right":case"end":G="right";break;case"center":G="center";break;case"left":case"start":default:G="left"}var K=this.pdf.getTextDimensions(R.text),ie=J.call(this,R.y),ve=H.call(this,ie)-K.h,Te=this.ctx.transform.applyToPoint(new l(R.x,ie)),we=this.ctx.transform.decompose(),Se=new f;Se=(Se=(Se=Se.multiply(we.translate)).multiply(we.skew)).multiply(we.scale);for(var We,Ye,st,ot=this.ctx.transform.applyToRectangle(new c(R.x,ie,K.w,K.h)),F=Se.applyToRectangle(new c(R.x,ve,K.w,K.h)),ye=C.call(this,F),$=[],ue=0;ue<ye.length;ue+=1)$.indexOf(ye[ue])===-1&&$.push(ye[ue]);if(U($),this.autoPaging)for(var se=$[0],he=$[$.length-1],Ce=se;Ce<he+1;Ce++){this.pdf.setPage(Ce);var Re=Ce===1?this.posY+this.margin[0]:this.margin[0],be=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ze=this.pdf.internal.pageSize.height-this.margin[2],He=ze-this.margin[0],Ve=this.pdf.internal.pageSize.width-this.margin[1],it=Ve-this.margin[3],gt=Ce===1?0:be+(Ce-2)*He;if(this.ctx.clip_path.length!==0){var ft=this.path;We=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(We,this.posX+this.margin[3],-1*gt+Re),q.call(this,"fill",!0),this.path=ft}var vt=k([JSON.parse(JSON.stringify(F))],this.posX+this.margin[3],-gt+Re+this.ctx.prevPageLastElemOffset)[0];R.scale>=.01&&(Ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ye*R.scale),st=this.lineWidth,this.lineWidth=st*R.scale);var Ct=this.autoPaging!=="text";if(Ct||vt.y+vt.h<=ze){if(Ct||vt.y>=Re&&vt.x<=Ve){var at=Ct?R.text:this.pdf.splitTextToSize(R.text,R.maxWidth||Ve-vt.x)[0],Vt=k([JSON.parse(JSON.stringify(ot))],this.posX+this.margin[3],-gt+Re+this.ctx.prevPageLastElemOffset)[0],_t=Ct&&(Ce>se||Ce<he)&&A.call(this);_t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],it,He,null).clip().discardPath()),this.pdf.text(at,Vt.x,Vt.y,{angle:R.angle,align:G,renderingMode:R.renderingMode}),_t&&this.pdf.restoreGraphicsState()}}else vt.y<ze&&(this.ctx.prevPageLastElemOffset+=ze-vt.y);R.scale>=.01&&(this.pdf.setFontSize(Ye),this.lineWidth=st)}else R.scale>=.01&&(Ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ye*R.scale),st=this.lineWidth,this.lineWidth=st*R.scale),this.pdf.text(R.text,Te.x+this.posX,Te.y+this.posY,{angle:R.angle,align:G,renderingMode:R.renderingMode,maxWidth:R.maxWidth}),R.scale>=.01&&(this.pdf.setFontSize(Ye),this.lineWidth=st)},X=function(R,G,K,ie){K=K||0,ie=ie||0,this.pdf.internal.out(n(R+K)+" "+r(G+ie)+" l")},I=function(R,G,K){return this.pdf.lines(R,G,K,null,null)},ce=function(R,G,K,ie,ve,Te,we,Se){this.pdf.internal.out([e(o(K+R)),e(a(ie+G)),e(o(ve+R)),e(a(Te+G)),e(o(we+R)),e(a(Se+G)),"c"].join(" "))},oe=function(R,G,K,ie){for(var ve=2*Math.PI,Te=Math.PI/2;G>K;)G-=ve;var we=Math.abs(K-G);we<ve&&ie&&(we=ve-we);for(var Se=[],We=ie?-1:1,Ye=G;we>1e-5;){var st=Ye+We*Math.min(we,Te);Se.push(le.call(this,R,Ye,st)),we-=Math.abs(st-Ye),Ye=st}return Se},le=function(R,G,K){var ie=(K-G)/2,ve=R*Math.cos(ie),Te=R*Math.sin(ie),we=ve,Se=-Te,We=we*we+Se*Se,Ye=We+we*ve+Se*Te,st=4/3*(Math.sqrt(2*We*Ye)-Ye)/(we*Te-Se*ve),ot=we-st*Se,F=Se+st*we,ye=ot,$=-F,ue=ie+G,se=Math.cos(ue),he=Math.sin(ue);return{x1:R*Math.cos(G),y1:R*Math.sin(G),x2:ot*se-F*he,y2:ot*he+F*se,x3:ye*se-$*he,y3:ye*he+$*se,x4:R*Math.cos(K),y4:R*Math.sin(K)}},me=function(R){return 180*R/Math.PI},ge=function(R,G,K,ie,ve,Te){var we=R+.5*(K-R),Se=G+.5*(ie-G),We=ve+.5*(K-ve),Ye=Te+.5*(ie-Te),st=Math.min(R,ve,we,We),ot=Math.max(R,ve,we,We),F=Math.min(G,Te,Se,Ye),ye=Math.max(G,Te,Se,Ye);return new c(st,F,ot-st,ye-F)},Ne=function(R,G,K,ie,ve,Te,we,Se){var We,Ye,st,ot,F,ye,$,ue,se,he,Ce,Re,be,ze,He=K-R,Ve=ie-G,it=ve-K,gt=Te-ie,ft=we-ve,vt=Se-Te;for(Ye=0;Ye<41;Ye++)se=($=(st=R+(We=Ye/40)*He)+We*((F=K+We*it)-st))+We*(F+We*(ve+We*ft-F)-$),he=(ue=(ot=G+We*Ve)+We*((ye=ie+We*gt)-ot))+We*(ye+We*(Te+We*vt-ye)-ue),Ye==0?(Ce=se,Re=he,be=se,ze=he):(Ce=Math.min(Ce,se),Re=Math.min(Re,he),be=Math.max(be,se),ze=Math.max(ze,he));return new c(Math.round(Ce),Math.round(Re),Math.round(be-Ce),Math.round(ze-Re))},Y=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var R,G,K=(R=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:R,lineDashOffset:G}));this.prevLineDash!==K&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=K)}}})(kt.API),(function(t){var e=function(a){var l,c,f,d,p,v,_,y,N,A;for(c=[],f=0,d=(a+=l="\0\0\0\0".slice(a.length%4||4)).length;d>f;f+=4)(p=(a.charCodeAt(f)<<24)+(a.charCodeAt(f+1)<<16)+(a.charCodeAt(f+2)<<8)+a.charCodeAt(f+3))!==0?(v=(p=((p=((p=((p=(p-(A=p%85))/85)-(N=p%85))/85)-(y=p%85))/85)-(_=p%85))/85)%85,c.push(v+33,_+33,y+33,N+33,A+33)):c.push(122);return(function(C,T){for(var k=T;k>0;k--)C.pop()})(c,l.length),String.fromCharCode.apply(String,c)+"~>"},n=function(a){var l,c,f,d,p,v=String,_="length",y=255,N="charCodeAt",A="slice",C="replace";for(a[A](-2),a=a[A](0,-2)[C](/\s/g,"")[C]("z","!!!!!"),f=[],d=0,p=(a+=l="uuuuu"[A](a[_]%5||5))[_];p>d;d+=5)c=52200625*(a[N](d)-33)+614125*(a[N](d+1)-33)+7225*(a[N](d+2)-33)+85*(a[N](d+3)-33)+(a[N](d+4)-33),f.push(y&c>>24,y&c>>16,y&c>>8,y&c);return(function(T,k){for(var U=k;U>0;U--)T.pop()})(f,l[_]),v.fromCharCode.apply(v,f)},r=function(a){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),l.test(a)===!1)return"";for(var c="",f=0;f<a.length;f+=2)c+=String.fromCharCode("0x"+(a[f]+a[f+1]));return c},o=function(a){for(var l=new Uint8Array(a.length),c=a.length;c--;)l[c]=a.charCodeAt(c);return a=(l=vp(l)).reduce((function(f,d){return f+String.fromCharCode(d)}),"")};t.processDataByFilters=function(a,l){var c=0,f=a||"",d=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":f=n(f),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=e(f),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=r(f),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=f.split("").map((function(p){return("0"+p.charCodeAt().toString(16)).slice(-2)})).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=o(f),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:f,reverseChain:d.reverse().join(" ")}}})(kt.API),(function(t){t.loadFile=function(e,n,r){return(function(o,a,l){a=a!==!1,l=typeof l=="function"?l:function(){};var c=void 0;try{c=(function(f,d,p){var v=new XMLHttpRequest,_=0,y=function(N){var A=N.length,C=[],T=String.fromCharCode;for(_=0;_<A;_+=1)C.push(T(255&N.charCodeAt(_)));return C.join("")};if(v.open("GET",f,!d),v.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(v.onload=function(){v.status===200?p(y(this.responseText)):p(void 0)}),v.send(null),d&&v.status===200)return y(v.responseText)})(o,a,l)}catch{}return c})(e,n,r)},t.loadImageFile=t.loadFile})(kt.API),(function(t){function e(){return(Dt.html2canvas?Promise.resolve(Dt.html2canvas):dp(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch((function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))})).then((function(l){return l.default?l.default:l}))}function n(){return(Dt.DOMPurify?Promise.resolve(Dt.DOMPurify):dp(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch((function(l){return Promise.reject(new Error("Could not load dompurify: "+l))})).then((function(l){return l.default?l.default:l}))}var r=function(l){var c=En(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},o=function(l,c){var f=document.createElement(l);for(var d in c.className&&(f.className=c.className),c.innerHTML&&c.dompurify&&(f.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)f.style[d]=c.style[d];return f},a=function l(c){var f=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),d=l.convert(Promise.resolve(),f);return d=(d=d.setProgress(1,l,1,[l])).set(c)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(l,c){return l.__proto__=c||a.prototype,l},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(l,c){return this.then((function(){switch(c=c||(function(f){switch(r(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l)){case"string":return this.then(n).then((function(f){return this.set({src:o("div",{innerHTML:l,dompurify:f})})}));case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}}))},a.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=(function f(d,p){for(var v=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),_=d.firstChild;_;_=_.nextSibling)p!==!0&&_.nodeType===1&&_.nodeName==="SCRIPT"||v.appendChild(f(_,p));return d.nodeType===1&&(d.nodeName==="CANVAS"?(v.width=d.width,v.height=d.height,v.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(v.value=d.value),v.addEventListener("load",(function(){v.scrollTop=d.scrollTop,v.scrollLeft=d.scrollLeft}),!0)),v})(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=o("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=o("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(o("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},a.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then((function(c){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,c(this.prop.container,f)})).then((function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)}))},a.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then((function(c){var f=this.opt.jsPDF,d=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=d,d)for(var _=0;_<d.length;++_){var y=d[_],N=y.src.find((function(A){return A.format==="truetype"}));N&&f.addFont(N.url,y.ref.name,y.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=v.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,f.context2d.save(!0),c(this.prop.container,v)})).then((function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)}))},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l}))},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},a.prototype.output=function(l,c,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},a.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(l,c)}))},a.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}}))},a.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},a.prototype.set=function(l){if(r(l)!=="object")return this;var c=Object.keys(l||{}).map((function(f){if(f in a.template.prop)return function(){this.prop[f]=l[f]};switch(f){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[f]=l[f]}}}),this);return this.then((function(){return this.thenList(c)}))},a.prototype.get=function(l,c){return this.then((function(){var f=l in a.template.prop?this.prop[l]:this.opt[l];return c?c(f):f}))},a.prototype.setMargin=function(l){return this.then((function(){switch(r(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l})).then(this.setPageSize)},a.prototype.setPageSize=function(l){function c(f,d){return Math.floor(f*d/72*96)}return this.then((function(){(l=l||kt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l}))},a.prototype.setProgress=function(l,c,f,d){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),f!=null&&(this.progress.n=f),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(l,c,f,d){return this.setProgress(l?this.progress.val+l:null,c||null,f?this.progress.n+f:null,d?this.progress.stack.concat(d):null)},a.prototype.then=function(l,c){var f=this;return this.thenCore(l,c,(function(d,p){return f.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,(function(v){return f.updateProgress(null,d),v})).then(d,p).then((function(v){return f.updateProgress(1),v}))}))},a.prototype.thenCore=function(l,c,f){f=f||Promise.prototype.then,l&&(l=l.bind(this)),c&&(c=c.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),p=f.call(d,l,c);return a.convert(p,this.__proto__)},a.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},a.prototype.thenList=function(l){var c=this;return l.forEach((function(f){c=c.thenCore(f)})),c},a.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return a.convert(c,this)},a.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},a.prototype.error=function(l){return this.then((function(){throw new Error(l)}))},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,kt.getPageSize=function(l,c,f){if(En(l)==="object"){var d=l;l=d.orientation,c=d.unit||c,f=d.format||f}c=c||"mm",f=f||"a4",l=(""+(l||"P")).toLowerCase();var p,v=(""+f).toLowerCase(),_={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+c}var y,N=0,A=0;if(_.hasOwnProperty(v))N=_[v][1]/p,A=_[v][0]/p;else try{N=f[1],A=f[0]}catch{throw new Error("Invalid format: "+f)}if(l==="p"||l==="portrait")l="p",A>N&&(y=A,A=N,N=y);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",N>A&&(y=A,A=N,N=y)}return{width:A,height:N,unit:c,k:p,orientation:l}},t.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(Sp):null;var f=new a(c);return c.worker?f:f.from(l).doCallback()}})(kt.API),kt.API.addJS=function(t){return Kg=t,this.internal.events.subscribe("postPutResources",(function(){Wf=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Wf+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Wg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Kg+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){Wf!==void 0&&Wg!==void 0&&this.internal.out("/Names <</JavaScript "+Wf+" 0 R>>")})),this},(function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var o=n.outline.render().split(/\r\n/),a=0;a<o.length;a++){var l=o[a],c=r.exec(l);if(c!=null){var f=c[1];n.internal.newObjectDeferredBegin(f,!1)}n.internal.write(l)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,p=[];for(a=0;a<d;a++){var v=n.internal.newObject();p.push(v);var _=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+_.objId+" 0 R /XYZ null null null]>> endobj")}var y=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<p.length;a++)n.internal.write("(page_"+(a+1)+")"+p[a]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+y+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,o,a){var l={title:o,options:a,children:[]};return r==null&&(r=this.root),r.children.push(l),l},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var o=0;o<r.children.length;o++)this.genIds_r(r.children[o])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var o=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var l=r.children[a];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var c=this.count=this.count_r({count:0},l);if(c>0&&this.line("/Count "+c),l.options&&l.options.pageNumber){var f=n.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+o(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,o){for(var a=0;a<o.children.length;a++)r.count++,this.count_r(r,o.children[a]);return r.count}}])})(kt.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,o,a,l,c){var f,d=this.decode.DCT_DECODE,p=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=l||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(f=(function(v){for(var _,y=256*v.charCodeAt(4)+v.charCodeAt(5),N=v.length,A={width:0,height:0,numcomponents:1},C=4;C<N;C+=2){if(C+=y,e.indexOf(v.charCodeAt(C+1))!==-1){_=256*v.charCodeAt(C+5)+v.charCodeAt(C+6),A={width:256*v.charCodeAt(C+7)+v.charCodeAt(C+8),height:_,numcomponents:v.charCodeAt(C+9)};break}y=256*v.charCodeAt(C+2)+v.charCodeAt(C+3)}return A})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}p={data:n,width:f.width,height:f.height,colorSpace:c,bitsPerComponent:8,filter:d,index:r,alias:o}}return p}})(kt.API);var qu,Kf,Xg,Zg,$g,Ob=(function(){var t,e,n;function r(a){var l,c,f,d,p,v,_,y,N,A,C,T,k,U;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},v=null;;){switch(l=this.readUInt32(),N=(function(){var z,q;for(q=[],z=0;z<4;++z)q.push(String.fromCharCode(this.data[this.pos++]));return q}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(l);break;case"fcTL":v&&this.animation.frames.push(v),this.pos+=4,v={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},p=this.readUInt16(),d=this.readUInt16()||100,v.delay=1e3*p/d,v.disposeOp=this.data[this.pos++],v.blendOp=this.data[this.pos++],v.data=[];break;case"IDAT":case"fdAT":for(N==="fdAT"&&(this.pos+=4,l-=4),a=(v!=null?v.data:void 0)||this.imgData,T=0;0<=l?T<l:T>l;0<=l?++T:--T)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(f=this.palette.length/3,this.transparency.indexed=this.read(l),this.transparency.indexed.length>f)throw new Error("More transparent colors than palette size");if((A=f-this.transparency.indexed.length)>0)for(k=0;0<=A?k<A:k>A;0<=A?++k:--k)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(l)[0];break;case 2:this.transparency.rgb=this.read(l)}break;case"tEXt":_=(C=this.read(l)).indexOf(0),y=String.fromCharCode.apply(String,C.slice(0,_)),this.text[y]=String.fromCharCode.apply(String,C.slice(_+1));break;case"IEND":return v&&this.animation.frames.push(v),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(U=this.colorType)===4||U===6,c=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*c,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=l}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(a){var l,c;for(c=[],l=0;0<=a?l<a:l>a;0<=a?++l:--l)c.push(this.data[this.pos++]);return c},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(a){var l=this.pixelBitlength/8,c=new Uint8Array(this.width*this.height*l),f=0,d=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function p(v,_,y,N){var A,C,T,k,U,z,q,J,H,Z,W,ae,B,D,X,I,ce,oe,le,me,ge,Ne=Math.ceil((d.width-v)/y),Y=Math.ceil((d.height-_)/N),R=d.width==Ne&&d.height==Y;for(D=l*Ne,ae=R?c:new Uint8Array(D*Y),z=a.length,B=0,C=0;B<Y&&f<z;){switch(a[f++]){case 0:for(k=ce=0;ce<D;k=ce+=1)ae[C++]=a[f++];break;case 1:for(k=oe=0;oe<D;k=oe+=1)A=a[f++],U=k<l?0:ae[C-l],ae[C++]=(A+U)%256;break;case 2:for(k=le=0;le<D;k=le+=1)A=a[f++],T=(k-k%l)/l,X=B&&ae[(B-1)*D+T*l+k%l],ae[C++]=(X+A)%256;break;case 3:for(k=me=0;me<D;k=me+=1)A=a[f++],T=(k-k%l)/l,U=k<l?0:ae[C-l],X=B&&ae[(B-1)*D+T*l+k%l],ae[C++]=(A+Math.floor((U+X)/2))%256;break;case 4:for(k=ge=0;ge<D;k=ge+=1)A=a[f++],T=(k-k%l)/l,U=k<l?0:ae[C-l],B===0?X=I=0:(X=ae[(B-1)*D+T*l+k%l],I=T&&ae[(B-1)*D+(T-1)*l+k%l]),q=U+X-I,J=Math.abs(q-U),Z=Math.abs(q-X),W=Math.abs(q-I),H=J<=Z&&J<=W?U:Z<=W?X:I,ae[C++]=(A+H)%256;break;default:throw new Error("Invalid filter algorithm: "+a[f-1])}if(!R){var G=((_+B*N)*d.width+v)*l,K=B*D;for(k=0;k<Ne;k+=1){for(var ie=0;ie<l;ie+=1)c[G++]=ae[K++];G+=(y-1)*l}}B++}}return a=mb(a),d.interlaceMethod==1?(p(0,0,8,8),p(4,0,8,8),p(0,4,4,8),p(2,0,4,4),p(0,2,2,4),p(1,0,2,2),p(0,1,1,2)):p(0,0,1,1),c},r.prototype.decodePalette=function(){var a,l,c,f,d,p,v,_,y;for(c=this.palette,p=this.transparency.indexed||[],d=new Uint8Array((p.length||0)+c.length),f=0,a=0,l=v=0,_=c.length;v<_;l=v+=3)d[f++]=c[l],d[f++]=c[l+1],d[f++]=c[l+2],d[f++]=(y=p[a++])!=null?y:255;return d},r.prototype.copyToImageData=function(a,l){var c,f,d,p,v,_,y,N,A,C,T;if(f=this.colors,A=null,c=this.hasAlphaChannel,this.palette.length&&(A=(T=this._decodedPalette)!=null?T:this._decodedPalette=this.decodePalette(),f=4,c=!0),N=(d=a.data||a).length,v=A||l,p=_=0,f===1)for(;p<N;)y=A?4*l[p/4]:_,C=v[y++],d[p++]=C,d[p++]=C,d[p++]=C,d[p++]=c?v[y++]:255,_=y;else for(;p<N;)y=A?4*l[p/4]:_,d[p++]=v[y++],d[p++]=v[y++],d[p++]=v[y++],d[p++]=c?v[y++]:255,_=y},r.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var o=function(){if(Object.prototype.toString.call(Dt)==="[object Window]"){try{e=Dt.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return o(),t=function(a){var l;if(o()===!0)return n.width=a.width,n.height=a.height,n.clearRect(0,0,a.width,a.height),n.putImageData(a,0,0),(l=new Image).src=e.toDataURL(),l;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(a){var l,c,f,d,p,v,_,y;if(this.animation){for(y=[],c=p=0,v=(_=this.animation.frames).length;p<v;c=++p)l=_[c],f=a.createImageData(l.width,l.height),d=this.decodePixels(new Uint8Array(l.data)),this.copyToImageData(f,d),l.imageData=f,y.push(l.image=t(f));return y}},r.prototype.renderFrame=function(a,l){var c,f,d;return c=(f=this.animation.frames)[l],d=f[l-1],l===0&&a.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?a.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&a.putImageData(d.imageData,d.xOffset,d.yOffset),c.blendOp===0&&a.clearRect(c.xOffset,c.yOffset,c.width,c.height),a.drawImage(c.image,c.xOffset,c.yOffset)},r.prototype.animate=function(a){var l,c,f,d,p,v,_=this;return c=0,v=this.animation,d=v.numFrames,f=v.frames,p=v.numPlays,(l=function(){var y,N;if(y=c++%d,N=f[y],_.renderFrame(a,y),d>1&&c/d<p)return _.animation._timeout=setTimeout(l,N.delay)})()},r.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},r.prototype.render=function(a){var l,c;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,l=a.getContext("2d"),this.animation?(this.decodeFrames(l),this.animate(l)):(c=l.createImageData(this.width,this.height),this.copyToImageData(c,this.decodePixels()),l.putImageData(c,0,0))},r})();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Fb(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,o=t[e++],a=o>>7,l=1<<(7&o)+1;t[e++],t[e++];var c=null,f=null;a&&(c=e,f=l,e+=3*l);var d=!0,p=[],v=0,_=null,y=0,N=null;for(this.width=n,this.height=r;d&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,N=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((B=t[e++])>=0))throw Error("Invalid block size");if(B===0)break;e+=B}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var A=t[e++];v=t[e++]|t[e++]<<8,_=t[e++],(1&A)==0&&(_=null),y=A>>2&7,e++;break;case 254:for(;;){if(!((B=t[e++])>=0))throw Error("Invalid block size");if(B===0)break;e+=B}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var C=t[e++]|t[e++]<<8,T=t[e++]|t[e++]<<8,k=t[e++]|t[e++]<<8,U=t[e++]|t[e++]<<8,z=t[e++],q=z>>6&1,J=1<<(7&z)+1,H=c,Z=f,W=!1;z>>7&&(W=!0,H=e,Z=J,e+=3*J);var ae=e;for(e++;;){var B;if(!((B=t[e++])>=0))throw Error("Invalid block size");if(B===0)break;e+=B}p.push({x:C,y:T,width:k,height:U,has_local_palette:W,palette_offset:H,palette_size:Z,data_offset:ae,data_length:e-ae,transparent_index:_,interlaced:!!q,delay:v,disposal:y});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return N},this.frameInfo=function(D){if(D<0||D>=p.length)throw new Error("Frame index out of range.");return p[D]},this.decodeAndBlitFrameBGRA=function(D,X){var I=this.frameInfo(D),ce=I.width*I.height,oe=new Uint8Array(ce);Qg(t,I.data_offset,oe,ce);var le=I.palette_offset,me=I.transparent_index;me===null&&(me=256);var ge=I.width,Ne=n-ge,Y=ge,R=4*(I.y*n+I.x),G=4*((I.y+I.height)*n+I.x),K=R,ie=4*Ne;I.interlaced===!0&&(ie+=4*n*7);for(var ve=8,Te=0,we=oe.length;Te<we;++Te){var Se=oe[Te];if(Y===0&&(Y=ge,(K+=ie)>=G&&(ie=4*Ne+4*n*(ve-1),K=R+(ge+Ne)*(ve<<1),ve>>=1)),Se===me)K+=4;else{var We=t[le+3*Se],Ye=t[le+3*Se+1],st=t[le+3*Se+2];X[K++]=st,X[K++]=Ye,X[K++]=We,X[K++]=255}--Y}},this.decodeAndBlitFrameRGBA=function(D,X){var I=this.frameInfo(D),ce=I.width*I.height,oe=new Uint8Array(ce);Qg(t,I.data_offset,oe,ce);var le=I.palette_offset,me=I.transparent_index;me===null&&(me=256);var ge=I.width,Ne=n-ge,Y=ge,R=4*(I.y*n+I.x),G=4*((I.y+I.height)*n+I.x),K=R,ie=4*Ne;I.interlaced===!0&&(ie+=4*n*7);for(var ve=8,Te=0,we=oe.length;Te<we;++Te){var Se=oe[Te];if(Y===0&&(Y=ge,(K+=ie)>=G&&(ie=4*Ne+4*n*(ve-1),K=R+(ge+Ne)*(ve<<1),ve>>=1)),Se===me)K+=4;else{var We=t[le+3*Se],Ye=t[le+3*Se+1],st=t[le+3*Se+2];X[K++]=We,X[K++]=Ye,X[K++]=st,X[K++]=255}--Y}}}function Qg(t,e,n,r){for(var o=t[e++],a=1<<o,l=a+1,c=l+1,f=o+1,d=(1<<f)-1,p=0,v=0,_=0,y=t[e++],N=new Int32Array(4096),A=null;;){for(;p<16&&y!==0;)v|=t[e++]<<p,p+=8,y===1?y=t[e++]:--y;if(p<f)break;var C=v&d;if(v>>=f,p-=f,C!==a){if(C===l)break;for(var T=C<c?C:A,k=0,U=T;U>a;)U=N[U]>>8,++k;var z=U;if(_+k+(T!==C?1:0)>r)return void Pn.log("Warning, gif stream longer than expected.");n[_++]=z;var q=_+=k;for(T!==C&&(n[_++]=z),U=T;k--;)U=N[U],n[--q]=255&U,U>>=8;A!==null&&c<4096&&(N[c++]=A<<8|z,c>=d+1&&f<12&&(++f,d=d<<1|1)),A=C}else c=l+1,d=(1<<(f=o+1))-1,A=null}return _!==r&&Pn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function ip(t){var e,n,r,o,a,l=Math.floor,c=new Array(64),f=new Array(64),d=new Array(64),p=new Array(64),v=new Array(65535),_=new Array(65535),y=new Array(64),N=new Array(64),A=[],C=0,T=7,k=new Array(64),U=new Array(64),z=new Array(64),q=new Array(256),J=new Array(2048),H=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Z=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],W=[0,1,2,3,4,5,6,7,8,9,10,11],ae=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],B=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],D=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],X=[0,1,2,3,4,5,6,7,8,9,10,11],I=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ce=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function oe(R,G){for(var K=0,ie=0,ve=new Array,Te=1;Te<=16;Te++){for(var we=1;we<=R[Te];we++)ve[G[ie]]=[],ve[G[ie]][0]=K,ve[G[ie]][1]=Te,ie++,K++;K*=2}return ve}function le(R){for(var G=R[0],K=R[1]-1;K>=0;)G&1<<K&&(C|=1<<T),K--,--T<0&&(C==255?(me(255),me(0)):me(C),T=7,C=0)}function me(R){A.push(R)}function ge(R){me(R>>8&255),me(255&R)}function Ne(R,G,K,ie,ve){for(var Te,we=ve[0],Se=ve[240],We=(function(he,Ce){var Re,be,ze,He,Ve,it,gt,ft,vt,Ct,at=0;for(vt=0;vt<8;++vt){Re=he[at],be=he[at+1],ze=he[at+2],He=he[at+3],Ve=he[at+4],it=he[at+5],gt=he[at+6];var Vt=Re+(ft=he[at+7]),_t=Re-ft,cn=be+gt,Bt=be-gt,Lt=ze+it,di=ze-it,en=He+Ve,Ir=He-Ve,mn=Vt+en,si=Vt-en,Fn=cn+Lt,Jt=cn-Lt;he[at]=mn+Fn,he[at+4]=mn-Fn;var xt=.707106781*(Jt+si);he[at+2]=si+xt,he[at+6]=si-xt;var Yt=.382683433*((mn=Ir+di)-(Jt=Bt+_t)),Oi=.5411961*mn+Yt,Zn=1.306562965*Jt+Yt,oi=.707106781*(Fn=di+Bt),Li=_t+oi,St=_t-oi;he[at+5]=St+Oi,he[at+3]=St-Oi,he[at+1]=Li+Zn,he[at+7]=Li-Zn,at+=8}for(at=0,vt=0;vt<8;++vt){Re=he[at],be=he[at+8],ze=he[at+16],He=he[at+24],Ve=he[at+32],it=he[at+40],gt=he[at+48];var Ki=Re+(ft=he[at+56]),hi=Re-ft,pi=be+gt,_n=be-gt,wn=ze+it,mi=ze-it,ys=He+Ve,gi=He-Ve,gn=Ki+ys,Tn=Ki-ys,vi=pi+wn,tr=pi-wn;he[at]=gn+vi,he[at+32]=gn-vi;var nr=.707106781*(tr+Tn);he[at+16]=Tn+nr,he[at+48]=Tn-nr;var Mr=.382683433*((gn=gi+mi)-(tr=_n+hi)),ir=.5411961*gn+Mr,Rr=1.306562965*tr+Mr,bs=.707106781*(vi=mi+_n),vr=hi+bs,ti=hi-bs;he[at+40]=ti+ir,he[at+24]=ti-ir,he[at+8]=vr+Rr,he[at+56]=vr-Rr,at++}for(vt=0;vt<64;++vt)Ct=he[vt]*Ce[vt],y[vt]=Ct>0?Ct+.5|0:Ct-.5|0;return y})(R,G),Ye=0;Ye<64;++Ye)N[H[Ye]]=We[Ye];var st=N[0]-K;K=N[0],st==0?le(ie[0]):(le(ie[_[Te=32767+st]]),le(v[Te]));for(var ot=63;ot>0&&N[ot]==0;)ot--;if(ot==0)return le(we),K;for(var F,ye=1;ye<=ot;){for(var $=ye;N[ye]==0&&ye<=ot;)++ye;var ue=ye-$;if(ue>=16){F=ue>>4;for(var se=1;se<=F;++se)le(Se);ue&=15}Te=32767+N[ye],le(ve[(ue<<4)+_[Te]]),le(v[Te]),ye++}return ot!=63&&le(we),K}function Y(R){R=Math.min(Math.max(R,1),100),a!=R&&((function(G){for(var K=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ie=0;ie<64;ie++){var ve=l((K[ie]*G+50)/100);ve=Math.min(Math.max(ve,1),255),c[H[ie]]=ve}for(var Te=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],we=0;we<64;we++){var Se=l((Te[we]*G+50)/100);Se=Math.min(Math.max(Se,1),255),f[H[we]]=Se}for(var We=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ye=0,st=0;st<8;st++)for(var ot=0;ot<8;ot++)d[Ye]=1/(c[H[Ye]]*We[st]*We[ot]*8),p[Ye]=1/(f[H[Ye]]*We[st]*We[ot]*8),Ye++})(R<50?Math.floor(5e3/R):Math.floor(200-2*R)),a=R)}this.encode=function(R,G){G&&Y(G),A=new Array,C=0,T=7,ge(65496),ge(65504),ge(16),me(74),me(70),me(73),me(70),me(0),me(1),me(1),me(0),ge(1),ge(1),me(0),me(0),(function(){ge(65499),ge(132),me(0);for(var be=0;be<64;be++)me(c[be]);me(1);for(var ze=0;ze<64;ze++)me(f[ze])})(),(function(be,ze){ge(65472),ge(17),me(8),ge(ze),ge(be),me(3),me(1),me(17),me(0),me(2),me(17),me(1),me(3),me(17),me(1)})(R.width,R.height),(function(){ge(65476),ge(418),me(0);for(var be=0;be<16;be++)me(Z[be+1]);for(var ze=0;ze<=11;ze++)me(W[ze]);me(16);for(var He=0;He<16;He++)me(ae[He+1]);for(var Ve=0;Ve<=161;Ve++)me(B[Ve]);me(1);for(var it=0;it<16;it++)me(D[it+1]);for(var gt=0;gt<=11;gt++)me(X[gt]);me(17);for(var ft=0;ft<16;ft++)me(I[ft+1]);for(var vt=0;vt<=161;vt++)me(ce[vt])})(),ge(65498),ge(12),me(3),me(1),me(0),me(2),me(17),me(3),me(17),me(0),me(63),me(0);var K=0,ie=0,ve=0;C=0,T=7,this.encode.displayName="_encode_";for(var Te,we,Se,We,Ye,st,ot,F,ye,$=R.data,ue=R.width,se=R.height,he=4*ue,Ce=0;Ce<se;){for(Te=0;Te<he;){for(Ye=he*Ce+Te,ot=-1,F=0,ye=0;ye<64;ye++)st=Ye+(F=ye>>3)*he+(ot=4*(7&ye)),Ce+F>=se&&(st-=he*(Ce+1+F-se)),Te+ot>=he&&(st-=Te+ot-he+4),we=$[st++],Se=$[st++],We=$[st++],k[ye]=(J[we]+J[Se+256>>0]+J[We+512>>0]>>16)-128,U[ye]=(J[we+768>>0]+J[Se+1024>>0]+J[We+1280>>0]>>16)-128,z[ye]=(J[we+1280>>0]+J[Se+1536>>0]+J[We+1792>>0]>>16)-128;K=Ne(k,d,K,e,r),ie=Ne(U,p,ie,n,o),ve=Ne(z,p,ve,n,o),Te+=32}Ce+=8}if(T>=0){var Re=[];Re[1]=T+1,Re[0]=(1<<T+1)-1,le(Re)}return ge(65497),new Uint8Array(A)},t=t||50,(function(){for(var R=String.fromCharCode,G=0;G<256;G++)q[G]=R(G)})(),e=oe(Z,W),n=oe(D,X),r=oe(ae,B),o=oe(I,ce),(function(){for(var R=1,G=2,K=1;K<=15;K++){for(var ie=R;ie<G;ie++)_[32767+ie]=K,v[32767+ie]=[],v[32767+ie][1]=K,v[32767+ie][0]=ie;for(var ve=-(G-1);ve<=-R;ve++)_[32767+ve]=K,v[32767+ve]=[],v[32767+ve][1]=K,v[32767+ve][0]=G-1+ve;R<<=1,G<<=1}})(),(function(){for(var R=0;R<256;R++)J[R]=19595*R,J[R+256>>0]=38470*R,J[R+512>>0]=7471*R+32768,J[R+768>>0]=-11059*R,J[R+1024>>0]=-21709*R,J[R+1280>>0]=32768*R+8421375,J[R+1536>>0]=-27439*R,J[R+1792>>0]=-5329*R})(),Y(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function io(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function e1(t){function e(Z){if(!Z)throw Error("assert :P")}function n(Z,W,ae){for(var B=0;4>B;B++)if(Z[W+B]!=ae.charCodeAt(B))return!0;return!1}function r(Z,W,ae,B,D){for(var X=0;X<D;X++)Z[W+X]=ae[B+X]}function o(Z,W,ae,B){for(var D=0;D<B;D++)Z[W+D]=ae}function a(Z){return new Int32Array(Z)}function l(Z,W){for(var ae=[],B=0;B<Z;B++)ae.push(new W);return ae}function c(Z,W){var ae=[];return(function B(D,X,I){for(var ce=I[X],oe=0;oe<ce&&(D.push(I.length>X+1?[]:new W),!(I.length<X+1));oe++)B(D[oe],X+1,I)})(ae,0,Z),ae}var f=function(){var Z=this;function W(g,x){for(var L=1<<x-1>>>0;g&L;)L>>>=1;return L?(g&L-1)+L:g}function ae(g,x,L,P,V){e(!(P%L));do g[x+(P-=L)]=V;while(0<P)}function B(g,x,L,P,V){if(e(2328>=V),512>=V)var Q=a(512);else if((Q=a(V))==null)return 0;return(function(ee,te,re,fe,Ae,Ue){var Pe,Me,et=te,Ge=1<<re,Ee=a(16),Ie=a(16);for(e(Ae!=0),e(fe!=null),e(ee!=null),e(0<re),Me=0;Me<Ae;++Me){if(15<fe[Me])return 0;++Ee[fe[Me]]}if(Ee[0]==Ae)return 0;for(Ie[1]=0,Pe=1;15>Pe;++Pe){if(Ee[Pe]>1<<Pe)return 0;Ie[Pe+1]=Ie[Pe]+Ee[Pe]}for(Me=0;Me<Ae;++Me)Pe=fe[Me],0<fe[Me]&&(Ue[Ie[Pe]++]=Me);if(Ie[15]==1)return(fe=new D).g=0,fe.value=Ue[0],ae(ee,et,1,Ge,fe),Ge;var $e,nt=-1,Ke=Ge-1,dt=0,ut=1,Et=1,ct=1<<re;for(Me=0,Pe=1,Ae=2;Pe<=re;++Pe,Ae<<=1){if(ut+=Et<<=1,0>(Et-=Ee[Pe]))return 0;for(;0<Ee[Pe];--Ee[Pe])(fe=new D).g=Pe,fe.value=Ue[Me++],ae(ee,et+dt,Ae,ct,fe),dt=W(dt,Pe)}for(Pe=re+1,Ae=2;15>=Pe;++Pe,Ae<<=1){if(ut+=Et<<=1,0>(Et-=Ee[Pe]))return 0;for(;0<Ee[Pe];--Ee[Pe]){if(fe=new D,(dt&Ke)!=nt){for(et+=ct,$e=1<<(nt=Pe)-re;15>nt&&!(0>=($e-=Ee[nt]));)++nt,$e<<=1;Ge+=ct=1<<($e=nt-re),ee[te+(nt=dt&Ke)].g=$e+re,ee[te+nt].value=et-te-nt}fe.g=Pe-re,fe.value=Ue[Me++],ae(ee,et+(dt>>re),Ae,ct,fe),dt=W(dt,Pe)}}return ut!=2*Ie[15]-1?0:Ge})(g,x,L,P,V,Q)}function D(){this.value=this.g=0}function X(){this.value=this.g=0}function I(){this.G=l(5,D),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(wi,X)}function ce(g,x,L,P){e(g!=null),e(x!=null),e(2147483648>P),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=x,g.pa=L,g.Jd=x,g.Yc=L+P,g.Zc=4<=P?L+P-4+1:L,Te(g)}function oe(g,x){for(var L=0;0<x--;)L|=Se(g,128)<<x;return L}function le(g,x){var L=oe(g,x);return we(g)?-L:L}function me(g,x,L,P){var V,Q=0;for(e(g!=null),e(x!=null),e(4294967288>P),g.Sb=P,g.Ra=0,g.u=0,g.h=0,4<P&&(P=4),V=0;V<P;++V)Q+=x[L+V]<<8*V;g.Ra=Q,g.bb=P,g.oa=x,g.pa=L}function ge(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<wo-8>>>0,++g.bb,g.u-=8;K(g)&&(g.h=1,g.u=0)}function Ne(g,x){if(e(0<=x),!g.h&&x<=_o){var L=G(g)&ra[x];return g.u+=x,ge(g),L}return g.h=1,g.u=0}function Y(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function R(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function G(g){return g.Ra>>>(g.u&wo-1)>>>0}function K(g){return e(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>wo}function ie(g,x){g.u=x,g.h=K(g)}function ve(g){g.u>=Ba&&(e(g.u>=Ba),ge(g))}function Te(g){e(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(e(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function we(g){return oe(g,1)}function Se(g,x){var L=g.Ca;0>g.b&&Te(g);var P=g.b,V=L*x>>>8,Q=(g.I>>>P>V)+0;for(Q?(L-=V,g.I-=V+1<<P>>>0):L=V+1,P=L,V=0;256<=P;)V+=8,P>>=8;return P=7^V+Xi[P],g.b-=P,g.Ca=(L<<P)-1,Q}function We(g,x,L){g[x+0]=L>>24&255,g[x+1]=L>>16&255,g[x+2]=L>>8&255,g[x+3]=L>>0&255}function Ye(g,x){return g[x+0]<<0|g[x+1]<<8}function st(g,x){return Ye(g,x)|g[x+2]<<16}function ot(g,x){return Ye(g,x)|Ye(g,x+2)<<16}function F(g,x){var L=1<<x;return e(g!=null),e(0<x),g.X=a(L),g.X==null?0:(g.Mb=32-x,g.Xa=x,1)}function ye(g,x){e(g!=null),e(x!=null),e(g.Xa==x.Xa),r(x.X,0,g.X,0,1<<x.Xa)}function $(){this.X=[],this.Xa=this.Mb=0}function ue(g,x,L,P){e(L!=null),e(P!=null);var V=L[0],Q=P[0];return V==0&&(V=(g*Q+x/2)/x),Q==0&&(Q=(x*V+g/2)/g),0>=V||0>=Q?0:(L[0]=V,P[0]=Q,1)}function se(g,x){return g+(1<<x)-1>>>x}function he(g,x){return((4278255360&g)+(4278255360&x)>>>0&4278255360)+((16711935&g)+(16711935&x)>>>0&16711935)>>>0}function Ce(g,x){Z[x]=function(L,P,V,Q,ee,te,re){var fe;for(fe=0;fe<ee;++fe){var Ae=Z[g](te[re+fe-1],V,Q+fe);te[re+fe]=he(L[P+fe],Ae)}}}function Re(){this.ud=this.hd=this.jd=0}function be(g,x){return((4278124286&(g^x))>>>1)+(g&x)>>>0}function ze(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function He(g,x){return ze(g+(g-x+.5>>1))}function Ve(g,x,L){return Math.abs(x-L)-Math.abs(g-L)}function it(g,x,L,P,V,Q,ee){for(P=Q[ee-1],L=0;L<V;++L)Q[ee+L]=P=he(g[x+L],P)}function gt(g,x,L,P,V){var Q;for(Q=0;Q<L;++Q){var ee=g[x+Q],te=ee>>8&255,re=16711935&(re=(re=16711935&ee)+((te<<16)+te));P[V+Q]=(4278255360&ee)+re>>>0}}function ft(g,x){x.jd=g>>0&255,x.hd=g>>8&255,x.ud=g>>16&255}function vt(g,x,L,P,V,Q){var ee;for(ee=0;ee<P;++ee){var te=x[L+ee],re=te>>>8,fe=te,Ae=255&(Ae=(Ae=te>>>16)+((g.jd<<24>>24)*(re<<24>>24)>>>5));fe=255&(fe=(fe=fe+((g.hd<<24>>24)*(re<<24>>24)>>>5))+((g.ud<<24>>24)*(Ae<<24>>24)>>>5)),V[Q+ee]=(4278255360&te)+(Ae<<16)+fe}}function Ct(g,x,L,P,V){Z[x]=function(Q,ee,te,re,fe,Ae,Ue,Pe,Me){for(re=Ue;re<Pe;++re)for(Ue=0;Ue<Me;++Ue)fe[Ae++]=V(te[P(Q[ee++])])},Z[g]=function(Q,ee,te,re,fe,Ae,Ue){var Pe=8>>Q.b,Me=Q.Ea,et=Q.K[0],Ge=Q.w;if(8>Pe)for(Q=(1<<Q.b)-1,Ge=(1<<Pe)-1;ee<te;++ee){var Ee,Ie=0;for(Ee=0;Ee<Me;++Ee)Ee&Q||(Ie=P(re[fe++])),Ae[Ue++]=V(et[Ie&Ge]),Ie>>=Pe}else Z["VP8LMapColor"+L](re,fe,et,Ge,Ae,Ue,ee,te,Me)}}function at(g,x,L,P,V){for(L=x+L;x<L;){var Q=g[x++];P[V++]=Q>>16&255,P[V++]=Q>>8&255,P[V++]=Q>>0&255}}function Vt(g,x,L,P,V){for(L=x+L;x<L;){var Q=g[x++];P[V++]=Q>>16&255,P[V++]=Q>>8&255,P[V++]=Q>>0&255,P[V++]=Q>>24&255}}function _t(g,x,L,P,V){for(L=x+L;x<L;){var Q=(ee=g[x++])>>16&240|ee>>12&15,ee=ee>>0&240|ee>>28&15;P[V++]=Q,P[V++]=ee}}function cn(g,x,L,P,V){for(L=x+L;x<L;){var Q=(ee=g[x++])>>16&248|ee>>13&7,ee=ee>>5&224|ee>>3&31;P[V++]=Q,P[V++]=ee}}function Bt(g,x,L,P,V){for(L=x+L;x<L;){var Q=g[x++];P[V++]=Q>>0&255,P[V++]=Q>>8&255,P[V++]=Q>>16&255}}function Lt(g,x,L,P,V,Q){if(Q==0)for(L=x+L;x<L;)We(P,((Q=g[x++])[0]>>24|Q[1]>>8&65280|Q[2]<<8&16711680|Q[3]<<24)>>>0),V+=32;else r(P,V,g,x,L)}function di(g,x){Z[x][0]=Z[g+"0"],Z[x][1]=Z[g+"1"],Z[x][2]=Z[g+"2"],Z[x][3]=Z[g+"3"],Z[x][4]=Z[g+"4"],Z[x][5]=Z[g+"5"],Z[x][6]=Z[g+"6"],Z[x][7]=Z[g+"7"],Z[x][8]=Z[g+"8"],Z[x][9]=Z[g+"9"],Z[x][10]=Z[g+"10"],Z[x][11]=Z[g+"11"],Z[x][12]=Z[g+"12"],Z[x][13]=Z[g+"13"],Z[x][14]=Z[g+"0"],Z[x][15]=Z[g+"0"]}function en(g){return g==Bl||g==fu||g==Ja||g==du}function Ir(){this.eb=[],this.size=this.A=this.fb=0}function mn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function si(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ir,this.f.kb=new mn,this.sd=null}function Fn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Jt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function xt(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function Yt(g,x){var L=g.T,P=x.ba.f.RGBA,V=P.eb,Q=P.fb+g.ka*P.A,ee=ki[x.ba.S],te=g.y,re=g.O,fe=g.f,Ae=g.N,Ue=g.ea,Pe=g.W,Me=x.cc,et=x.dc,Ge=x.Mc,Ee=x.Nc,Ie=g.ka,$e=g.ka+g.T,nt=g.U,Ke=nt+1>>1;for(Ie==0?ee(te,re,null,null,fe,Ae,Ue,Pe,fe,Ae,Ue,Pe,V,Q,null,null,nt):(ee(x.ec,x.fc,te,re,Me,et,Ge,Ee,fe,Ae,Ue,Pe,V,Q-P.A,V,Q,nt),++L);Ie+2<$e;Ie+=2)Me=fe,et=Ae,Ge=Ue,Ee=Pe,Ae+=g.Rc,Pe+=g.Rc,Q+=2*P.A,ee(te,(re+=2*g.fa)-g.fa,te,re,Me,et,Ge,Ee,fe,Ae,Ue,Pe,V,Q-P.A,V,Q,nt);return re+=g.fa,g.j+$e<g.o?(r(x.ec,x.fc,te,re,nt),r(x.cc,x.dc,fe,Ae,Ke),r(x.Mc,x.Nc,Ue,Pe,Ke),L--):1&$e||ee(te,re,null,null,fe,Ae,Ue,Pe,fe,Ae,Ue,Pe,V,Q+P.A,null,null,nt),L}function Oi(g,x,L){var P=g.F,V=[g.J];if(P!=null){var Q=g.U,ee=x.ba.S,te=ee==Fl||ee==Ja;x=x.ba.f.RGBA;var re=[0],fe=g.ka;re[0]=g.T,g.Kb&&(fe==0?--re[0]:(--fe,V[0]-=g.width),g.j+g.ka+g.T==g.o&&(re[0]=g.o-g.j-fe));var Ae=x.eb;fe=x.fb+fe*x.A,g=vn(P,V[0],g.width,Q,re,Ae,fe+(te?0:3),x.A),e(L==re),g&&en(ee)&&ar(Ae,fe,te,Q,re,x.A)}return 0}function Zn(g){var x=g.ma,L=x.ba.S,P=11>L,V=L==Vi||L==Hr||L==Fl||L==Ya||L==12||en(L);if(x.memory=null,x.Ib=null,x.Jb=null,x.Nd=null,!qs(x.Oa,g,V?11:12))return 0;if(V&&en(L)&&rt(),g.da)alert("todo:use_scaling");else{if(P){if(x.Ib=xt,g.Kb){if(L=g.U+1>>1,x.memory=a(g.U+2*L),x.memory==null)return 0;x.ec=x.memory,x.fc=0,x.cc=x.ec,x.dc=x.fc+g.U,x.Mc=x.cc,x.Nc=x.dc+L,x.Ib=Yt,rt()}}else alert("todo:EmitYUV");V&&(x.Jb=Oi,P&&De())}if(P&&!ko){for(g=0;256>g;++g)Di[g]=89858*(g-128)+Xa>>Kr,Md[g]=-22014*(g-128)+Xa,nf[g]=-45773*(g-128),vu[g]=113618*(g-128)+Xa>>Kr;for(g=ua;g<Ro;++g)x=76283*(g-16)+Xa>>Kr,Rd[g-ua]=_r(x,255),kd[g-ua]=_r(x+8>>4,15);ko=1}return 1}function oi(g){var x=g.ma,L=g.U,P=g.T;return e(!(1&g.ka)),0>=L||0>=P?0:(L=x.Ib(g,x),x.Jb!=null&&x.Jb(g,x,L),x.Dc+=L,1)}function Li(g){g.ma.memory=null}function St(g,x,L,P){return Ne(g,8)!=47?0:(x[0]=Ne(g,14)+1,L[0]=Ne(g,14)+1,P[0]=Ne(g,1),Ne(g,3)!=0?0:!g.h)}function Ki(g,x){if(4>g)return g+1;var L=g-2>>1;return(2+(1&g)<<L)+Ne(x,L)+1}function hi(g,x){return 120<x?x-120:1<=(L=((L=jr[x-1])>>4)*g+(8-(15&L)))?L:1;var L}function pi(g,x,L){var P=G(L),V=g[x+=255&P].g-8;return 0<V&&(ie(L,L.u+8),P=G(L),x+=g[x].value,x+=P&(1<<V)-1),ie(L,L.u+g[x].g),g[x].value}function _n(g,x,L){return L.g+=g.g,L.value+=g.value<<x>>>0,e(8>=L.g),g.g}function wn(g,x,L){var P=g.xc;return e((x=P==0?0:g.vc[g.md*(L>>P)+(x>>P)])<g.Wb),g.Ya[x]}function mi(g,x,L,P){var V=g.ab,Q=g.c*x,ee=g.C;x=ee+x;var te=L,re=P;for(P=g.Ta,L=g.Ua;0<V--;){var fe=g.gc[V],Ae=ee,Ue=x,Pe=te,Me=re,et=(re=P,te=L,fe.Ea);switch(e(Ae<Ue),e(Ue<=fe.nc),fe.hc){case 2:au(Pe,Me,(Ue-Ae)*et,re,te);break;case 0:var Ge=Ae,Ee=Ue,Ie=re,$e=te,nt=(ct=fe).Ea;Ge==0&&(ou(Pe,Me,null,null,1,Ie,$e),it(Pe,Me+1,0,0,nt-1,Ie,$e+1),Me+=nt,$e+=nt,++Ge);for(var Ke=1<<ct.b,dt=Ke-1,ut=se(nt,ct.b),Et=ct.K,ct=ct.w+(Ge>>ct.b)*ut;Ge<Ee;){var un=Et,Zt=ct,nn=1;for(Ul(Pe,Me,Ie,$e-nt,1,Ie,$e);nn<nt;){var Ot=(nn&~dt)+Ke;Ot>nt&&(Ot=nt),(0,Gr[un[Zt++]>>8&15])(Pe,Me+ +nn,Ie,$e+nn-nt,Ot-nn,Ie,$e+nn),nn=Ot}Me+=nt,$e+=nt,++Ge&dt||(ct+=ut)}Ue!=fe.nc&&r(re,te-et,re,te+(Ue-Ae-1)*et,et);break;case 1:for(et=Pe,Ee=Me,nt=(Pe=fe.Ea)-($e=Pe&~(Ie=(Me=1<<fe.b)-1)),Ge=se(Pe,fe.b),Ke=fe.K,fe=fe.w+(Ae>>fe.b)*Ge;Ae<Ue;){for(dt=Ke,ut=fe,Et=new Re,ct=Ee+$e,un=Ee+Pe;Ee<ct;)ft(dt[ut++],Et),xo(Et,et,Ee,Me,re,te),Ee+=Me,te+=Me;Ee<un&&(ft(dt[ut++],Et),xo(Et,et,Ee,nt,re,te),Ee+=nt,te+=nt),++Ae&Ie||(fe+=Ge)}break;case 3:if(Pe==re&&Me==te&&0<fe.b){for(Ee=re,Pe=et=te+(Ue-Ae)*et-($e=(Ue-Ae)*se(fe.Ea,fe.b)),Me=re,Ie=te,Ge=[],$e=(nt=$e)-1;0<=$e;--$e)Ge[$e]=Me[Ie+$e];for($e=nt-1;0<=$e;--$e)Ee[Pe+$e]=Ge[$e];qr(fe,Ae,Ue,re,et,re,te)}else qr(fe,Ae,Ue,Pe,Me,re,te)}te=P,re=L}re!=L&&r(P,L,te,re,Q)}function ys(g,x){var L=g.V,P=g.Ba+g.c*g.C,V=x-g.C;if(e(x<=g.l.o),e(16>=V),0<V){var Q=g.l,ee=g.Ta,te=g.Ua,re=Q.width;if(mi(g,V,L,P),V=te=[te],e((L=g.C)<(P=x)),e(Q.v<Q.va),P>Q.o&&(P=Q.o),L<Q.j){var fe=Q.j-L;L=Q.j,V[0]+=fe*re}if(L>=P?L=0:(V[0]+=4*Q.v,Q.ka=L-Q.j,Q.U=Q.va-Q.v,Q.T=P-L,L=1),L){if(te=te[0],11>(L=g.ca).S){var Ae=L.f.RGBA,Ue=(P=L.S,V=Q.U,Q=Q.T,fe=Ae.eb,Ae.A),Pe=Q;for(Ae=Ae.fb+g.Ma*Ae.A;0<Pe--;){var Me=ee,et=te,Ge=V,Ee=fe,Ie=Ae;switch(P){case uu:Zi(Me,et,Ge,Ee,Ie);break;case Vi:qi(Me,et,Ge,Ee,Ie);break;case Bl:qi(Me,et,Ge,Ee,Ie),ar(Ee,Ie,0,Ge,1,0);break;case cu:Vs(Me,et,Ge,Ee,Ie);break;case Hr:Lt(Me,et,Ge,Ee,Ie,1);break;case fu:Lt(Me,et,Ge,Ee,Ie,1),ar(Ee,Ie,0,Ge,1,0);break;case Fl:Lt(Me,et,Ge,Ee,Ie,0);break;case Ja:Lt(Me,et,Ge,Ee,Ie,0),ar(Ee,Ie,1,Ge,1,0);break;case Ya:Hs(Me,et,Ge,Ee,Ie);break;case du:Hs(Me,et,Ge,Ee,Ie),Wt(Ee,Ie,Ge,1,0);break;case No:as(Me,et,Ge,Ee,Ie);break;default:e(0)}te+=re,Ae+=Ue}g.Ma+=Q}else alert("todo:EmitRescaledRowsYUVA");e(g.Ma<=L.height)}}g.C=x,e(g.C<=g.i)}function gi(g){var x;if(0<g.ua)return 0;for(x=0;x<g.Wb;++x){var L=g.Ya[x].G,P=g.Ya[x].H;if(0<L[1][P[1]+0].g||0<L[2][P[2]+0].g||0<L[3][P[3]+0].g)return 0}return 1}function gn(g,x,L,P,V,Q){if(g.Z!=0){var ee=g.qd,te=g.rd;for(e(Ws[g.Z]!=null);x<L;++x)Ws[g.Z](ee,te,P,V,P,V,Q),ee=P,te=V,V+=Q;g.qd=ee,g.rd=te}}function Tn(g,x){var L=g.l.ma,P=L.Z==0||L.Z==1?g.l.j:g.C;if(P=g.C<P?P:g.C,e(x<=g.l.o),x>P){var V=g.l.width,Q=L.ca,ee=L.tb+V*P,te=g.V,re=g.Ba+g.c*P,fe=g.gc;e(g.ab==1),e(fe[0].hc==3),lu(fe[0],P,x,te,re,Q,ee),gn(L,P,x,Q,ee,V)}g.C=g.Ma=x}function vi(g,x,L,P,V,Q,ee){var te=g.$/P,re=g.$%P,fe=g.m,Ae=g.s,Ue=L+g.$,Pe=Ue;V=L+P*V;var Me=L+P*Q,et=280+Ae.ua,Ge=g.Pb?te:16777216,Ee=0<Ae.ua?Ae.Wa:null,Ie=Ae.wc,$e=Ue<Me?wn(Ae,re,te):null;e(g.C<Q),e(Me<=V);var nt=!1;e:for(;;){for(;nt||Ue<Me;){var Ke=0;if(te>=Ge){var dt=Ue-L;e((Ge=g).Pb),Ge.wd=Ge.m,Ge.xd=dt,0<Ge.s.ua&&ye(Ge.s.Wa,Ge.s.vb),Ge=te+Co}if(re&Ie||($e=wn(Ae,re,te)),e($e!=null),$e.Qb&&(x[Ue]=$e.qb,nt=!0),!nt)if(ve(fe),$e.jc){Ke=fe,dt=x;var ut=Ue,Et=$e.pd[G(Ke)&wi-1];e($e.jc),256>Et.g?(ie(Ke,Ke.u+Et.g),dt[ut]=Et.value,Ke=0):(ie(Ke,Ke.u+Et.g-256),e(256<=Et.value),Ke=Et.value),Ke==0&&(nt=!0)}else Ke=pi($e.G[0],$e.H[0],fe);if(fe.h)break;if(nt||256>Ke){if(!nt)if($e.nd)x[Ue]=($e.qb|Ke<<8)>>>0;else{if(ve(fe),nt=pi($e.G[1],$e.H[1],fe),ve(fe),dt=pi($e.G[2],$e.H[2],fe),ut=pi($e.G[3],$e.H[3],fe),fe.h)break;x[Ue]=(ut<<24|nt<<16|Ke<<8|dt)>>>0}if(nt=!1,++Ue,++re>=P&&(re=0,++te,ee!=null&&te<=Q&&!(te%16)&&ee(g,te),Ee!=null))for(;Pe<Ue;)Ke=x[Pe++],Ee.X[(506832829*Ke&4294967295)>>>Ee.Mb]=Ke}else if(280>Ke){if(Ke=Ki(Ke-256,fe),dt=pi($e.G[4],$e.H[4],fe),ve(fe),dt=hi(P,dt=Ki(dt,fe)),fe.h)break;if(Ue-L<dt||V-Ue<Ke)break e;for(ut=0;ut<Ke;++ut)x[Ue+ut]=x[Ue+ut-dt];for(Ue+=Ke,re+=Ke;re>=P;)re-=P,++te,ee!=null&&te<=Q&&!(te%16)&&ee(g,te);if(e(Ue<=V),re&Ie&&($e=wn(Ae,re,te)),Ee!=null)for(;Pe<Ue;)Ke=x[Pe++],Ee.X[(506832829*Ke&4294967295)>>>Ee.Mb]=Ke}else{if(!(Ke<et))break e;for(nt=Ke-280,e(Ee!=null);Pe<Ue;)Ke=x[Pe++],Ee.X[(506832829*Ke&4294967295)>>>Ee.Mb]=Ke;Ke=Ue,e(!(nt>>>(dt=Ee).Xa)),x[Ke]=dt.X[nt],nt=!0}nt||e(fe.h==K(fe))}if(g.Pb&&fe.h&&Ue<V)e(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&ye(g.s.vb,g.s.Wa);else{if(fe.h)break e;ee!=null&&ee(g,te>Q?Q:te),g.a=0,g.$=Ue-L}return 1}return g.a=3,0}function tr(g){e(g!=null),g.vc=null,g.yc=null,g.Ya=null;var x=g.Wa;x!=null&&(x.X=null),g.vb=null,e(g!=null)}function nr(){var g=new lc;return g==null?null:(g.a=0,g.xb=cc,di("Predictor","VP8LPredictors"),di("Predictor","VP8LPredictors_C"),di("PredictorAdd","VP8LPredictorsAdd"),di("PredictorAdd","VP8LPredictorsAdd_C"),au=gt,xo=vt,Zi=at,qi=Vt,Hs=_t,as=cn,Vs=Bt,Z.VP8LMapColor32b=za,Z.VP8LMapColor8b=zi,g)}function Mr(g,x,L,P,V){var Q=1,ee=[g],te=[x],re=P.m,fe=P.s,Ae=null,Ue=0;e:for(;;){if(L)for(;Q&&Ne(re,1);){var Pe=ee,Me=te,et=P,Ge=1,Ee=et.m,Ie=et.gc[et.ab],$e=Ne(Ee,2);if(et.Oc&1<<$e)Q=0;else{switch(et.Oc|=1<<$e,Ie.hc=$e,Ie.Ea=Pe[0],Ie.nc=Me[0],Ie.K=[null],++et.ab,e(4>=et.ab),$e){case 0:case 1:Ie.b=Ne(Ee,3)+2,Ge=Mr(se(Ie.Ea,Ie.b),se(Ie.nc,Ie.b),0,et,Ie.K),Ie.K=Ie.K[0];break;case 3:var nt,Ke=Ne(Ee,8)+1,dt=16<Ke?0:4<Ke?1:2<Ke?2:3;if(Pe[0]=se(Ie.Ea,dt),Ie.b=dt,nt=Ge=Mr(Ke,1,0,et,Ie.K)){var ut,Et=Ke,ct=Ie,un=1<<(8>>ct.b),Zt=a(un);if(Zt==null)nt=0;else{var nn=ct.K[0],Ot=ct.w;for(Zt[0]=ct.K[0][0],ut=1;ut<1*Et;++ut)Zt[ut]=he(nn[Ot+ut],Zt[ut-1]);for(;ut<4*un;++ut)Zt[ut]=0;ct.K[0]=null,ct.K[0]=Zt,nt=1}}Ge=nt;break;case 2:break;default:e(0)}Q=Ge}}if(ee=ee[0],te=te[0],Q&&Ne(re,1)&&!(Q=1<=(Ue=Ne(re,4))&&11>=Ue)){P.a=3;break e}var yn;if(yn=Q)t:{var fn,It,xn,Si=P,Yn=ee,ji=te,on=Ue,Pi=L,lr=Si.m,li=Si.s,Jn=[null],Ai=1,Ar=0,Xr=Yr[on];n:for(;;){if(Pi&&Ne(lr,1)){var ni=Ne(lr,3)+2,ei=se(Yn,ni),Ei=se(ji,ni),Er=ei*Ei;if(!Mr(ei,Ei,0,Si,Jn))break n;for(Jn=Jn[0],li.xc=ni,fn=0;fn<Er;++fn){var Cs=Jn[fn]>>8&65535;Jn[fn]=Cs,Cs>=Ai&&(Ai=Cs+1)}}if(lr.h)break n;for(It=0;5>It;++It){var qn=aa[It];!It&&0<on&&(qn+=1<<on),Ar<qn&&(Ar=qn)}var Ls=l(Ai*Xr,D),ur=Ai,Wn=l(ur,I);if(Wn==null)var ca=null;else e(65536>=ur),ca=Wn;var Tr=a(Ar);if(ca==null||Tr==null||Ls==null){Si.a=1;break n}var Ut=Ls;for(fn=xn=0;fn<Ai;++fn){var jt=ca[fn],kn=jt.G,Ks=jt.H,fa=0,Is=1,Hl=0;for(It=0;5>It;++It){qn=aa[It],kn[It]=Ut,Ks[It]=xn,!It&&0<on&&(qn+=1<<on);r:{var Do,Po=qn,bu=Si,Cn=Tr,dc=Ut,hc=xn,_u=0,Xs=bu.m,Dd=Ne(Xs,1);if(o(Cn,0,0,Po),Dd){var pc=Ne(Xs,1)+1,mc=Ne(Xs,1),wu=Ne(Xs,mc==0?1:8);Cn[wu]=1,pc==2&&(Cn[wu=Ne(Xs,8)]=1);var Ti=1}else{var Kn=a(19),Vl=Ne(Xs,4)+4;if(19<Vl){bu.a=3;var Uo=0;break r}for(Do=0;Do<Vl;++Do)Kn[zl[Do]]=Ne(Xs,3);var $a=void 0,da=void 0,Ms=bu,xu=Kn,Qa=Po,Su=Cn,Au=0,Zs=Ms.m,gc=8,vc=l(128,D);i:for(;B(vc,0,7,xu,19);){if(Ne(Zs,1)){var rf=2+2*Ne(Zs,3);if(($a=2+Ne(Zs,rf))>Qa)break i}else $a=Qa;for(da=0;da<Qa&&$a--;){ve(Zs);var yc=vc[0+(127&G(Zs))];ie(Zs,Zs.u+yc.g);var Oo=yc.value;if(16>Oo)Su[da++]=Oo,Oo!=0&&(gc=Oo);else{var sf=Oo==16,of=Oo-16,af=Wa[of],bc=Ne(Zs,Vr[of])+af;if(da+bc>Qa)break i;for(var lf=sf?gc:0;0<bc--;)Su[da++]=lf}}Au=1;break i}Au||(Ms.a=3),Ti=Au}(Ti=Ti&&!Xs.h)&&(_u=B(dc,hc,8,Cn,Po)),Ti&&_u!=0?Uo=_u:(bu.a=3,Uo=0)}if(Uo==0)break n;if(Is&&hu[It]==1&&(Is=Ut[xn].g==0),fa+=Ut[xn].g,xn+=Uo,3>=It){var ha,Eu=Tr[0];for(ha=1;ha<qn;++ha)Tr[ha]>Eu&&(Eu=Tr[ha]);Hl+=Eu}}if(jt.nd=Is,jt.Qb=0,Is&&(jt.qb=(kn[3][Ks[3]+0].value<<24|kn[1][Ks[1]+0].value<<16|kn[2][Ks[2]+0].value)>>>0,fa==0&&256>kn[0][Ks[0]+0].value&&(jt.Qb=1,jt.qb+=kn[0][Ks[0]+0].value<<8)),jt.jc=!jt.Qb&&6>Hl,jt.jc){var jl,Rs=jt;for(jl=0;jl<wi;++jl){var $s=jl,Qs=Rs.pd[$s],Tu=Rs.G[0][Rs.H[0]+$s];256<=Tu.value?(Qs.g=Tu.g+256,Qs.value=Tu.value):(Qs.g=0,Qs.value=0,$s>>=_n(Tu,8,Qs),$s>>=_n(Rs.G[1][Rs.H[1]+$s],16,Qs),$s>>=_n(Rs.G[2][Rs.H[2]+$s],0,Qs),_n(Rs.G[3][Rs.H[3]+$s],24,Qs))}}}li.vc=Jn,li.Wb=Ai,li.Ya=ca,li.yc=Ls,yn=1;break t}yn=0}if(!(Q=yn)){P.a=3;break e}if(0<Ue){if(fe.ua=1<<Ue,!F(fe.Wa,Ue)){P.a=1,Q=0;break e}}else fe.ua=0;var Nu=P,pa=ee,uf=te,el=Nu.s,tl=el.xc;if(Nu.c=pa,Nu.i=uf,el.md=se(pa,tl),el.wc=tl==0?-1:(1<<tl)-1,L){P.xb=Lo;break e}if((Ae=a(ee*te))==null){P.a=1,Q=0;break e}Q=(Q=vi(P,Ae,0,ee,te,te,null))&&!re.h;break e}return Q?(V!=null?V[0]=Ae:(e(Ae==null),e(L)),P.$=0,L||tr(fe)):tr(fe),Q}function ir(g,x){var L=g.c*g.i,P=L+x+16*x;return e(g.c<=x),g.V=a(P),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+L+x,1)}function Rr(g,x){var L=g.C,P=x-L,V=g.V,Q=g.Ba+g.c*L;for(e(x<=g.l.o);0<P;){var ee=16<P?16:P,te=g.l.ma,re=g.l.width,fe=re*ee,Ae=te.ca,Ue=te.tb+re*L,Pe=g.Ta,Me=g.Ua;mi(g,ee,V,Q),ln(Pe,Me,Ae,Ue,fe),gn(te,L,L+ee,Ae,Ue,re),P-=ee,V+=ee*g.c,L+=ee}e(L==x),g.C=g.Ma=x}function bs(){this.ub=this.yd=this.td=this.Rb=0}function vr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ti(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function is(){this.Yb=(function(){var g=[];return(function x(L,P,V){for(var Q=V[P],ee=0;ee<Q&&(L.push(V.length>P+1?[]:0),!(V.length<P+1));ee++)x(L[ee],P+1,V)})(g,0,[3,11]),g})()}function _s(){this.jb=a(3),this.Wc=c([4,8],is),this.Xc=c([4,17],is)}function Vn(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Bs(){this.ld=this.La=this.dd=this.tc=0}function Yo(){this.Na=this.la=0}function kr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Dr(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Al(){this.uc=this.M=this.Nb=0,this.wa=Array(new Bs),this.Y=0,this.ya=Array(new Dr),this.aa=0,this.l=new Pr}function Jo(){this.y=a(16),this.f=a(8),this.ea=a(8)}function La(){this.cb=this.a=0,this.sc="",this.m=new Y,this.Od=new bs,this.Kc=new vr,this.ed=new Vn,this.Qa=new ti,this.Ic=this.$c=this.Aa=0,this.D=new Al,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,Y),this.ia=0,this.pb=l(4,kr),this.Pa=new _s,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Jo),this.Hd=0,this.rb=Array(new Yo),this.sb=0,this.wa=Array(new Bs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Dr),this.L=this.aa=0,this.gd=c([4,2],Bs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Pr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ws(){var g=new La;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,Sr||(Sr=Wo)),g}function Nn(g,x,L){return g.a==0&&(g.a=x,g.sc=L,g.cb=0),0}function rr(g,x,L){return 3<=L&&g[x+0]==157&&g[x+1]==1&&g[x+2]==42}function yi(g,x){if(g==null)return 0;if(g.a=0,g.sc="OK",x==null)return Nn(g,2,"null VP8Io passed to VP8GetHeaders()");var L=x.data,P=x.w,V=x.ha;if(4>V)return Nn(g,7,"Truncated header.");var Q=L[P+0]|L[P+1]<<8|L[P+2]<<16,ee=g.Od;if(ee.Rb=!(1&Q),ee.td=Q>>1&7,ee.yd=Q>>4&1,ee.ub=Q>>5,3<ee.td)return Nn(g,3,"Incorrect keyframe parameters.");if(!ee.yd)return Nn(g,4,"Frame not displayable.");P+=3,V-=3;var te=g.Kc;if(ee.Rb){if(7>V)return Nn(g,7,"cannot parse picture header");if(!rr(L,P,V))return Nn(g,3,"Bad code word");te.c=16383&(L[P+4]<<8|L[P+3]),te.Td=L[P+4]>>6,te.i=16383&(L[P+6]<<8|L[P+5]),te.Ud=L[P+6]>>6,P+=7,V-=7,g.za=te.c+15>>4,g.Ub=te.i+15>>4,x.width=te.c,x.height=te.i,x.Da=0,x.j=0,x.v=0,x.va=x.width,x.o=x.height,x.da=0,x.ib=x.width,x.hb=x.height,x.U=x.width,x.T=x.height,o((Q=g.Pa).jb,0,255,Q.jb.length),e((Q=g.Qa)!=null),Q.Cb=0,Q.Bb=0,Q.Fb=1,o(Q.Zb,0,0,Q.Zb.length),o(Q.Lb,0,0,Q.Lb)}if(ee.ub>V)return Nn(g,7,"bad partition length");ce(Q=g.m,L,P,ee.ub),P+=ee.ub,V-=ee.ub,ee.Rb&&(te.Ld=we(Q),te.Kd=we(Q)),te=g.Qa;var re,fe=g.Pa;if(e(Q!=null),e(te!=null),te.Cb=we(Q),te.Cb){if(te.Bb=we(Q),we(Q)){for(te.Fb=we(Q),re=0;4>re;++re)te.Zb[re]=we(Q)?le(Q,7):0;for(re=0;4>re;++re)te.Lb[re]=we(Q)?le(Q,6):0}if(te.Bb)for(re=0;3>re;++re)fe.jb[re]=we(Q)?oe(Q,8):255}else te.Bb=0;if(Q.Ka)return Nn(g,3,"cannot parse segment header");if((te=g.ed).zd=we(Q),te.Tb=oe(Q,6),te.wb=oe(Q,3),te.Pc=we(Q),te.Pc&&we(Q)){for(fe=0;4>fe;++fe)we(Q)&&(te.vd[fe]=le(Q,6));for(fe=0;4>fe;++fe)we(Q)&&(te.od[fe]=le(Q,6))}if(g.L=te.Tb==0?0:te.zd?1:2,Q.Ka)return Nn(g,3,"cannot parse filter header");var Ae=V;if(V=re=P,P=re+Ae,te=Ae,g.Xb=(1<<oe(g.m,2))-1,Ae<3*(fe=g.Xb))L=7;else{for(re+=3*fe,te-=3*fe,Ae=0;Ae<fe;++Ae){var Ue=L[V+0]|L[V+1]<<8|L[V+2]<<16;Ue>te&&(Ue=te),ce(g.Jc[+Ae],L,re,Ue),re+=Ue,te-=Ue,V+=3}ce(g.Jc[+fe],L,re,te),L=re<P?0:5}if(L!=0)return Nn(g,L,"cannot parse partitions");for(L=oe(re=g.m,7),V=we(re)?le(re,4):0,P=we(re)?le(re,4):0,te=we(re)?le(re,4):0,fe=we(re)?le(re,4):0,re=we(re)?le(re,4):0,Ae=g.Qa,Ue=0;4>Ue;++Ue){if(Ae.Cb){var Pe=Ae.Zb[Ue];Ae.Fb||(Pe+=L)}else{if(0<Ue){g.pb[Ue]=g.pb[0];continue}Pe=L}var Me=g.pb[Ue];Me.Sc[0]=Jr[_r(Pe+V,127)],Me.Sc[1]=Wr[_r(Pe+0,127)],Me.Eb[0]=2*Jr[_r(Pe+P,127)],Me.Eb[1]=101581*Wr[_r(Pe+te,127)]>>16,8>Me.Eb[1]&&(Me.Eb[1]=8),Me.Qc[0]=Jr[_r(Pe+fe,117)],Me.Qc[1]=Wr[_r(Pe+re,127)],Me.lc=Pe+re}if(!ee.Rb)return Nn(g,4,"Not a key frame.");for(we(Q),ee=g.Pa,L=0;4>L;++L){for(V=0;8>V;++V)for(P=0;3>P;++P)for(te=0;11>te;++te)fe=Se(Q,Rn[L][V][P][te])?oe(Q,8):tf[L][V][P][te],ee.Wc[L][V].Yb[P][te]=fe;for(V=0;17>V;++V)ee.Xc[L][V]=ee.Wc[L][Xt[V]]}return g.kc=we(Q),g.kc&&(g.Bd=oe(Q,8)),g.cb=1}function Wo(g,x,L,P,V,Q,ee){var te=x[V].Yb[L];for(L=0;16>V;++V){if(!Se(g,te[L+0]))return V;for(;!Se(g,te[L+1]);)if(te=x[++V].Yb[0],L=0,V==16)return 16;var re=x[V+1].Yb;if(Se(g,te[L+2])){var fe=g,Ae=0;if(Se(fe,(Pe=te)[(Ue=L)+3]))if(Se(fe,Pe[Ue+6])){for(te=0,Ue=2*(Ae=Se(fe,Pe[Ue+8]))+(Pe=Se(fe,Pe[Ue+9+Ae])),Ae=0,Pe=ef[Ue];Pe[te];++te)Ae+=Ae+Se(fe,Pe[te]);Ae+=3+(8<<Ue)}else Se(fe,Pe[Ue+7])?(Ae=7+2*Se(fe,165),Ae+=Se(fe,145)):Ae=5+Se(fe,159);else Ae=Se(fe,Pe[Ue+4])?3+Se(fe,Pe[Ue+5]):2;te=re[2]}else Ae=1,te=re[1];re=ee+uc[V],0>(fe=g).b&&Te(fe);var Ue,Pe=fe.b,Me=(Ue=fe.Ca>>1)-(fe.I>>Pe)>>31;--fe.b,fe.Ca+=Me,fe.Ca|=1,fe.I-=(Ue+1&Me)<<Pe,Q[re]=((Ae^Me)-Me)*P[(0<V)+0]}return 16}function Ko(g){var x=g.rb[g.sb-1];x.la=0,x.Na=0,o(g.zc,0,0,g.zc.length),g.ja=0}function Xo(g,x){if(g==null)return 0;if(x==null)return Nn(g,2,"NULL VP8Io parameter in VP8Decode().");if(!g.cb&&!yi(g,x))return 0;if(e(g.cb),x.ac==null||x.ac(x)){x.ob&&(g.L=0);var L=Za[g.L];if(g.L==2?(g.yb=0,g.zb=0):(g.yb=x.v-L>>4,g.zb=x.j-L>>4,0>g.yb&&(g.yb=0),0>g.zb&&(g.zb=0)),g.Va=x.o+15+L>>4,g.Hb=x.va+15+L>>4,g.Hb>g.za&&(g.Hb=g.za),g.Va>g.Ub&&(g.Va=g.Ub),0<g.L){var P=g.ed;for(L=0;4>L;++L){var V;if(g.Qa.Cb){var Q=g.Qa.Lb[L];g.Qa.Fb||(Q+=P.Tb)}else Q=P.Tb;for(V=0;1>=V;++V){var ee=g.gd[L][V],te=Q;if(P.Pc&&(te+=P.vd[0],V&&(te+=P.od[0])),0<(te=0>te?0:63<te?63:te)){var re=te;0<P.wb&&(re=4<P.wb?re>>2:re>>1)>9-P.wb&&(re=9-P.wb),1>re&&(re=1),ee.dd=re,ee.tc=2*te+re,ee.ld=40<=te?2:15<=te?1:0}else ee.tc=0;ee.La=V}}}L=0}else Nn(g,6,"Frame setup failed"),L=g.a;if(L=L==0){if(L){g.$c=0,0<g.Aa||(g.Ic=Gl);e:{L=g.Ic,P=4*(re=g.za);var fe=32*re,Ae=re+1,Ue=0<g.L?re*(0<g.Aa?2:1):0,Pe=(g.Aa==2?2:1)*re;if((ee=P+832+(V=3*(16*L+Za[g.L])/2*fe)+(Q=g.Fa!=null&&0<g.Fa.length?g.Kc.c*g.Kc.i:0))!=ee)L=0;else{if(ee>g.Vb){if(g.Vb=0,g.Ec=a(ee),g.Fc=0,g.Ec==null){L=Nn(g,1,"no memory during frame initialization.");break e}g.Vb=ee}ee=g.Ec,te=g.Fc,g.Ac=ee,g.Bc=te,te+=P,g.Gd=l(fe,Jo),g.Hd=0,g.rb=l(Ae+1,Yo),g.sb=1,g.wa=Ue?l(Ue,Bs):null,g.Y=0,g.D.Nb=0,g.D.wa=g.wa,g.D.Y=g.Y,0<g.Aa&&(g.D.Y+=re),e(!0),g.oc=ee,g.pc=te,te+=832,g.ya=l(Pe,Dr),g.aa=0,g.D.ya=g.ya,g.D.aa=g.aa,g.Aa==2&&(g.D.aa+=re),g.R=16*re,g.B=8*re,re=(fe=Za[g.L])*g.R,fe=fe/2*g.B,g.sa=ee,g.ta=te+re,g.qa=g.sa,g.ra=g.ta+16*L*g.R+fe,g.Ha=g.qa,g.Ia=g.ra+8*L*g.B+fe,g.$c=0,te+=V,g.mb=Q?ee:null,g.nb=Q?te:null,e(te+Q<=g.Fc+g.Vb),Ko(g),o(g.Ac,g.Bc,0,P),L=1}}if(L){if(x.ka=0,x.y=g.sa,x.O=g.ta,x.f=g.qa,x.N=g.ra,x.ea=g.Ha,x.Vd=g.Ia,x.fa=g.R,x.Rc=g.B,x.F=null,x.J=0,!ja){for(L=-255;255>=L;++L)On[255+L]=0>L?-L:L;for(L=-1020;1020>=L;++L)fs[1020+L]=-128>L?-128:127<L?127:L;for(L=-112;112>=L;++L)To[112+L]=-16>L?-16:15<L?15:L;for(L=-255;510>=L;++L)Ys[255+L]=0>L?0:255<L?255:L;ja=1}ls=Ma,us=Ia,sa=fo,Gi=xs,xi=Zo,Mn=co,cs=Cl,qa=ta,Ga=ac,wr=Il,So=Ll,js=Pa,Ao=Ml,Ha=iu,oa=ka,Eo=zr,Va=br,xr=Da,jn[0]=Fr,jn[1]=El,jn[2]=Bn,jn[3]=yr,jn[4]=Tl,jn[5]=or,jn[6]=ho,jn[7]=$o,jn[8]=As,jn[9]=Qo,$i[0]=an,$i[1]=Ze,$i[2]=Xe,$i[3]=At,$i[4]=Kt,$i[5]=Or,$i[6]=Ss,ds[0]=ss,ds[1]=de,ds[2]=Nl,ds[3]=po,ds[4]=go,ds[5]=Ra,ds[6]=_i,L=1}else L=0}L&&(L=(function(Me,et){for(Me.M=0;Me.M<Me.Va;++Me.M){var Ge,Ee=Me.Jc[Me.M&Me.Xb],Ie=Me.m,$e=Me;for(Ge=0;Ge<$e.za;++Ge){var nt=Ie,Ke=$e,dt=Ke.Ac,ut=Ke.Bc+4*Ge,Et=Ke.zc,ct=Ke.ya[Ke.aa+Ge];if(Ke.Qa.Bb?ct.$b=Se(nt,Ke.Pa.jb[0])?2+Se(nt,Ke.Pa.jb[2]):Se(nt,Ke.Pa.jb[1]):ct.$b=0,Ke.kc&&(ct.Ad=Se(nt,Ke.Bd)),ct.Za=!Se(nt,145)+0,ct.Za){var un=ct.Ob,Zt=0;for(Ke=0;4>Ke;++Ke){var nn,Ot=Et[0+Ke];for(nn=0;4>nn;++nn){Ot=Ri[dt[ut+nn]][Ot];for(var yn=pu[Se(nt,Ot[0])];0<yn;)yn=pu[2*yn+Se(nt,Ot[yn])];Ot=-yn,dt[ut+nn]=Ot}r(un,Zt,dt,ut,4),Zt+=4,Et[0+Ke]=Ot}}else Ot=Se(nt,156)?Se(nt,128)?1:3:Se(nt,163)?2:0,ct.Ob[0]=Ot,o(dt,ut,Ot,4),o(Et,0,Ot,4);ct.Dd=Se(nt,142)?Se(nt,114)?Se(nt,183)?1:3:2:0}if($e.m.Ka)return Nn(Me,7,"Premature end-of-partition0 encountered.");for(;Me.ja<Me.za;++Me.ja){if($e=Ee,nt=(Ie=Me).rb[Ie.sb-1],dt=Ie.rb[Ie.sb+Ie.ja],Ge=Ie.ya[Ie.aa+Ie.ja],ut=Ie.kc?Ge.Ad:0)nt.la=dt.la=0,Ge.Za||(nt.Na=dt.Na=0),Ge.Hc=0,Ge.Gc=0,Ge.ia=0;else{var fn,It;if(nt=dt,dt=$e,ut=Ie.Pa.Xc,Et=Ie.ya[Ie.aa+Ie.ja],ct=Ie.pb[Et.$b],Ke=Et.ad,un=0,Zt=Ie.rb[Ie.sb-1],Ot=nn=0,o(Ke,un,0,384),Et.Za)var xn=0,Si=ut[3];else{yn=a(16);var Yn=nt.Na+Zt.Na;if(Yn=Sr(dt,ut[1],Yn,ct.Eb,0,yn,0),nt.Na=Zt.Na=(0<Yn)+0,1<Yn)ls(yn,0,Ke,un);else{var ji=yn[0]+3>>3;for(yn=0;256>yn;yn+=16)Ke[un+yn]=ji}xn=1,Si=ut[0]}var on=15&nt.la,Pi=15&Zt.la;for(yn=0;4>yn;++yn){var lr=1&Pi;for(ji=It=0;4>ji;++ji)on=on>>1|(lr=(Yn=Sr(dt,Si,Yn=lr+(1&on),ct.Sc,xn,Ke,un))>xn)<<7,It=It<<2|(3<Yn?3:1<Yn?2:Ke[un+0]!=0),un+=16;on>>=4,Pi=Pi>>1|lr<<7,nn=(nn<<8|It)>>>0}for(Si=on,xn=Pi>>4,fn=0;4>fn;fn+=2){for(It=0,on=nt.la>>4+fn,Pi=Zt.la>>4+fn,yn=0;2>yn;++yn){for(lr=1&Pi,ji=0;2>ji;++ji)Yn=lr+(1&on),on=on>>1|(lr=0<(Yn=Sr(dt,ut[2],Yn,ct.Qc,0,Ke,un)))<<3,It=It<<2|(3<Yn?3:1<Yn?2:Ke[un+0]!=0),un+=16;on>>=2,Pi=Pi>>1|lr<<5}Ot|=It<<4*fn,Si|=on<<4<<fn,xn|=(240&Pi)<<fn}nt.la=Si,Zt.la=xn,Et.Hc=nn,Et.Gc=Ot,Et.ia=43690&Ot?0:ct.ia,ut=!(nn|Ot)}if(0<Ie.L&&(Ie.wa[Ie.Y+Ie.ja]=Ie.gd[Ge.$b][Ge.Za],Ie.wa[Ie.Y+Ie.ja].La|=!ut),$e.Ka)return Nn(Me,7,"Premature end-of-file encountered.")}if(Ko(Me),Ie=et,$e=1,Ge=(Ee=Me).D,nt=0<Ee.L&&Ee.M>=Ee.zb&&Ee.M<=Ee.Va,Ee.Aa==0)e:{if(Ge.M=Ee.M,Ge.uc=nt,Fa(Ee,Ge),$e=1,Ge=(It=Ee.D).Nb,nt=(Ot=Za[Ee.L])*Ee.R,dt=Ot/2*Ee.B,yn=16*Ge*Ee.R,ji=8*Ge*Ee.B,ut=Ee.sa,Et=Ee.ta-nt+yn,ct=Ee.qa,Ke=Ee.ra-dt+ji,un=Ee.Ha,Zt=Ee.Ia-dt+ji,Pi=(on=It.M)==0,nn=on>=Ee.Va-1,Ee.Aa==2&&Fa(Ee,It),It.uc)for(lr=(Yn=Ee).D.M,e(Yn.D.uc),It=Yn.yb;It<Yn.Hb;++It){xn=It,Si=lr;var li=(Jn=(qn=Yn).D).Nb;fn=qn.R;var Jn=Jn.wa[Jn.Y+xn],Ai=qn.sa,Ar=qn.ta+16*li*fn+16*xn,Xr=Jn.dd,ni=Jn.tc;if(ni!=0)if(e(3<=ni),qn.L==1)0<xn&&Eo(Ai,Ar,fn,ni+4),Jn.La&&xr(Ai,Ar,fn,ni),0<Si&&oa(Ai,Ar,fn,ni+4),Jn.La&&Va(Ai,Ar,fn,ni);else{var ei=qn.B,Ei=qn.qa,Er=qn.ra+8*li*ei+8*xn,Cs=qn.Ha,qn=qn.Ia+8*li*ei+8*xn;li=Jn.ld,0<xn&&(qa(Ai,Ar,fn,ni+4,Xr,li),wr(Ei,Er,Cs,qn,ei,ni+4,Xr,li)),Jn.La&&(js(Ai,Ar,fn,ni,Xr,li),Ha(Ei,Er,Cs,qn,ei,ni,Xr,li)),0<Si&&(cs(Ai,Ar,fn,ni+4,Xr,li),Ga(Ei,Er,Cs,qn,ei,ni+4,Xr,li)),Jn.La&&(So(Ai,Ar,fn,ni,Xr,li),Ao(Ei,Er,Cs,qn,ei,ni,Xr,li))}}if(Ee.ia&&alert("todo:DitherRow"),Ie.put!=null){if(It=16*on,on=16*(on+1),Pi?(Ie.y=Ee.sa,Ie.O=Ee.ta+yn,Ie.f=Ee.qa,Ie.N=Ee.ra+ji,Ie.ea=Ee.Ha,Ie.W=Ee.Ia+ji):(It-=Ot,Ie.y=ut,Ie.O=Et,Ie.f=ct,Ie.N=Ke,Ie.ea=un,Ie.W=Zt),nn||(on-=Ot),on>Ie.o&&(on=Ie.o),Ie.F=null,Ie.J=null,Ee.Fa!=null&&0<Ee.Fa.length&&It<on&&(Ie.J=Ua(Ee,Ie,It,on-It),Ie.F=Ee.mb,Ie.F==null&&Ie.F.length==0)){$e=Nn(Ee,3,"Could not decode alpha data.");break e}It<Ie.j&&(Ot=Ie.j-It,It=Ie.j,e(!(1&Ot)),Ie.O+=Ee.R*Ot,Ie.N+=Ee.B*(Ot>>1),Ie.W+=Ee.B*(Ot>>1),Ie.F!=null&&(Ie.J+=Ie.width*Ot)),It<on&&(Ie.O+=Ie.v,Ie.N+=Ie.v>>1,Ie.W+=Ie.v>>1,Ie.F!=null&&(Ie.J+=Ie.v),Ie.ka=It-Ie.j,Ie.U=Ie.va-Ie.v,Ie.T=on-It,$e=Ie.put(Ie))}Ge+1!=Ee.Ic||nn||(r(Ee.sa,Ee.ta-nt,ut,Et+16*Ee.R,nt),r(Ee.qa,Ee.ra-dt,ct,Ke+8*Ee.B,dt),r(Ee.Ha,Ee.Ia-dt,un,Zt+8*Ee.B,dt))}if(!$e)return Nn(Me,6,"Output aborted.")}return 1})(g,x)),x.bc!=null&&x.bc(x),L&=1}return L?(g.cb=0,L):0}function sr(g,x,L,P,V){V=g[x+L+32*P]+(V>>3),g[x+L+32*P]=-256&V?0>V?0:255:V}function rs(g,x,L,P,V,Q){sr(g,x,0,L,P+V),sr(g,x,1,L,P+Q),sr(g,x,2,L,P-Q),sr(g,x,3,L,P-V)}function Fi(g){return(20091*g>>16)+g}function bi(g,x,L,P){var V,Q=0,ee=a(16);for(V=0;4>V;++V){var te=g[x+0]+g[x+8],re=g[x+0]-g[x+8],fe=(35468*g[x+4]>>16)-Fi(g[x+12]),Ae=Fi(g[x+4])+(35468*g[x+12]>>16);ee[Q+0]=te+Ae,ee[Q+1]=re+fe,ee[Q+2]=re-fe,ee[Q+3]=te-Ae,Q+=4,x++}for(V=Q=0;4>V;++V)te=(g=ee[Q+0]+4)+ee[Q+8],re=g-ee[Q+8],fe=(35468*ee[Q+4]>>16)-Fi(ee[Q+12]),sr(L,P,0,0,te+(Ae=Fi(ee[Q+4])+(35468*ee[Q+12]>>16))),sr(L,P,1,0,re+fe),sr(L,P,2,0,re-fe),sr(L,P,3,0,te-Ae),Q++,P+=32}function co(g,x,L,P){var V=g[x+0]+4,Q=35468*g[x+4]>>16,ee=Fi(g[x+4]),te=35468*g[x+1]>>16;rs(L,P,0,V+ee,g=Fi(g[x+1]),te),rs(L,P,1,V+Q,g,te),rs(L,P,2,V-Q,g,te),rs(L,P,3,V-ee,g,te)}function Ia(g,x,L,P,V){bi(g,x,L,P),V&&bi(g,x+16,L,P+4)}function fo(g,x,L,P){us(g,x+0,L,P,1),us(g,x+32,L,P+128,1)}function xs(g,x,L,P){var V;for(g=g[x+0]+4,V=0;4>V;++V)for(x=0;4>x;++x)sr(L,P,x,V,g)}function Zo(g,x,L,P){g[x+0]&&Gi(g,x+0,L,P),g[x+16]&&Gi(g,x+16,L,P+4),g[x+32]&&Gi(g,x+32,L,P+128),g[x+48]&&Gi(g,x+48,L,P+128+4)}function Ma(g,x,L,P){var V,Q=a(16);for(V=0;4>V;++V){var ee=g[x+0+V]+g[x+12+V],te=g[x+4+V]+g[x+8+V],re=g[x+4+V]-g[x+8+V],fe=g[x+0+V]-g[x+12+V];Q[0+V]=ee+te,Q[8+V]=ee-te,Q[4+V]=fe+re,Q[12+V]=fe-re}for(V=0;4>V;++V)ee=(g=Q[0+4*V]+3)+Q[3+4*V],te=Q[1+4*V]+Q[2+4*V],re=Q[1+4*V]-Q[2+4*V],fe=g-Q[3+4*V],L[P+0]=ee+te>>3,L[P+16]=fe+re>>3,L[P+32]=ee-te>>3,L[P+48]=fe-re>>3,P+=64}function Ur(g,x,L){var P,V=x-32,Q=Hi,ee=255-g[V-1];for(P=0;P<L;++P){var te,re=Q,fe=ee+g[x-1];for(te=0;te<L;++te)g[x+te]=re[fe+g[V+te]];x+=32}}function El(g,x){Ur(g,x,4)}function de(g,x){Ur(g,x,8)}function Ze(g,x){Ur(g,x,16)}function Xe(g,x){var L;for(L=0;16>L;++L)r(g,x+32*L,g,x-32,16)}function At(g,x){var L;for(L=16;0<L;--L)o(g,x,g[x-1],16),x+=32}function Gt(g,x,L){var P;for(P=0;16>P;++P)o(x,L+32*P,g,16)}function an(g,x){var L,P=16;for(L=0;16>L;++L)P+=g[x-1+32*L]+g[x+L-32];Gt(P>>5,g,x)}function Kt(g,x){var L,P=8;for(L=0;16>L;++L)P+=g[x-1+32*L];Gt(P>>4,g,x)}function Or(g,x){var L,P=8;for(L=0;16>L;++L)P+=g[x+L-32];Gt(P>>4,g,x)}function Ss(g,x){Gt(128,g,x)}function mt(g,x,L){return g+2*x+L+2>>2}function Bn(g,x){var L,P=x-32;for(P=new Uint8Array([mt(g[P-1],g[P+0],g[P+1]),mt(g[P+0],g[P+1],g[P+2]),mt(g[P+1],g[P+2],g[P+3]),mt(g[P+2],g[P+3],g[P+4])]),L=0;4>L;++L)r(g,x+32*L,P,0,P.length)}function yr(g,x){var L=g[x-1],P=g[x-1+32],V=g[x-1+64],Q=g[x-1+96];We(g,x+0,16843009*mt(g[x-1-32],L,P)),We(g,x+32,16843009*mt(L,P,V)),We(g,x+64,16843009*mt(P,V,Q)),We(g,x+96,16843009*mt(V,Q,Q))}function Fr(g,x){var L,P=4;for(L=0;4>L;++L)P+=g[x+L-32]+g[x-1+32*L];for(P>>=3,L=0;4>L;++L)o(g,x+32*L,P,4)}function Tl(g,x){var L=g[x-1+0],P=g[x-1+32],V=g[x-1+64],Q=g[x-1-32],ee=g[x+0-32],te=g[x+1-32],re=g[x+2-32],fe=g[x+3-32];g[x+0+96]=mt(P,V,g[x-1+96]),g[x+1+96]=g[x+0+64]=mt(L,P,V),g[x+2+96]=g[x+1+64]=g[x+0+32]=mt(Q,L,P),g[x+3+96]=g[x+2+64]=g[x+1+32]=g[x+0+0]=mt(ee,Q,L),g[x+3+64]=g[x+2+32]=g[x+1+0]=mt(te,ee,Q),g[x+3+32]=g[x+2+0]=mt(re,te,ee),g[x+3+0]=mt(fe,re,te)}function ho(g,x){var L=g[x+1-32],P=g[x+2-32],V=g[x+3-32],Q=g[x+4-32],ee=g[x+5-32],te=g[x+6-32],re=g[x+7-32];g[x+0+0]=mt(g[x+0-32],L,P),g[x+1+0]=g[x+0+32]=mt(L,P,V),g[x+2+0]=g[x+1+32]=g[x+0+64]=mt(P,V,Q),g[x+3+0]=g[x+2+32]=g[x+1+64]=g[x+0+96]=mt(V,Q,ee),g[x+3+32]=g[x+2+64]=g[x+1+96]=mt(Q,ee,te),g[x+3+64]=g[x+2+96]=mt(ee,te,re),g[x+3+96]=mt(te,re,re)}function or(g,x){var L=g[x-1+0],P=g[x-1+32],V=g[x-1+64],Q=g[x-1-32],ee=g[x+0-32],te=g[x+1-32],re=g[x+2-32],fe=g[x+3-32];g[x+0+0]=g[x+1+64]=Q+ee+1>>1,g[x+1+0]=g[x+2+64]=ee+te+1>>1,g[x+2+0]=g[x+3+64]=te+re+1>>1,g[x+3+0]=re+fe+1>>1,g[x+0+96]=mt(V,P,L),g[x+0+64]=mt(P,L,Q),g[x+0+32]=g[x+1+96]=mt(L,Q,ee),g[x+1+32]=g[x+2+96]=mt(Q,ee,te),g[x+2+32]=g[x+3+96]=mt(ee,te,re),g[x+3+32]=mt(te,re,fe)}function $o(g,x){var L=g[x+0-32],P=g[x+1-32],V=g[x+2-32],Q=g[x+3-32],ee=g[x+4-32],te=g[x+5-32],re=g[x+6-32],fe=g[x+7-32];g[x+0+0]=L+P+1>>1,g[x+1+0]=g[x+0+64]=P+V+1>>1,g[x+2+0]=g[x+1+64]=V+Q+1>>1,g[x+3+0]=g[x+2+64]=Q+ee+1>>1,g[x+0+32]=mt(L,P,V),g[x+1+32]=g[x+0+96]=mt(P,V,Q),g[x+2+32]=g[x+1+96]=mt(V,Q,ee),g[x+3+32]=g[x+2+96]=mt(Q,ee,te),g[x+3+64]=mt(ee,te,re),g[x+3+96]=mt(te,re,fe)}function Qo(g,x){var L=g[x-1+0],P=g[x-1+32],V=g[x-1+64],Q=g[x-1+96];g[x+0+0]=L+P+1>>1,g[x+2+0]=g[x+0+32]=P+V+1>>1,g[x+2+32]=g[x+0+64]=V+Q+1>>1,g[x+1+0]=mt(L,P,V),g[x+3+0]=g[x+1+32]=mt(P,V,Q),g[x+3+32]=g[x+1+64]=mt(V,Q,Q),g[x+3+64]=g[x+2+64]=g[x+0+96]=g[x+1+96]=g[x+2+96]=g[x+3+96]=Q}function As(g,x){var L=g[x-1+0],P=g[x-1+32],V=g[x-1+64],Q=g[x-1+96],ee=g[x-1-32],te=g[x+0-32],re=g[x+1-32],fe=g[x+2-32];g[x+0+0]=g[x+2+32]=L+ee+1>>1,g[x+0+32]=g[x+2+64]=P+L+1>>1,g[x+0+64]=g[x+2+96]=V+P+1>>1,g[x+0+96]=Q+V+1>>1,g[x+3+0]=mt(te,re,fe),g[x+2+0]=mt(ee,te,re),g[x+1+0]=g[x+3+32]=mt(L,ee,te),g[x+1+32]=g[x+3+64]=mt(P,L,ee),g[x+1+64]=g[x+3+96]=mt(V,P,L),g[x+1+96]=mt(Q,V,P)}function Nl(g,x){var L;for(L=0;8>L;++L)r(g,x+32*L,g,x-32,8)}function po(g,x){var L;for(L=0;8>L;++L)o(g,x,g[x-1],8),x+=32}function mo(g,x,L){var P;for(P=0;8>P;++P)o(x,L+32*P,g,8)}function ss(g,x){var L,P=8;for(L=0;8>L;++L)P+=g[x+L-32]+g[x-1+32*L];mo(P>>4,g,x)}function Ra(g,x){var L,P=4;for(L=0;8>L;++L)P+=g[x+L-32];mo(P>>3,g,x)}function go(g,x){var L,P=4;for(L=0;8>L;++L)P+=g[x-1+32*L];mo(P>>3,g,x)}function _i(g,x){mo(128,g,x)}function Br(g,x,L){var P=g[x-L],V=g[x+0],Q=3*(V-P)+Js[1020+g[x-2*L]-g[x+L]],ee=Ol[112+(Q+4>>3)];g[x-L]=Hi[255+P+Ol[112+(Q+3>>3)]],g[x+0]=Hi[255+V-ee]}function ea(g,x,L,P){var V=g[x+0],Q=g[x+L];return Mi[255+g[x-2*L]-g[x-L]]>P||Mi[255+Q-V]>P}function vo(g,x,L,P){return 4*Mi[255+g[x-L]-g[x+0]]+Mi[255+g[x-2*L]-g[x+L]]<=P}function nu(g,x,L,P,V){var Q=g[x-3*L],ee=g[x-2*L],te=g[x-L],re=g[x+0],fe=g[x+L],Ae=g[x+2*L],Ue=g[x+3*L];return 4*Mi[255+te-re]+Mi[255+ee-fe]>P?0:Mi[255+g[x-4*L]-Q]<=V&&Mi[255+Q-ee]<=V&&Mi[255+ee-te]<=V&&Mi[255+Ue-Ae]<=V&&Mi[255+Ae-fe]<=V&&Mi[255+fe-re]<=V}function ka(g,x,L,P){var V=2*P+1;for(P=0;16>P;++P)vo(g,x+P,L,V)&&Br(g,x+P,L)}function zr(g,x,L,P){var V=2*P+1;for(P=0;16>P;++P)vo(g,x+P*L,1,V)&&Br(g,x+P*L,1)}function br(g,x,L,P){var V;for(V=3;0<V;--V)ka(g,x+=4*L,L,P)}function Da(g,x,L,P){var V;for(V=3;0<V;--V)zr(g,x+=4,L,P)}function zs(g,x,L,P,V,Q,ee,te){for(Q=2*Q+1;0<V--;){if(nu(g,x,L,Q,ee))if(ea(g,x,L,te))Br(g,x,L);else{var re=g,fe=x,Ae=L,Ue=re[fe-2*Ae],Pe=re[fe-Ae],Me=re[fe+0],et=re[fe+Ae],Ge=re[fe+2*Ae],Ee=27*($e=Js[1020+3*(Me-Pe)+Js[1020+Ue-et]])+63>>7,Ie=18*$e+63>>7,$e=9*$e+63>>7;re[fe-3*Ae]=Hi[255+re[fe-3*Ae]+$e],re[fe-2*Ae]=Hi[255+Ue+Ie],re[fe-Ae]=Hi[255+Pe+Ee],re[fe+0]=Hi[255+Me-Ee],re[fe+Ae]=Hi[255+et-Ie],re[fe+2*Ae]=Hi[255+Ge-$e]}x+=P}}function os(g,x,L,P,V,Q,ee,te){for(Q=2*Q+1;0<V--;){if(nu(g,x,L,Q,ee))if(ea(g,x,L,te))Br(g,x,L);else{var re=g,fe=x,Ae=L,Ue=re[fe-Ae],Pe=re[fe+0],Me=re[fe+Ae],et=Ol[112+((Ge=3*(Pe-Ue))+4>>3)],Ge=Ol[112+(Ge+3>>3)],Ee=et+1>>1;re[fe-2*Ae]=Hi[255+re[fe-2*Ae]+Ee],re[fe-Ae]=Hi[255+Ue+Ge],re[fe+0]=Hi[255+Pe-et],re[fe+Ae]=Hi[255+Me-Ee]}x+=P}}function Cl(g,x,L,P,V,Q){zs(g,x,L,1,16,P,V,Q)}function ta(g,x,L,P,V,Q){zs(g,x,1,L,16,P,V,Q)}function Ll(g,x,L,P,V,Q){var ee;for(ee=3;0<ee;--ee)os(g,x+=4*L,L,1,16,P,V,Q)}function Pa(g,x,L,P,V,Q){var ee;for(ee=3;0<ee;--ee)os(g,x+=4,1,L,16,P,V,Q)}function ac(g,x,L,P,V,Q,ee,te){zs(g,x,V,1,8,Q,ee,te),zs(L,P,V,1,8,Q,ee,te)}function Il(g,x,L,P,V,Q,ee,te){zs(g,x,1,V,8,Q,ee,te),zs(L,P,1,V,8,Q,ee,te)}function Ml(g,x,L,P,V,Q,ee,te){os(g,x+4*V,V,1,8,Q,ee,te),os(L,P+4*V,V,1,8,Q,ee,te)}function iu(g,x,L,P,V,Q,ee,te){os(g,x+4,1,V,8,Q,ee,te),os(L,P+4,1,V,8,Q,ee,te)}function na(){this.ba=new si,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Jt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Rl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function kl(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ru(){this.ua=0,this.Wa=new $,this.vb=new $,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new I,this.yc=new D}function lc(){this.xb=this.a=0,this.l=new Pr,this.ca=new si,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new R,this.Pb=0,this.wd=new R,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ru,this.ab=0,this.gc=l(4,kl),this.Oc=0}function yo(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Pr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ia(g,x,L,P,V,Q,ee){for(g=g==null?0:g[x+0],x=0;x<ee;++x)V[Q+x]=g+L[P+x]&255,g=V[Q+x]}function Dl(g,x,L,P,V,Q,ee){var te;if(g==null)ia(null,null,L,P,V,Q,ee);else for(te=0;te<ee;++te)V[Q+te]=g[x+te]+L[P+te]&255}function bo(g,x,L,P,V,Q,ee){if(g==null)ia(null,null,L,P,V,Q,ee);else{var te,re=g[x+0],fe=re,Ae=re;for(te=0;te<ee;++te)fe=Ae+(re=g[x+te])-fe,Ae=L[P+te]+(-256&fe?0>fe?0:255:fe)&255,fe=re,V[Q+te]=Ae}}function Ua(g,x,L,P){var V=x.width,Q=x.o;if(e(g!=null&&x!=null),0>L||0>=P||L+P>Q)return null;if(!g.Cc){if(g.ga==null){var ee;if(g.ga=new yo,(ee=g.ga==null)||(ee=x.width*x.o,e(g.Gb.length==0),g.Gb=a(ee),g.Uc=0,g.Gb==null?ee=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,ee=1),ee=!ee),!ee){ee=g.ga;var te=g.Fa,re=g.P,fe=g.qc,Ae=g.mb,Ue=g.nb,Pe=re+1,Me=fe-1,et=ee.l;if(e(te!=null&&Ae!=null&&x!=null),Ws[0]=null,Ws[1]=ia,Ws[2]=Dl,Ws[3]=bo,ee.ca=Ae,ee.tb=Ue,ee.c=x.width,ee.i=x.height,e(0<ee.c&&0<ee.i),1>=fe)x=0;else if(ee.$a=te[re+0]>>0&3,ee.Z=te[re+0]>>2&3,ee.Lc=te[re+0]>>4&3,re=te[re+0]>>6&3,0>ee.$a||1<ee.$a||4<=ee.Z||1<ee.Lc||re)x=0;else if(et.put=oi,et.ac=Zn,et.bc=Li,et.ma=ee,et.width=x.width,et.height=x.height,et.Da=x.Da,et.v=x.v,et.va=x.va,et.j=x.j,et.o=x.o,ee.$a)e:{e(ee.$a==1),x=nr();t:for(;;){if(x==null){x=0;break e}if(e(ee!=null),ee.mc=x,x.c=ee.c,x.i=ee.i,x.l=ee.l,x.l.ma=ee,x.l.width=ee.c,x.l.height=ee.i,x.a=0,me(x.m,te,Pe,Me),!Mr(ee.c,ee.i,1,x,null)||(x.ab==1&&x.gc[0].hc==3&&gi(x.s)?(ee.ic=1,te=x.c*x.i,x.Ta=null,x.Ua=0,x.V=a(te),x.Ba=0,x.V==null?(x.a=1,x=0):x=1):(ee.ic=0,x=ir(x,ee.c)),!x))break t;x=1;break e}ee.mc=null,x=0}else x=Me>=ee.c*ee.i;ee=!x}if(ee)return null;g.ga.Lc!=1?g.Ga=0:P=Q-L}e(g.ga!=null),e(L+P<=Q);e:{if(x=(te=g.ga).c,Q=te.l.o,te.$a==0){if(Pe=g.rc,Me=g.Vc,et=g.Fa,re=g.P+1+L*x,fe=g.mb,Ae=g.nb+L*x,e(re<=g.P+g.qc),te.Z!=0)for(e(Ws[te.Z]!=null),ee=0;ee<P;++ee)Ws[te.Z](Pe,Me,et,re,fe,Ae,x),Pe=fe,Me=Ae,Ae+=x,re+=x;else for(ee=0;ee<P;++ee)r(fe,Ae,et,re,x),Pe=fe,Me=Ae,Ae+=x,re+=x;g.rc=Pe,g.Vc=Me}else{if(e(te.mc!=null),x=L+P,e((ee=te.mc)!=null),e(x<=ee.i),ee.C>=x)x=1;else if(te.ic||De(),te.ic){te=ee.V,Pe=ee.Ba,Me=ee.c;var Ge=ee.i,Ee=(et=1,re=ee.$/Me,fe=ee.$%Me,Ae=ee.m,Ue=ee.s,ee.$),Ie=Me*Ge,$e=Me*x,nt=Ue.wc,Ke=Ee<$e?wn(Ue,fe,re):null;e(Ee<=Ie),e(x<=Ge),e(gi(Ue));t:for(;;){for(;!Ae.h&&Ee<$e;){if(fe&nt||(Ke=wn(Ue,fe,re)),e(Ke!=null),ve(Ae),256>(Ge=pi(Ke.G[0],Ke.H[0],Ae)))te[Pe+Ee]=Ge,++Ee,++fe>=Me&&(fe=0,++re<=x&&!(re%16)&&Tn(ee,re));else{if(!(280>Ge)){et=0;break t}Ge=Ki(Ge-256,Ae);var dt,ut=pi(Ke.G[4],Ke.H[4],Ae);if(ve(Ae),!(Ee>=(ut=hi(Me,ut=Ki(ut,Ae)))&&Ie-Ee>=Ge)){et=0;break t}for(dt=0;dt<Ge;++dt)te[Pe+Ee+dt]=te[Pe+Ee+dt-ut];for(Ee+=Ge,fe+=Ge;fe>=Me;)fe-=Me,++re<=x&&!(re%16)&&Tn(ee,re);Ee<$e&&fe&nt&&(Ke=wn(Ue,fe,re))}e(Ae.h==K(Ae))}Tn(ee,re>x?x:re);break t}!et||Ae.h&&Ee<Ie?(et=0,ee.a=Ae.h?5:3):ee.$=Ee,x=et}else x=vi(ee,ee.V,ee.Ba,ee.c,ee.i,x,Rr);if(!x){P=0;break e}}L+P>=Q&&(g.Cc=1),P=1}if(!P)return null;if(g.Cc&&((P=g.ga)!=null&&(P.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+L*V}function E(g,x,L,P,V,Q){for(;0<V--;){var ee,te=g,re=x+(L?1:0),fe=g,Ae=x+(L?0:3);for(ee=0;ee<P;++ee){var Ue=fe[Ae+4*ee];Ue!=255&&(Ue*=32897,te[re+4*ee+0]=te[re+4*ee+0]*Ue>>23,te[re+4*ee+1]=te[re+4*ee+1]*Ue>>23,te[re+4*ee+2]=te[re+4*ee+2]*Ue>>23)}x+=Q}}function j(g,x,L,P,V){for(;0<P--;){var Q;for(Q=0;Q<L;++Q){var ee=g[x+2*Q+0],te=15&(fe=g[x+2*Q+1]),re=4369*te,fe=(240&fe|fe>>4)*re>>16;g[x+2*Q+0]=(240&ee|ee>>4)*re>>16&240|(15&ee|ee<<4)*re>>16>>4&15,g[x+2*Q+1]=240&fe|te}x+=V}}function pe(g,x,L,P,V,Q,ee,te){var re,fe,Ae=255;for(fe=0;fe<V;++fe){for(re=0;re<P;++re){var Ue=g[x+re];Q[ee+4*re]=Ue,Ae&=Ue}x+=L,ee+=te}return Ae!=255}function xe(g,x,L,P,V){var Q;for(Q=0;Q<V;++Q)L[P+Q]=g[x+Q]>>8}function De(){ar=E,Wt=j,vn=pe,ln=xe}function je(g,x,L){Z[g]=function(P,V,Q,ee,te,re,fe,Ae,Ue,Pe,Me,et,Ge,Ee,Ie,$e,nt){var Ke,dt=nt-1>>1,ut=te[re+0]|fe[Ae+0]<<16,Et=Ue[Pe+0]|Me[et+0]<<16;e(P!=null);var ct=3*ut+Et+131074>>2;for(x(P[V+0],255&ct,ct>>16,Ge,Ee),Q!=null&&(ct=3*Et+ut+131074>>2,x(Q[ee+0],255&ct,ct>>16,Ie,$e)),Ke=1;Ke<=dt;++Ke){var un=te[re+Ke]|fe[Ae+Ke]<<16,Zt=Ue[Pe+Ke]|Me[et+Ke]<<16,nn=ut+un+Et+Zt+524296,Ot=nn+2*(un+Et)>>3;ct=Ot+ut>>1,ut=(nn=nn+2*(ut+Zt)>>3)+un>>1,x(P[V+2*Ke-1],255&ct,ct>>16,Ge,Ee+(2*Ke-1)*L),x(P[V+2*Ke-0],255&ut,ut>>16,Ge,Ee+(2*Ke-0)*L),Q!=null&&(ct=nn+Et>>1,ut=Ot+Zt>>1,x(Q[ee+2*Ke-1],255&ct,ct>>16,Ie,$e+(2*Ke-1)*L),x(Q[ee+2*Ke+0],255&ut,ut>>16,Ie,$e+(2*Ke+0)*L)),ut=un,Et=Zt}1&nt||(ct=3*ut+Et+131074>>2,x(P[V+nt-1],255&ct,ct>>16,Ge,Ee+(nt-1)*L),Q!=null&&(ct=3*Et+ut+131074>>2,x(Q[ee+nt-1],255&ct,ct>>16,Ie,$e+(nt-1)*L)))}}function rt(){ki[uu]=la,ki[Vi]=Ka,ki[cu]=fc,ki[Hr]=mu,ki[Fl]=Io,ki[Ya]=Ns,ki[No]=Mo,ki[Bl]=Ka,ki[fu]=mu,ki[Ja]=Io,ki[du]=Ns}function pt(g){return g&-16384?0>g?0:255:g>>gu}function Tt(g,x){return pt((19077*g>>8)+(26149*x>>8)-14234)}function Pt(g,x,L){return pt((19077*g>>8)-(6419*x>>8)-(13320*L>>8)+8708)}function Rt(g,x){return pt((19077*g>>8)+(33050*x>>8)-17685)}function tn(g,x,L,P,V){P[V+0]=Tt(g,L),P[V+1]=Pt(g,x,L),P[V+2]=Rt(g,x)}function Un(g,x,L,P,V){P[V+0]=Rt(g,x),P[V+1]=Pt(g,x,L),P[V+2]=Tt(g,L)}function zn(g,x,L,P,V){var Q=Pt(g,x,L);x=Q<<3&224|Rt(g,x)>>3,P[V+0]=248&Tt(g,L)|Q>>5,P[V+1]=x}function $n(g,x,L,P,V){var Q=240&Rt(g,x)|15;P[V+0]=240&Tt(g,L)|Pt(g,x,L)>>4,P[V+1]=Q}function Ii(g,x,L,P,V){P[V+0]=255,tn(g,x,L,P,V+1)}function ai(g,x,L,P,V){Un(g,x,L,P,V),P[V+3]=255}function Bi(g,x,L,P,V){tn(g,x,L,P,V),P[V+3]=255}function _r(g,x){return 0>g?0:g>x?x:g}function Es(g,x,L){Z[g]=function(P,V,Q,ee,te,re,fe,Ae,Ue){for(var Pe=Ae+(-2&Ue)*L;Ae!=Pe;)x(P[V+0],Q[ee+0],te[re+0],fe,Ae),x(P[V+1],Q[ee+0],te[re+0],fe,Ae+L),V+=2,++ee,++re,Ae+=2*L;1&Ue&&x(P[V+0],Q[ee+0],te[re+0],fe,Ae)}}function su(g,x,L){return L==0?g==0?x==0?6:5:x==0?4:0:L}function Oa(g,x,L,P,V){switch(g>>>30){case 3:us(x,L,P,V,0);break;case 2:Mn(x,L,P,V);break;case 1:Gi(x,L,P,V)}}function Fa(g,x){var L,P,V=x.M,Q=x.Nb,ee=g.oc,te=g.pc+40,re=g.oc,fe=g.pc+584,Ae=g.oc,Ue=g.pc+600;for(L=0;16>L;++L)ee[te+32*L-1]=129;for(L=0;8>L;++L)re[fe+32*L-1]=129,Ae[Ue+32*L-1]=129;for(0<V?ee[te-1-32]=re[fe-1-32]=Ae[Ue-1-32]=129:(o(ee,te-32-1,127,21),o(re,fe-32-1,127,9),o(Ae,Ue-32-1,127,9)),P=0;P<g.za;++P){var Pe=x.ya[x.aa+P];if(0<P){for(L=-1;16>L;++L)r(ee,te+32*L-4,ee,te+32*L+12,4);for(L=-1;8>L;++L)r(re,fe+32*L-4,re,fe+32*L+4,4),r(Ae,Ue+32*L-4,Ae,Ue+32*L+4,4)}var Me=g.Gd,et=g.Hd+P,Ge=Pe.ad,Ee=Pe.Hc;if(0<V&&(r(ee,te-32,Me[et].y,0,16),r(re,fe-32,Me[et].f,0,8),r(Ae,Ue-32,Me[et].ea,0,8)),Pe.Za){var Ie=ee,$e=te-32+16;for(0<V&&(P>=g.za-1?o(Ie,$e,Me[et].y[15],4):r(Ie,$e,Me[et+1].y,0,4)),L=0;4>L;L++)Ie[$e+128+L]=Ie[$e+256+L]=Ie[$e+384+L]=Ie[$e+0+L];for(L=0;16>L;++L,Ee<<=2)Ie=ee,$e=te+Qn[L],jn[Pe.Ob[L]](Ie,$e),Oa(Ee,Ge,16*+L,Ie,$e)}else if(Ie=su(P,V,Pe.Ob[0]),$i[Ie](ee,te),Ee!=0)for(L=0;16>L;++L,Ee<<=2)Oa(Ee,Ge,16*+L,ee,te+Qn[L]);for(L=Pe.Gc,Ie=su(P,V,Pe.Dd),ds[Ie](re,fe),ds[Ie](Ae,Ue),Ee=Ge,Ie=re,$e=fe,255&(Pe=L>>0)&&(170&Pe?sa(Ee,256,Ie,$e):xi(Ee,256,Ie,$e)),Pe=Ae,Ee=Ue,255&(L>>=8)&&(170&L?sa(Ge,320,Pe,Ee):xi(Ge,320,Pe,Ee)),V<g.Ub-1&&(r(Me[et].y,0,ee,te+480,16),r(Me[et].f,0,re,fe+224,8),r(Me[et].ea,0,Ae,Ue+224,8)),L=8*Q*g.B,Me=g.sa,et=g.ta+16*P+16*Q*g.R,Ge=g.qa,Pe=g.ra+8*P+L,Ee=g.Ha,Ie=g.Ia+8*P+L,L=0;16>L;++L)r(Me,et+L*g.R,ee,te+32*L,16);for(L=0;8>L;++L)r(Ge,Pe+L*g.B,re,fe+32*L,8),r(Ee,Ie+L*g.B,Ae,Ue+32*L,8)}}function Ts(g,x,L,P,V,Q,ee,te,re){var fe=[0],Ae=[0],Ue=0,Pe=re!=null?re.kd:0,Me=re??new Rl;if(g==null||12>L)return 7;Me.data=g,Me.w=x,Me.ha=L,x=[x],L=[L],Me.gb=[Me.gb];e:{var et=x,Ge=L,Ee=Me.gb;if(e(g!=null),e(Ge!=null),e(Ee!=null),Ee[0]=0,12<=Ge[0]&&!n(g,et[0],"RIFF")){if(n(g,et[0]+8,"WEBP")){Ee=3;break e}var Ie=ot(g,et[0]+4);if(12>Ie||4294967286<Ie){Ee=3;break e}if(Pe&&Ie>Ge[0]-8){Ee=7;break e}Ee[0]=Ie,et[0]+=12,Ge[0]-=12}Ee=0}if(Ee!=0)return Ee;for(Ie=0<Me.gb[0],L=L[0];;){e:{var $e=g;Ge=x,Ee=L;var nt=fe,Ke=Ae,dt=et=[0];if((ct=Ue=[Ue])[0]=0,8>Ee[0])Ee=7;else{if(!n($e,Ge[0],"VP8X")){if(ot($e,Ge[0]+4)!=10){Ee=3;break e}if(18>Ee[0]){Ee=7;break e}var ut=ot($e,Ge[0]+8),Et=1+st($e,Ge[0]+12);if(2147483648<=Et*($e=1+st($e,Ge[0]+15))){Ee=3;break e}dt!=null&&(dt[0]=ut),nt!=null&&(nt[0]=Et),Ke!=null&&(Ke[0]=$e),Ge[0]+=18,Ee[0]-=18,ct[0]=1}Ee=0}}if(Ue=Ue[0],et=et[0],Ee!=0)return Ee;if(Ge=!!(2&et),!Ie&&Ue)return 3;if(Q!=null&&(Q[0]=!!(16&et)),ee!=null&&(ee[0]=Ge),te!=null&&(te[0]=0),ee=fe[0],et=Ae[0],Ue&&Ge&&re==null){Ee=0;break}if(4>L){Ee=7;break}if(Ie&&Ue||!Ie&&!Ue&&!n(g,x[0],"ALPH")){L=[L],Me.na=[Me.na],Me.P=[Me.P],Me.Sa=[Me.Sa];e:{ut=g,Ee=x,Ie=L;var ct=Me.gb;nt=Me.na,Ke=Me.P,dt=Me.Sa,Et=22,e(ut!=null),e(Ie!=null),$e=Ee[0];var un=Ie[0];for(e(nt!=null),e(dt!=null),nt[0]=null,Ke[0]=null,dt[0]=0;;){if(Ee[0]=$e,Ie[0]=un,8>un){Ee=7;break e}var Zt=ot(ut,$e+4);if(4294967286<Zt){Ee=3;break e}var nn=8+Zt+1&-2;if(Et+=nn,0<ct&&Et>ct){Ee=3;break e}if(!n(ut,$e,"VP8 ")||!n(ut,$e,"VP8L")){Ee=0;break e}if(un[0]<nn){Ee=7;break e}n(ut,$e,"ALPH")||(nt[0]=ut,Ke[0]=$e+8,dt[0]=Zt),$e+=nn,un-=nn}}if(L=L[0],Me.na=Me.na[0],Me.P=Me.P[0],Me.Sa=Me.Sa[0],Ee!=0)break}L=[L],Me.Ja=[Me.Ja],Me.xa=[Me.xa];e:if(ct=g,Ee=x,Ie=L,nt=Me.gb[0],Ke=Me.Ja,dt=Me.xa,ut=Ee[0],$e=!n(ct,ut,"VP8 "),Et=!n(ct,ut,"VP8L"),e(ct!=null),e(Ie!=null),e(Ke!=null),e(dt!=null),8>Ie[0])Ee=7;else{if($e||Et){if(ct=ot(ct,ut+4),12<=nt&&ct>nt-12){Ee=3;break e}if(Pe&&ct>Ie[0]-8){Ee=7;break e}Ke[0]=ct,Ee[0]+=8,Ie[0]-=8,dt[0]=Et}else dt[0]=5<=Ie[0]&&ct[ut+0]==47&&!(ct[ut+4]>>5),Ke[0]=Ie[0];Ee=0}if(L=L[0],Me.Ja=Me.Ja[0],Me.xa=Me.xa[0],x=x[0],Ee!=0)break;if(4294967286<Me.Ja)return 3;if(te==null||Ge||(te[0]=Me.xa?2:1),ee=[ee],et=[et],Me.xa){if(5>L){Ee=7;break}te=ee,Pe=et,Ge=Q,g==null||5>L?g=0:5<=L&&g[x+0]==47&&!(g[x+4]>>5)?(Ie=[0],ct=[0],nt=[0],me(Ke=new R,g,x,L),St(Ke,Ie,ct,nt)?(te!=null&&(te[0]=Ie[0]),Pe!=null&&(Pe[0]=ct[0]),Ge!=null&&(Ge[0]=nt[0]),g=1):g=0):g=0}else{if(10>L){Ee=7;break}te=et,g==null||10>L||!rr(g,x+3,L-3)?g=0:(Pe=g[x+0]|g[x+1]<<8|g[x+2]<<16,Ge=16383&(g[x+7]<<8|g[x+6]),g=16383&(g[x+9]<<8|g[x+8]),1&Pe||3<(Pe>>1&7)||!(Pe>>4&1)||Pe>>5>=Me.Ja||!Ge||!g?g=0:(ee&&(ee[0]=Ge),te&&(te[0]=g),g=1))}if(!g||(ee=ee[0],et=et[0],Ue&&(fe[0]!=ee||Ae[0]!=et)))return 3;re!=null&&(re[0]=Me,re.offset=x-re.w,e(4294967286>x-re.w),e(re.offset==re.ha-L));break}return Ee==0||Ee==7&&Ue&&re==null?(Q!=null&&(Q[0]|=Me.na!=null&&0<Me.na.length),P!=null&&(P[0]=ee),V!=null&&(V[0]=et),0):Ee}function qs(g,x,L){var P=x.width,V=x.height,Q=0,ee=0,te=P,re=V;if(x.Da=g!=null&&0<g.Da,x.Da&&(te=g.cd,re=g.bd,Q=g.v,ee=g.j,11>L||(Q&=-2,ee&=-2),0>Q||0>ee||0>=te||0>=re||Q+te>P||ee+re>V))return 0;if(x.v=Q,x.j=ee,x.va=Q+te,x.o=ee+re,x.U=te,x.T=re,x.da=g!=null&&0<g.da,x.da){if(!ue(te,re,L=[g.ib],Q=[g.hb]))return 0;x.ib=L[0],x.hb=Q[0]}return x.ob=g!=null&&g.ob,x.Kb=g==null||!g.Sd,x.da&&(x.ob=x.ib<3*P/4&&x.hb<3*V/4,x.Kb=0),1}function Pl(g){if(g==null)return 2;if(11>g.S){var x=g.f.RGBA;x.fb+=(g.height-1)*x.A,x.A=-x.A}else x=g.f.kb,g=g.height,x.O+=(g-1)*x.fa,x.fa=-x.fa,x.N+=(g-1>>1)*x.Ab,x.Ab=-x.Ab,x.W+=(g-1>>1)*x.Db,x.Db=-x.Db,x.F!=null&&(x.J+=(g-1)*x.lb,x.lb=-x.lb);return 0}function Gs(g,x,L,P){if(P==null||0>=g||0>=x)return 2;if(L!=null){if(L.Da){var V=L.cd,Q=L.bd,ee=-2&L.v,te=-2&L.j;if(0>ee||0>te||0>=V||0>=Q||ee+V>g||te+Q>x)return 2;g=V,x=Q}if(L.da){if(!ue(g,x,V=[L.ib],Q=[L.hb]))return 2;g=V[0],x=Q[0]}}P.width=g,P.height=x;e:{var re=P.width,fe=P.height;if(g=P.S,0>=re||0>=fe||!(g>=uu&&13>g))g=2;else{if(0>=P.Rd&&P.sd==null){ee=Q=V=x=0;var Ae=(te=re*yu[g])*fe;if(11>g||(Q=(fe+1)/2*(x=(re+1)/2),g==12&&(ee=(V=re)*fe)),(fe=a(Ae+2*Q+ee))==null){g=1;break e}P.sd=fe,11>g?((re=P.f.RGBA).eb=fe,re.fb=0,re.A=te,re.size=Ae):((re=P.f.kb).y=fe,re.O=0,re.fa=te,re.Fd=Ae,re.f=fe,re.N=0+Ae,re.Ab=x,re.Cd=Q,re.ea=fe,re.W=0+Ae+Q,re.Db=x,re.Ed=Q,g==12&&(re.F=fe,re.J=0+Ae+2*Q),re.Tc=ee,re.lb=V)}if(x=1,V=P.S,Q=P.width,ee=P.height,V>=uu&&13>V)if(11>V)g=P.f.RGBA,x&=(te=Math.abs(g.A))*(ee-1)+Q<=g.size,x&=te>=Q*yu[V],x&=g.eb!=null;else{g=P.f.kb,te=(Q+1)/2,Ae=(ee+1)/2,re=Math.abs(g.fa),fe=Math.abs(g.Ab);var Ue=Math.abs(g.Db),Pe=Math.abs(g.lb),Me=Pe*(ee-1)+Q;x&=re*(ee-1)+Q<=g.Fd,x&=fe*(Ae-1)+te<=g.Cd,x=(x&=Ue*(Ae-1)+te<=g.Ed)&re>=Q&fe>=te&Ue>=te,x&=g.y!=null,x&=g.f!=null,x&=g.ea!=null,V==12&&(x&=Pe>=Q,x&=Me<=g.Tc,x&=g.F!=null)}else x=0;g=x?0:2}}return g!=0||L!=null&&L.fd&&(g=Pl(P)),g}var wi=64,ra=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],_o=24,wo=32,Ba=8,Xi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ce("Predictor0","PredictorAdd0"),Z.Predictor0=function(){return 4278190080},Z.Predictor1=function(g){return g},Z.Predictor2=function(g,x,L){return x[L+0]},Z.Predictor3=function(g,x,L){return x[L+1]},Z.Predictor4=function(g,x,L){return x[L-1]},Z.Predictor5=function(g,x,L){return be(be(g,x[L+1]),x[L+0])},Z.Predictor6=function(g,x,L){return be(g,x[L-1])},Z.Predictor7=function(g,x,L){return be(g,x[L+0])},Z.Predictor8=function(g,x,L){return be(x[L-1],x[L+0])},Z.Predictor9=function(g,x,L){return be(x[L+0],x[L+1])},Z.Predictor10=function(g,x,L){return be(be(g,x[L-1]),be(x[L+0],x[L+1]))},Z.Predictor11=function(g,x,L){var P=x[L+0];return 0>=Ve(P>>24&255,g>>24&255,(x=x[L-1])>>24&255)+Ve(P>>16&255,g>>16&255,x>>16&255)+Ve(P>>8&255,g>>8&255,x>>8&255)+Ve(255&P,255&g,255&x)?P:g},Z.Predictor12=function(g,x,L){var P=x[L+0];return(ze((g>>24&255)+(P>>24&255)-((x=x[L-1])>>24&255))<<24|ze((g>>16&255)+(P>>16&255)-(x>>16&255))<<16|ze((g>>8&255)+(P>>8&255)-(x>>8&255))<<8|ze((255&g)+(255&P)-(255&x)))>>>0},Z.Predictor13=function(g,x,L){var P=x[L-1];return(He((g=be(g,x[L+0]))>>24&255,P>>24&255)<<24|He(g>>16&255,P>>16&255)<<16|He(g>>8&255,P>>8&255)<<8|He(g>>0&255,P>>0&255))>>>0};var ou=Z.PredictorAdd0;Z.PredictorAdd1=it,Ce("Predictor2","PredictorAdd2"),Ce("Predictor3","PredictorAdd3"),Ce("Predictor4","PredictorAdd4"),Ce("Predictor5","PredictorAdd5"),Ce("Predictor6","PredictorAdd6"),Ce("Predictor7","PredictorAdd7"),Ce("Predictor8","PredictorAdd8"),Ce("Predictor9","PredictorAdd9"),Ce("Predictor10","PredictorAdd10"),Ce("Predictor11","PredictorAdd11"),Ce("Predictor12","PredictorAdd12"),Ce("Predictor13","PredictorAdd13");var Ul=Z.PredictorAdd2;Ct("ColorIndexInverseTransform","MapARGB","32b",(function(g){return g>>8&255}),(function(g){return g})),Ct("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(g){return g}),(function(g){return g>>8&255}));var au,qr=Z.ColorIndexInverseTransform,za=Z.MapARGB,lu=Z.VP8LColorIndexInverseTransformAlpha,zi=Z.MapAlpha,Gr=Z.VP8LPredictorsAdd=[];Gr.length=16,(Z.VP8LPredictors=[]).length=16,(Z.VP8LPredictorsAdd_C=[]).length=16,(Z.VP8LPredictors_C=[]).length=16;var xo,Zi,qi,Hs,as,Vs,ls,us,Mn,sa,Gi,xi,cs,qa,Ga,wr,So,js,Ao,Ha,oa,Eo,Va,xr,ar,Wt,vn,ln,On=a(511),fs=a(2041),To=a(225),Ys=a(767),ja=0,Js=fs,Ol=To,Hi=Ys,Mi=On,uu=0,Vi=1,cu=2,Hr=3,Fl=4,Ya=5,No=6,Bl=7,fu=8,Ja=9,du=10,Vr=[2,3,7],Wa=[3,3,11],aa=[280,256,256,256,40],hu=[0,1,1,1,0],zl=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],jr=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Yr=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Co=8,Jr=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Wr=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Sr=null,ef=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],uc=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],pu=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],tf=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ri=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Rn=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Xt=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],$i=[],jn=[],ds=[],Lo=1,cc=2,Ws=[],ki=[];je("UpsampleRgbLinePair",tn,3),je("UpsampleBgrLinePair",Un,3),je("UpsampleRgbaLinePair",Bi,4),je("UpsampleBgraLinePair",ai,4),je("UpsampleArgbLinePair",Ii,4),je("UpsampleRgba4444LinePair",$n,2),je("UpsampleRgb565LinePair",zn,2);var la=Z.UpsampleRgbLinePair,fc=Z.UpsampleBgrLinePair,Ka=Z.UpsampleRgbaLinePair,mu=Z.UpsampleBgraLinePair,Io=Z.UpsampleArgbLinePair,Ns=Z.UpsampleRgba4444LinePair,Mo=Z.UpsampleRgb565LinePair,Kr=16,Xa=1<<Kr-1,ua=-227,Ro=482,gu=6,ko=0,Di=a(256),vu=a(256),nf=a(256),Md=a(256),Rd=a(Ro-ua),kd=a(Ro-ua);Es("YuvToRgbRow",tn,3),Es("YuvToBgrRow",Un,3),Es("YuvToRgbaRow",Bi,4),Es("YuvToBgraRow",ai,4),Es("YuvToArgbRow",Ii,4),Es("YuvToRgba4444Row",$n,2),Es("YuvToRgb565Row",zn,2);var Qn=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Za=[0,2,8],ql=[8,7,6,4,4,2,2,2,1,1,1,1],Gl=1;this.WebPDecodeRGBA=function(g,x,L,P,V){var Q=Vi,ee=new na,te=new si;ee.ba=te,te.S=Q,te.width=[te.width],te.height=[te.height];var re=te.width,fe=te.height,Ae=new Fn;if(Ae==null||g==null)var Ue=2;else e(Ae!=null),Ue=Ts(g,x,L,Ae.width,Ae.height,Ae.Pd,Ae.Qd,Ae.format,null);if(Ue!=0?re=0:(re!=null&&(re[0]=Ae.width[0]),fe!=null&&(fe[0]=Ae.height[0]),re=1),re){te.width=te.width[0],te.height=te.height[0],P!=null&&(P[0]=te.width),V!=null&&(V[0]=te.height);e:{if(P=new Pr,(V=new Rl).data=g,V.w=x,V.ha=L,V.kd=1,x=[0],e(V!=null),((g=Ts(V.data,V.w,V.ha,null,null,null,x,null,V))==0||g==7)&&x[0]&&(g=4),(x=g)==0){if(e(ee!=null),P.data=V.data,P.w=V.w+V.offset,P.ha=V.ha-V.offset,P.put=oi,P.ac=Zn,P.bc=Li,P.ma=ee,V.xa){if((g=nr())==null){ee=1;break e}if((function(Pe,Me){var et=[0],Ge=[0],Ee=[0];t:for(;;){if(Pe==null)return 0;if(Me==null)return Pe.a=2,0;if(Pe.l=Me,Pe.a=0,me(Pe.m,Me.data,Me.w,Me.ha),!St(Pe.m,et,Ge,Ee)){Pe.a=3;break t}if(Pe.xb=cc,Me.width=et[0],Me.height=Ge[0],!Mr(et[0],Ge[0],1,Pe,null))break t;return 1}return e(Pe.a!=0),0})(g,P)){if(P=(x=Gs(P.width,P.height,ee.Oa,ee.ba))==0){t:{P=g;n:for(;;){if(P==null){P=0;break t}if(e(P.s.yc!=null),e(P.s.Ya!=null),e(0<P.s.Wb),e((L=P.l)!=null),e((V=L.ma)!=null),P.xb!=0){if(P.ca=V.ba,P.tb=V.tb,e(P.ca!=null),!qs(V.Oa,L,Hr)){P.a=2;break n}if(!ir(P,L.width)||L.da)break n;if((L.da||en(P.ca.S))&&De(),11>P.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),P.ca.f.kb.F!=null&&De()),P.Pb&&0<P.s.ua&&P.s.vb.X==null&&!F(P.s.vb,P.s.Wa.Xa)){P.a=1;break n}P.xb=0}if(!vi(P,P.V,P.Ba,P.c,P.i,L.o,ys))break n;V.Dc=P.Ma,P=1;break t}e(P.a!=0),P=0}P=!P}P&&(x=g.a)}else x=g.a}else{if((g=new ws)==null){ee=1;break e}if(g.Fa=V.na,g.P=V.P,g.qc=V.Sa,yi(g,P)){if((x=Gs(P.width,P.height,ee.Oa,ee.ba))==0){if(g.Aa=0,L=ee.Oa,e((V=g)!=null),L!=null){if(0<(re=0>(re=L.Md)?0:100<re?255:255*re/100)){for(fe=Ae=0;4>fe;++fe)12>(Ue=V.pb[fe]).lc&&(Ue.ia=re*ql[0>Ue.lc?0:Ue.lc]>>3),Ae|=Ue.ia;Ae&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=L.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}Xo(g,P)||(x=g.a)}}else x=g.a}x==0&&ee.Oa!=null&&ee.Oa.fd&&(x=Pl(ee.ba))}ee=x}Q=ee!=0?null:11>Q?te.f.RGBA.eb:te.f.kb.y}else Q=null;return Q};var yu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(Z,W){for(var ae="",B=0;B<4;B++)ae+=String.fromCharCode(Z[W++]);return ae}function p(Z,W){return(Z[W+0]<<0|Z[W+1]<<8|Z[W+2]<<16)>>>0}function v(Z,W){return(Z[W+0]<<0|Z[W+1]<<8|Z[W+2]<<16|Z[W+3]<<24)>>>0}new f;var _=[0],y=[0],N=[],A=new f,C=t,T=(function(Z,W){var ae={},B=0,D=!1,X=0,I=0;if(ae.frames=[],!(function(G,K,ie,ve){for(var Te=0;Te<ve;Te++)if(G[K+Te]!=ie.charCodeAt(Te))return!0;return!1})(Z,W,"RIFF",4)){var ce,oe;for(v(Z,W+=4),W+=8;W<Z.length;){var le=d(Z,W),me=v(Z,W+=4);W+=4;var ge=me+(1&me);switch(le){case"VP8 ":case"VP8L":ae.frames[B]===void 0&&(ae.frames[B]={}),(R=ae.frames[B]).src_off=D?I:W-8,R.src_size=X+me+8,B++,D&&(D=!1,X=0,I=0);break;case"VP8X":(R=ae.header={}).feature_flags=Z[W];var Ne=W+4;R.canvas_width=1+p(Z,Ne),Ne+=3,R.canvas_height=1+p(Z,Ne),Ne+=3;break;case"ALPH":D=!0,X=ge+8,I=W-8;break;case"ANIM":(R=ae.header).bgcolor=v(Z,W),Ne=W+4,R.loop_count=(ce=Z)[(oe=Ne)+0]<<0|ce[oe+1]<<8,Ne+=2;break;case"ANMF":var Y,R;(R=ae.frames[B]={}).offset_x=2*p(Z,W),W+=3,R.offset_y=2*p(Z,W),W+=3,R.width=1+p(Z,W),W+=3,R.height=1+p(Z,W),W+=3,R.duration=p(Z,W),W+=3,Y=Z[W++],R.dispose=1&Y,R.blend=Y>>1&1}le!="ANMF"&&(W+=ge)}return ae}})(C,0);T.response=C,T.rgbaoutput=!0,T.dataurl=!1;var k=T.header?T.header:null,U=T.frames?T.frames:null;if(k){k.loop_counter=k.loop_count,_=[k.canvas_height],y=[k.canvas_width];for(var z=0;z<U.length&&U[z].blend!=0;z++);}var q=U[0],J=A.WebPDecodeRGBA(C,q.src_off,q.src_size,y,_);q.rgba=J,q.imgwidth=y[0],q.imgheight=_[0];for(var H=0;H<y[0]*_[0]*4;H++)N[H]=J[H];return this.width=y,this.height=_,this.data=N,this}(function(t){var e=function(){return typeof vp=="function"},n=function(_,y,N,A){var C=4,T=l;switch(A){case t.image_compression.FAST:C=1,T=a;break;case t.image_compression.MEDIUM:C=6,T=c;break;case t.image_compression.SLOW:C=9,T=f}_=r(_,y,N,T);var k=vp(_,{level:C});return t.__addimage__.arrayBufferToBinaryString(k)},r=function(_,y,N,A){for(var C,T,k,U=_.length/y,z=new Uint8Array(_.length+U),q=p(),J=0;J<U;J+=1){if(k=J*y,C=_.subarray(k,k+y),A)z.set(A(C,N,T),k+J);else{for(var H,Z=q.length,W=[];H<Z;H+=1)W[H]=q[H](C,N,T);var ae=v(W.concat());z.set(W[ae],k+J)}T=C}return z},o=function(_){var y=Array.apply([],_);return y.unshift(0),y},a=function(_,y){var N,A=[],C=_.length;A[0]=1;for(var T=0;T<C;T+=1)N=_[T-y]||0,A[T+1]=_[T]-N+256&255;return A},l=function(_,y,N){var A,C=[],T=_.length;C[0]=2;for(var k=0;k<T;k+=1)A=N&&N[k]||0,C[k+1]=_[k]-A+256&255;return C},c=function(_,y,N){var A,C,T=[],k=_.length;T[0]=3;for(var U=0;U<k;U+=1)A=_[U-y]||0,C=N&&N[U]||0,T[U+1]=_[U]+256-(A+C>>>1)&255;return T},f=function(_,y,N){var A,C,T,k,U=[],z=_.length;U[0]=4;for(var q=0;q<z;q+=1)A=_[q-y]||0,C=N&&N[q]||0,T=N&&N[q-y]||0,k=d(A,C,T),U[q+1]=_[q]-k+256&255;return U},d=function(_,y,N){if(_===y&&y===N)return _;var A=Math.abs(y-N),C=Math.abs(_-N),T=Math.abs(_+y-N-N);return A<=C&&A<=T?_:C<=T?y:N},p=function(){return[o,a,l,c,f]},v=function(_){var y=_.map((function(N){return N.reduce((function(A,C){return A+Math.abs(C)}),0)}));return y.indexOf(Math.min.apply(null,y))};t.processPNG=function(_,y,N,A){var C,T,k,U,z,q,J,H,Z,W,ae,B,D,X,I,ce=this.decode.FLATE_DECODE,oe="";if(this.__addimage__.isArrayBuffer(_)&&(_=new Uint8Array(_)),this.__addimage__.isArrayBufferView(_)){if(_=(k=new Ob(_)).imgData,T=k.bits,C=k.colorSpace,z=k.colors,[4,6].indexOf(k.colorType)!==-1){if(k.bits===8){Z=(H=k.pixelBitlength==32?new Uint32Array(k.decodePixels().buffer):k.pixelBitlength==16?new Uint16Array(k.decodePixels().buffer):new Uint8Array(k.decodePixels().buffer)).length,ae=new Uint8Array(Z*k.colors),W=new Uint8Array(Z);var le,me=k.pixelBitlength-k.bits;for(X=0,I=0;X<Z;X++){for(D=H[X],le=0;le<me;)ae[I++]=D>>>le&255,le+=k.bits;W[X]=D>>>le&255}}if(k.bits===16){Z=(H=new Uint32Array(k.decodePixels().buffer)).length,ae=new Uint8Array(Z*(32/k.pixelBitlength)*k.colors),W=new Uint8Array(Z*(32/k.pixelBitlength)),B=k.colors>1,X=0,I=0;for(var ge=0;X<Z;)D=H[X++],ae[I++]=D>>>0&255,B&&(ae[I++]=D>>>16&255,D=H[X++],ae[I++]=D>>>0&255),W[ge++]=D>>>16&255;T=8}A!==t.image_compression.NONE&&e()?(_=n(ae,k.width*k.colors,k.colors,A),J=n(W,k.width,1,A)):(_=ae,J=W,ce=void 0)}if(k.colorType===3&&(C=this.color_spaces.INDEXED,q=k.palette,k.transparency.indexed)){var Ne=k.transparency.indexed,Y=0;for(X=0,Z=Ne.length;X<Z;++X)Y+=Ne[X];if((Y/=255)===Z-1&&Ne.indexOf(0)!==-1)U=[Ne.indexOf(0)];else if(Y!==Z){for(H=k.decodePixels(),W=new Uint8Array(H.length),X=0,Z=H.length;X<Z;X++)W[X]=Ne[H[X]];J=n(W,k.width,1)}}var R=(function(G){var K;switch(G){case t.image_compression.FAST:K=11;break;case t.image_compression.MEDIUM:K=13;break;case t.image_compression.SLOW:K=14;break;default:K=12}return K})(A);return ce===this.decode.FLATE_DECODE&&(oe="/Predictor "+R+" "),oe+="/Colors "+z+" /BitsPerComponent "+T+" /Columns "+k.width,(this.__addimage__.isArrayBuffer(_)||this.__addimage__.isArrayBufferView(_))&&(_=this.__addimage__.arrayBufferToBinaryString(_)),(J&&this.__addimage__.isArrayBuffer(J)||this.__addimage__.isArrayBufferView(J))&&(J=this.__addimage__.arrayBufferToBinaryString(J)),{alias:N,data:_,index:y,filter:ce,decodeParameters:oe,transparency:U,palette:q,sMask:J,predictor:R,width:k.width,height:k.height,bitsPerComponent:T,colorSpace:C}}}})(kt.API),(function(t){t.processGIF89A=function(e,n,r,o){var a=new Fb(e),l=a.width,c=a.height,f=[];a.decodeAndBlitFrameRGBA(0,f);var d={data:f,width:l,height:c},p=new ip(100).encode(d,100);return t.processJPEG.call(this,p,n,r,o)},t.processGIF87A=t.processGIF89A})(kt.API),io.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:o,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},io.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Pn.log("bit decode error:"+n)}},io.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,o=0;o<e;o++)for(var a=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+8*o*4,c=0;c<8&&8*o+c<this.width;c++){var f=this.palette[a>>7-c&1];this.data[l+4*c]=f.blue,this.data[l+4*c+1]=f.green,this.data[l+4*c+2]=f.red,this.data[l+4*c+3]=255}n!==0&&(this.pos+=4-n)}},io.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,o=0;o<t;o++){var a=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+2*o*4,c=a>>4,f=15&a,d=this.palette[c];if(this.data[l]=d.blue,this.data[l+1]=d.green,this.data[l+2]=d.red,this.data[l+3]=255,2*o+1>=this.width)break;d=this.palette[f],this.data[l+4]=d.blue,this.data[l+4+1]=d.green,this.data[l+4+2]=d.red,this.data[l+4+3]=255}e!==0&&(this.pos+=4-e)}},io.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var o=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(o<this.palette.length){var l=this.palette[o];this.data[a]=l.red,this.data[a+1]=l.green,this.data[a+2]=l.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},io.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,o=0;o<this.width;o++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&e)/e*255|0,c=(a>>5&e)/e*255|0,f=(a>>10&e)/e*255|0,d=a>>15?255:0,p=r*this.width*4+4*o;this.data[p]=f,this.data[p+1]=c,this.data[p+2]=l,this.data[p+3]=d}this.pos+=t}},io.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var o=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(l&e)/e*255|0,f=(l>>5&n)/n*255|0,d=(l>>11)/e*255|0,p=o*this.width*4+4*a;this.data[p]=d,this.data[p+1]=f,this.data[p+2]=c,this.data[p+3]=255}this.pos+=t}},io.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*n;this.data[l]=a,this.data[l+1]=o,this.data[l+2]=r,this.data[l+3]=255}this.pos+=this.width%4}},io.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*n;this.data[c]=a,this.data[c+1]=o,this.data[c+2]=r,this.data[c+3]=l}},io.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,n,r,o){var a=new io(e,!1),l=a.width,c=a.height,f={data:a.getData(),width:l,height:c},d=new ip(100).encode(f,100);return t.processJPEG.call(this,d,n,r,o)}})(kt.API),e1.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,n,r,o){var a=new e1(e),l=a.width,c=a.height,f={data:a.getData(),width:l,height:c},d=new ip(100).encode(f,100);return t.processJPEG.call(this,d,n,r,o)}})(kt.API),kt.API.processRGBA=function(t,e,n){for(var r=t.data,o=r.length,a=new Uint8Array(o/4*3),l=new Uint8Array(o/4),c=0,f=0,d=0;d<o;d+=4){var p=r[d],v=r[d+1],_=r[d+2],y=r[d+3];a[c++]=p,a[c++]=v,a[c++]=_,l[f++]=y}var N=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:N,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},kt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},qu=kt.API,Kf=qu.getCharWidthsArray=function(t,e){var n,r,o=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),l=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:o.metadata.Unicode.widths,f=c.fof?c.fof:1,d=e.kerning?e.kerning:o.metadata.Unicode.kerning,p=d.fof?d.fof:1,v=e.doKerning!==!1,_=0,y=t.length,N=0,A=c[0]||f,C=[];for(n=0;n<y;n++)r=t.charCodeAt(n),typeof o.metadata.widthOfString=="function"?C.push((o.metadata.widthOfGlyph(o.metadata.characterToGlyph(r))+l*(1e3/a)||0)/1e3):(_=v&&En(d[r])==="object"&&!isNaN(parseInt(d[r][N],10))?d[r][N]/p:0,C.push((c[r]||A)/f+_)),N=r;return C},Xg=qu.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),o=e.charSpace||this.internal.getCharSpace();return qu.processArabic&&(t=qu.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,o)/n:Kf.apply(this,arguments).reduce((function(a,l){return a+l}),0)},Zg=function(t,e,n,r){for(var o=[],a=0,l=t.length,c=0;a!==l&&c+e[a]<n;)c+=e[a],a++;o.push(t.slice(0,a));var f=a;for(c=0;a!==l;)c+e[a]>r&&(o.push(t.slice(f,a)),c=0,f=a),c+=e[a],a++;return f!==a&&o.push(t.slice(f,a)),o},$g=function(t,e,n){n||(n={});var r,o,a,l,c,f,d,p=[],v=[p],_=n.textIndent||0,y=0,N=0,A=t.split(" "),C=Kf.apply(this,[" ",n])[0];if(f=n.lineIndent===-1?A[0].length+2:n.lineIndent||0){var T=Array(f).join(" "),k=[];A.map((function(z){(z=z.split(/\s*\n/)).length>1?k=k.concat(z.map((function(q,J){return(J&&q.length?`
`:"")+q}))):k.push(z[0])})),A=k,f=Xg.apply(this,[T,n])}for(a=0,l=A.length;a<l;a++){var U=0;if(r=A[a],f&&r[0]==`
`&&(r=r.substr(1),U=1),_+y+(N=(o=Kf.apply(this,[r,n])).reduce((function(z,q){return z+q}),0))>e||U){if(N>e){for(c=Zg.apply(this,[r,o,e-(_+y),e]),p.push(c.shift()),p=[c.pop()];c.length;)v.push([c.shift()]);N=o.slice(r.length-(p[0]?p[0].length:0)).reduce((function(z,q){return z+q}),0)}else p=[r];v.push(p),_=N+f,y=C}else p.push(r),_+=y+N,y=C}return d=f?function(z,q){return(q?T:"")+z.join(" ")}:function(z){return z.join(" ")},v.map(d)},qu.splitTextToSize=function(t,e,n){var r,o=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var v=this.internal.getFont(p.fontName,p.fontStyle);return v.metadata.Unicode?{widths:v.metadata.Unicode.widths||{0:1},kerning:v.metadata.Unicode.kerning||{}}:{font:v.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var l=1*this.internal.scaleFactor*e/o;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/o:0,a.lineIndent=n.lineIndent;var c,f,d=[];for(c=0,f=r.length;c<f;c++)d=d.concat($g.apply(this,[r[c],l,a]));return d},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},o=0;o<e.length;o++)n[e[o]]="0123456789abcdef"[o],r["0123456789abcdef"[o]]=e[o];var a=function(v){return"0x"+parseInt(v,10).toString(16)},l=t.__fontmetrics__.compress=function(v){var _,y,N,A,C=["{"];for(var T in v){if(_=v[T],isNaN(parseInt(T,10))?y="'"+T+"'":(T=parseInt(T,10),y=(y=a(T).slice(2)).slice(0,-1)+r[y.slice(-1)]),typeof _=="number")_<0?(N=a(_).slice(3),A="-"):(N=a(_).slice(2),A=""),N=A+N.slice(0,-1)+r[N.slice(-1)];else{if(En(_)!=="object")throw new Error("Don't know what to do with value type "+En(_)+".");N=l(_)}C.push(y+N)}return C.push("}"),C.join("")},c=t.__fontmetrics__.uncompress=function(v){if(typeof v!="string")throw new Error("Invalid argument passed to uncompress.");for(var _,y,N,A,C={},T=1,k=C,U=[],z="",q="",J=v.length-1,H=1;H<J;H+=1)(A=v[H])=="'"?_?(N=_.join(""),_=void 0):_=[]:_?_.push(A):A=="{"?(U.push([k,N]),k={},N=void 0):A=="}"?((y=U.pop())[0][y[1]]=k,N=void 0,k=y[0]):A=="-"?T=-1:N===void 0?n.hasOwnProperty(A)?(z+=n[A],N=parseInt(z,16)*T,T=1,z=""):z+=A:n.hasOwnProperty(A)?(q+=n[A],k[N]=parseInt(q,16)*T,T=1,N=void 0,q=""):q+=A;return C},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},p={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(v){var _=v.font,y=p.Unicode[_.postScriptName];y&&(_.metadata.Unicode={},_.metadata.Unicode.widths=y.widths,_.metadata.Unicode.kerning=y.kerning);var N=d.Unicode[_.postScriptName];N&&(_.metadata.Unicode.encoding=N,_.encoding=N.codePages[0])}])})(kt.API),(function(t){var e=function(n){for(var r=n.length,o=new Uint8Array(r),a=0;a<r;a++)o[a]=n.charCodeAt(a);return o};t.API.events.push(["addFont",function(n){var r=void 0,o=n.font,a=n.instance;if(!o.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");if(typeof(r=a.existsFileInVFS(o.postScriptName)===!1?a.loadFile(o.postScriptName):a.getFileFromVFS(o.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");(function(l,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(Kc(c)),l.metadata=t.API.TTFFont.open(c),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(o,r)}}])})(kt),(function(t){function e(){return(Dt.canvg?Promise.resolve(Dt.canvg):dp(()=>import("./index.es-BNio5PRt.js"),[])).catch((function(n){return Promise.reject(new Error("Could not load canvg: "+n))})).then((function(n){return n.default?n.default:n}))}kt.API.addSvgAsImage=function(n,r,o,a,l,c,f,d){if(isNaN(r)||isNaN(o))throw Pn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(l))throw Pn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var p=document.createElement("canvas");p.width=a,p.height=l;var v=p.getContext("2d");v.fillStyle="#fff",v.fillRect(0,0,p.width,p.height);var _={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},y=this;return e().then((function(N){return N.fromString(v,n,_)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(N){return N.render(_)})).then((function(){y.addImage(p.toDataURL("image/jpeg",1),r,o,a,l,f,d)}))}})(),kt.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var o=0;o<this.internal.pages[r].length;o++)this.internal.pages[r][o]=this.internal.pages[r][o].replace(e,n);return this},kt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,o,a,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(l),f=[],d=0,p=0,v=0;function _(N,A){var C,T=!1;for(C=0;C<N.length;C+=1)N[C]===A&&(T=!0);return T}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var y=c.length;for(v=0;v<y;v+=1)n[c[v]].value=n[c[v]].defaultValue,n[c[v]].explicitSet=!1}if(En(t)==="object"){for(o in t)if(a=t[o],_(c,o)&&a!==void 0){if(n[o].type==="boolean"&&typeof a=="boolean")n[o].value=a;else if(n[o].type==="name"&&_(n[o].valueSet,a))n[o].value=a;else if(n[o].type==="integer"&&Number.isInteger(a))n[o].value=a;else if(n[o].type==="array"){for(d=0;d<a.length;d+=1)if(r=!0,a[d].length===1&&typeof a[d][0]=="number")f.push(String(a[d]-1));else if(a[d].length>1){for(p=0;p<a[d].length;p+=1)typeof a[d][p]!="number"&&(r=!1);r===!0&&f.push([a[d][0]-1,a[d][1]-1].join(" "))}n[o].value="["+f.join(" ")+"]"}else n[o].value=n[o].defaultValue;n[o].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){var N,A=[];for(N in n)n[N].explicitSet===!0&&(n[N].type==="name"?A.push("/"+N+" /"+n[N].value):A.push("/"+N+" "+n[N].value));A.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+A.join(`
`)+`
>>`)})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},(function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',o=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),d=a.length+l.length+c.length+o.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(o+a+l+c+f),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,o){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:o||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}})(kt.API),(function(t){var e=t.API,n=e.pdfEscape16=function(a,l){for(var c,f=l.metadata.Unicode.widths,d=["","0","00","000","0000"],p=[""],v=0,_=a.length;v<_;++v){if(c=l.metadata.characterToGlyph(a.charCodeAt(v)),l.metadata.glyIdsUsed.push(c),l.metadata.toUnicode[c]=a.charCodeAt(v),f.indexOf(c)==-1&&(f.push(c),f.push([parseInt(l.metadata.widthOfGlyph(c),10)])),c=="0")return p.join("");c=c.toString(16),p.push(d[4-c.length],c)}return p.join("")},r=function(a){var l,c,f,d,p,v,_;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],v=0,_=(c=Object.keys(a).sort((function(y,N){return y-N}))).length;v<_;v++)l=c[v],f.length>=100&&(p+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),a[l]!==void 0&&a[l]!==null&&typeof a[l].toString=="function"&&(d=("0000"+a[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),f.push("<"+l+"><"+d+">"));return f.length&&(p+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),p+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(l){var c=l.font,f=l.out,d=l.newObject,p=l.putStream;if(c.metadata instanceof t.API.TTFFont&&c.encoding==="Identity-H"){for(var v=c.metadata.Unicode.widths,_=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),y="",N=0;N<_.length;N++)y+=String.fromCharCode(_[N]);var A=d();p({data:y,addLength1:!0,objectId:A}),f("endobj");var C=d();p({data:r(c.metadata.toUnicode),addLength1:!0,objectId:C}),f("endobj");var T=d();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+Hu(c.fontName)),f("/FontFile2 "+A+" 0 R"),f("/FontBBox "+t.API.PDFObject.convert(c.metadata.bbox)),f("/Flags "+c.metadata.flags),f("/StemV "+c.metadata.stemV),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f(">>"),f("endobj");var k=d();f("<<"),f("/Type /Font"),f("/BaseFont /"+Hu(c.fontName)),f("/FontDescriptor "+T+" 0 R"),f("/W "+t.API.PDFObject.convert(v)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+c.encoding+")"),f(">>"),f(">>"),f("endobj"),c.objectNumber=d(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+C+" 0 R"),f("/BaseFont /"+Hu(c.fontName)),f("/Encoding /"+c.encoding),f("/DescendantFonts ["+k+" 0 R]"),f(">>"),f("endobj"),c.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(l){var c=l.font,f=l.out,d=l.newObject,p=l.putStream;if(c.metadata instanceof t.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var v=c.metadata.rawData,_="",y=0;y<v.length;y++)_+=String.fromCharCode(v[y]);var N=d();p({data:_,addLength1:!0,objectId:N}),f("endobj");var A=d();p({data:r(c.metadata.toUnicode),addLength1:!0,objectId:A}),f("endobj");var C=d();f("<<"),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f("/StemV "+c.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+N+" 0 R"),f("/Flags 96"),f("/FontBBox "+t.API.PDFObject.convert(c.metadata.bbox)),f("/FontName /"+Hu(c.fontName)),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f(">>"),f("endobj"),c.objectNumber=d();for(var T=0;T<c.metadata.hmtx.widths.length;T++)c.metadata.hmtx.widths[T]=parseInt(c.metadata.hmtx.widths[T]*(1e3/c.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+A+" 0 R/BaseFont/"+Hu(c.fontName)+"/FontDescriptor "+C+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),f("endobj"),c.isAlreadyPutted=!0}})(a)}]);var o=function(a){var l,c=a.text||"",f=a.x,d=a.y,p=a.options||{},v=a.mutex||{},_=v.pdfEscape,y=v.activeFontKey,N=v.fonts,A=y,C="",T=0,k="",U=N[A].encoding;if(N[A].encoding!=="Identity-H")return{text:c,x:f,y:d,options:p,mutex:v};for(k=c,A=y,Array.isArray(c)&&(k=c[0]),T=0;T<k.length;T+=1)N[A].metadata.hasOwnProperty("cmap")&&(l=N[A].metadata.cmap.unicode.codeMap[k[T].charCodeAt(0)]),l||k[T].charCodeAt(0)<256&&N[A].metadata.hasOwnProperty("Unicode")?C+=k[T]:C+="";var z="";return parseInt(A.slice(1))<14||U==="WinAnsiEncoding"?z=_(C,A).split("").map((function(q){return q.charCodeAt(0).toString(16)})).join(""):U==="Identity-H"&&(z=n(C,N[A])),v.isHex=!0,{text:z,x:f,y:d,options:p,mutex:v}};e.events.push(["postProcessText",function(a){var l=a.text||"",c=[],f={text:l,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(l)){var d=0;for(d=0;d<l.length;d+=1)Array.isArray(l[d])&&l[d].length===3?c.push([o(Object.assign({},f,{text:l[d][0]})).text,l[d][1],l[d][2]]):c.push(o(Object.assign({},f,{text:l[d]})).text);a.text=c}else a.text=o(Object.assign({},f,{text:l})).text}])})(kt),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(kt.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var o,a,l,c,f,d,p,v=e,_=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],N={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},A={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},C=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],T=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),k=!1,U=0;this.__bidiEngine__={};var z=function(B){var D=B.charCodeAt(),X=D>>8,I=A[X];return I!==void 0?v[256*I+(255&D)]:X===252||X===253?"AL":T.test(X)?"L":X===8?"R":"N"},q=function(B){for(var D,X=0;X<B.length;X++){if((D=z(B.charAt(X)))==="L")return!1;if(D==="R")return!0}return!1},J=function(B,D,X,I){var ce,oe,le,me,ge=D[I];switch(ge){case"L":case"R":k=!1;break;case"N":case"AN":break;case"EN":k&&(ge="AN");break;case"AL":k=!0,ge="R";break;case"WS":ge="N";break;case"CS":I<1||I+1>=D.length||(ce=X[I-1])!=="EN"&&ce!=="AN"||(oe=D[I+1])!=="EN"&&oe!=="AN"?ge="N":k&&(oe="AN"),ge=oe===ce?oe:"N";break;case"ES":ge=(ce=I>0?X[I-1]:"B")==="EN"&&I+1<D.length&&D[I+1]==="EN"?"EN":"N";break;case"ET":if(I>0&&X[I-1]==="EN"){ge="EN";break}if(k){ge="N";break}for(le=I+1,me=D.length;le<me&&D[le]==="ET";)le++;ge=le<me&&D[le]==="EN"?"EN":"N";break;case"NSM":if(l&&!c){for(me=D.length,le=I+1;le<me&&D[le]==="NSM";)le++;if(le<me){var Ne=B[I],Y=Ne>=1425&&Ne<=2303||Ne===64286;if(ce=D[le],Y&&(ce==="R"||ce==="AL")){ge="R";break}}}ge=I<1||(ce=D[I-1])==="B"?"N":X[I-1];break;case"B":k=!1,o=!0,ge=U;break;case"S":a=!0,ge="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":k=!1;break;case"BN":ge="N"}return ge},H=function(B,D,X){var I=B.split("");return X&&Z(I,X,{hiLevel:U}),I.reverse(),D&&D.reverse(),I.join("")},Z=function(B,D,X){var I,ce,oe,le,me,ge=-1,Ne=B.length,Y=0,R=[],G=U?y:_,K=[];for(k=!1,o=!1,a=!1,ce=0;ce<Ne;ce++)K[ce]=z(B[ce]);for(oe=0;oe<Ne;oe++){if(me=Y,R[oe]=J(B,K,R,oe),I=240&(Y=G[me][N[R[oe]]]),Y&=15,D[oe]=le=G[Y][5],I>0)if(I===16){for(ce=ge;ce<oe;ce++)D[ce]=1;ge=-1}else ge=-1;if(G[Y][6])ge===-1&&(ge=oe);else if(ge>-1){for(ce=ge;ce<oe;ce++)D[ce]=le;ge=-1}K[oe]==="B"&&(D[oe]=0),X.hiLevel|=le}a&&(function(ie,ve,Te){for(var we=0;we<Te;we++)if(ie[we]==="S"){ve[we]=U;for(var Se=we-1;Se>=0&&ie[Se]==="WS";Se--)ve[Se]=U}})(K,D,Ne)},W=function(B,D,X,I,ce){if(!(ce.hiLevel<B)){if(B===1&&U===1&&!o)return D.reverse(),void(X&&X.reverse());for(var oe,le,me,ge,Ne=D.length,Y=0;Y<Ne;){if(I[Y]>=B){for(me=Y+1;me<Ne&&I[me]>=B;)me++;for(ge=Y,le=me-1;ge<le;ge++,le--)oe=D[ge],D[ge]=D[le],D[le]=oe,X&&(oe=X[ge],X[ge]=X[le],X[le]=oe);Y=me}Y++}}},ae=function(B,D,X){var I=B.split(""),ce={hiLevel:U};return X||(X=[]),Z(I,X,ce),(function(oe,le,me){if(me.hiLevel!==0&&p)for(var ge,Ne=0;Ne<oe.length;Ne++)le[Ne]===1&&(ge=C.indexOf(oe[Ne]))>=0&&(oe[Ne]=C[ge+1])})(I,X,ce),W(2,I,D,X,ce),W(1,I,D,X,ce),I.join("")};return this.__bidiEngine__.doBidiReorder=function(B,D,X){if((function(ce,oe){if(oe)for(var le=0;le<ce.length;le++)oe[le]=le;c===void 0&&(c=q(ce)),d===void 0&&(d=q(ce))})(B,D),l||!f||d)if(l&&f&&c^d)U=c?1:0,B=H(B,D,X);else if(!l&&f&&d)U=c?1:0,B=ae(B,D,X),B=H(B,D);else if(!l||c||f||d){if(l&&!f&&c^d)B=H(B,D),c?(U=0,B=ae(B,D,X)):(U=1,B=ae(B,D,X),B=H(B,D));else if(l&&c&&!f&&d)U=1,B=ae(B,D,X),B=H(B,D);else if(!l&&!f&&c^d){var I=p;c?(U=1,B=ae(B,D,X),U=0,p=!1,B=ae(B,D,X),p=I):(U=0,B=ae(B,D,X),B=H(B,D),U=1,p=!1,B=ae(B,D,X),p=I,B=H(B,D))}}else U=0,B=ae(B,D,X);else U=c?1:0,B=ae(B,D,X);return B},this.__bidiEngine__.setOptions=function(B){B&&(l=B.isInputVisual,f=B.isOutputVisual,c=B.isInputRtl,d=B.isOutputRtl,p=B.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var o=r.text,a=(r.x,r.y,r.options||{}),l=(r.mutex,a.lang,[]);if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(o)==="[object Array]"){var c=0;for(l=[],c=0;c<o.length;c+=1)Object.prototype.toString.call(o[c])==="[object Array]"?l.push([n.doBidiReorder(o[c][0]),o[c][1],o[c][2]]):l.push([n.doBidiReorder(o[c])]);r.text=l}else r.text=n.doBidiReorder(o);n.setOptions({isInputVisual:!0})}])})(kt),kt.API.TTFFont=(function(){function t(e){var n;if(this.rawData=e,n=this.contents=new wl(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Qb(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new Bb(this.contents),this.head=new qb(this),this.name=new Yb(this),this.cmap=new Tv(this),this.toUnicode={},this.hhea=new Gb(this),this.maxp=new Jb(this),this.hmtx=new Wb(this),this.post=new Vb(this),this.os2=new Hb(this),this.loca=new $b(this),this.glyf=new Kb(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,o,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,c,f,d;for(d=[],l=0,c=(f=this.bbox).length;l<c;l++)e=f[l],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(o=this.post.italic_angle),(32768&(n=o>>16))!=0&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var o,a,l,c;for(l=0,a=0,c=(e=""+e).length;0<=c?a<c:a>c;a=0<=c?++a:--a)o=e.charCodeAt(a),l+=this.widthOfGlyph(this.characterToGlyph(o))+r*(1e3/n)||0;return l*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t})();var lo,wl=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,o;for(o=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)o.push(this.writeByte(e.charCodeAt(n)));return o},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,o,a,l,c,f;return e=this.readByte(),n=this.readByte(),r=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),c=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^o)+16777216*(255^a)+65536*(255^l)+256*(255^c)+(255^f)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*o+16777216*a+65536*l+256*c+f},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,o,a;for(a=[],r=0,o=e.length;r<o;r++)n=e[r],a.push(this.writeByte(n));return a},t})(),Bb=(function(){var t;function e(n){var r,o,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},o=0,a=this.tableCount;0<=a?o<a:o>a;o=0<=a?++o:--o)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,o,a,l,c,f,d,p,v,_,y,N,A;for(A in y=Object.keys(n).length,f=Math.log(2),v=16*Math.floor(Math.log(y)/f),l=Math.floor(v/f),p=16*y-v,(o=new wl).writeInt(this.scalarType),o.writeShort(y),o.writeShort(v),o.writeShort(l),o.writeShort(p),a=16*y,d=o.pos+a,c=null,N=[],n)for(_=n[A],o.writeString(A),o.writeInt(t(_)),o.writeInt(d),o.writeInt(_.length),N=N.concat(_),A==="head"&&(c=d),d+=_.length;d%4;)N.push(0),d++;return o.write(N),r=2981146554-t(o.data),o.pos=c+8,o.writeUInt32(r),o.data},t=function(n){var r,o,a,l;for(n=Nv.call(n);n.length%4;)n.push(0);for(a=new wl(n),o=0,r=0,l=n.length;r<l;r=r+=4)o+=a.readUInt32();return 4294967295&o},e})(),zb={}.hasOwnProperty,Vo=function(t,e){for(var n in e)zb.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};lo=(function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var qb=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Vo(e,lo),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new wl).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e})(),t1=(function(){function t(e,n){var r,o,a,l,c,f,d,p,v,_,y,N,A,C,T,k,U;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),v=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(y=e.readUInt16(),_=y/2,e.pos+=6,a=(function(){var z,q;for(q=[],f=z=0;0<=_?z<_:z>_;f=0<=_?++z:--z)q.push(e.readUInt16());return q})(),e.pos+=2,A=(function(){var z,q;for(q=[],f=z=0;0<=_?z<_:z>_;f=0<=_?++z:--z)q.push(e.readUInt16());return q})(),d=(function(){var z,q;for(q=[],f=z=0;0<=_?z<_:z>_;f=0<=_?++z:--z)q.push(e.readUInt16());return q})(),p=(function(){var z,q;for(q=[],f=z=0;0<=_?z<_:z>_;f=0<=_?++z:--z)q.push(e.readUInt16());return q})(),o=(this.length-e.pos+this.offset)/2,c=(function(){var z,q;for(q=[],f=z=0;0<=o?z<o:z>o;f=0<=o?++z:--z)q.push(e.readUInt16());return q})(),f=T=0,U=a.length;T<U;f=++T)for(C=a[f],r=k=N=A[f];N<=C?k<=C:k>=C;r=N<=C?++k:--k)p[f]===0?l=r+d[f]:(l=c[p[f]/2+(r-N)-(_-f)]||0)!==0&&(l+=d[f]),this.codeMap[r]=65535&l}e.pos=v}return t.encode=function(e,n){var r,o,a,l,c,f,d,p,v,_,y,N,A,C,T,k,U,z,q,J,H,Z,W,ae,B,D,X,I,ce,oe,le,me,ge,Ne,Y,R,G,K,ie,ve,Te,we,Se,We,Ye,st;switch(I=new wl,l=Object.keys(e).sort((function(ot,F){return ot-F})),n){case"macroman":for(A=0,C=(function(){var ot=[];for(N=0;N<256;++N)ot.push(0);return ot})(),k={0:0},a={},ce=0,ge=l.length;ce<ge;ce++)k[Se=e[o=l[ce]]]==null&&(k[Se]=++A),a[o]={old:e[o],new:k[e[o]]},C[o]=k[e[o]];return I.writeUInt16(1),I.writeUInt16(0),I.writeUInt32(12),I.writeUInt16(0),I.writeUInt16(262),I.writeUInt16(0),I.write(C),{charMap:a,subtable:I.data,maxGlyphID:A+1};case"unicode":for(D=[],v=[],U=0,k={},r={},T=d=null,oe=0,Ne=l.length;oe<Ne;oe++)k[q=e[o=l[oe]]]==null&&(k[q]=++U),r[o]={old:q,new:k[q]},c=k[q]-o,T!=null&&c===d||(T&&v.push(T),D.push(o),d=c),T=o;for(T&&v.push(T),v.push(65535),D.push(65535),ae=2*(W=D.length),Z=2*Math.pow(Math.log(W)/Math.LN2,2),_=Math.log(Z/2)/Math.LN2,H=2*W-Z,f=[],J=[],y=[],N=le=0,Y=D.length;le<Y;N=++le){if(B=D[N],p=v[N],B===65535){f.push(0),J.push(0);break}if(B-(X=r[B].new)>=32768)for(f.push(0),J.push(2*(y.length+W-N)),o=me=B;B<=p?me<=p:me>=p;o=B<=p?++me:--me)y.push(r[o].new);else f.push(X-B),J.push(0)}for(I.writeUInt16(3),I.writeUInt16(1),I.writeUInt32(12),I.writeUInt16(4),I.writeUInt16(16+8*W+2*y.length),I.writeUInt16(0),I.writeUInt16(ae),I.writeUInt16(Z),I.writeUInt16(_),I.writeUInt16(H),Te=0,R=v.length;Te<R;Te++)o=v[Te],I.writeUInt16(o);for(I.writeUInt16(0),we=0,G=D.length;we<G;we++)o=D[we],I.writeUInt16(o);for(We=0,K=f.length;We<K;We++)c=f[We],I.writeUInt16(c);for(Ye=0,ie=J.length;Ye<ie;Ye++)z=J[Ye],I.writeUInt16(z);for(st=0,ve=y.length;st<ve;st++)A=y[st],I.writeUInt16(A);return{charMap:r,subtable:I.data,maxGlyphID:U+1}}},t})(),Tv=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Vo(e,lo),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,o,a;for(n.pos=this.offset,this.version=n.readUInt16(),a=n.readUInt16(),this.tables=[],this.unicode=null,o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)r=new t1(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var o,a;return r==null&&(r="macroman"),o=t1.encode(n,r),(a=new wl).writeUInt16(0),a.writeUInt16(1),o.table=a.data.concat(o.subtable),o},e})(),Gb=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Vo(e,lo),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e})(),Hb=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Vo(e,lo),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=(function(){var r,o;for(o=[],r=0;r<10;++r)o.push(n.readByte());return o})(),this.charRange=(function(){var r,o;for(o=[],r=0;r<4;++r)o.push(n.readInt());return o})(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=(function(){var r,o;for(o=[],r=0;r<2;r=++r)o.push(n.readInt());return o})(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e})(),Vb=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Vo(e,lo),e.prototype.tag="post",e.prototype.parse=function(n){var r,o,a;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var l;for(o=n.readUInt16(),this.glyphNameIndex=[],l=0;0<=o?l<o:l>o;l=0<=o?++l:--l)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],a=[];n.pos<this.offset+this.length;)r=n.readByte(),a.push(this.names.push(n.readString(r)));return a;case 151552:return o=n.readUInt16(),this.offsets=n.read(o);case 196608:break;case 262144:return this.map=(function(){var c,f,d;for(d=[],l=c=0,f=this.file.maxp.numGlyphs;0<=f?c<f:c>f;l=0<=f?++c:--c)d.push(n.readUInt32());return d}).call(this)}},e})(),jb=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Yb=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Vo(e,lo),e.prototype.tag="name",e.prototype.parse=function(n){var r,o,a,l,c,f,d,p,v,_,y;for(n.pos=this.offset,n.readShort(),r=n.readShort(),f=n.readShort(),o=[],l=0;0<=r?l<r:l>r;l=0<=r?++l:--l)o.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+f+n.readShort()});for(d={},l=v=0,_=o.length;v<_;l=++v)a=o[l],n.pos=a.offset,p=n.readString(a.length),c=new jb(p,a),d[y=a.nameID]==null&&(d[y]=[]),d[a.nameID].push(c);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},e})(),Jb=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Vo(e,lo),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e})(),Wb=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Vo(e,lo),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,o,a,l,c,f,d;for(n.pos=this.offset,this.metrics=[],r=0,f=this.file.hhea.numberOfMetrics;0<=f?r<f:r>f;r=0<=f?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var p,v;for(v=[],r=p=0;0<=a?p<a:p>a;r=0<=a?++p:--p)v.push(n.readInt16());return v})(),this.widths=(function(){var p,v,_,y;for(y=[],p=0,v=(_=this.metrics).length;p<v;p++)l=_[p],y.push(l.advance);return y}).call(this),o=this.widths[this.widths.length-1],d=[],r=c=0;0<=a?c<a:c>a;r=0<=a?++c:--c)d.push(this.widths.push(o));return d},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e})(),Nv=[].slice,Kb=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Vo(e,lo),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,o,a,l,c,f,d,p,v,_;return n in this.cache?this.cache[n]:(l=this.file.loca,r=this.file.contents,o=l.indexOf(n),(a=l.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+o,c=(f=new wl(r.read(a))).readShort(),p=f.readShort(),_=f.readShort(),d=f.readShort(),v=f.readShort(),this.cache[n]=c===-1?new Zb(f,p,_,d,v):new Xb(f,c,p,_,d,v),this.cache[n]))},e.prototype.encode=function(n,r,o){var a,l,c,f,d;for(c=[],l=[],f=0,d=r.length;f<d;f++)a=n[r[f]],l.push(c.length),a&&(c=c.concat(a.encode(o)));return l.push(c.length),{table:c,offsets:l}},e})(),Xb=(function(){function t(e,n,r,o,a,l){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=o,this.xMax=a,this.yMax=l,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),Zb=(function(){function t(e,n,r,o,a){var l,c;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=o,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;c=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&c;)l.pos+=1&c?4:2,128&c?l.pos+=8:64&c?l.pos+=4:8&c&&(l.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new wl(Nv.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t})(),$b=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Vo(e,lo),e.prototype.tag="loca",e.prototype.parse=function(n){var r,o;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,l;for(l=[],o=0,a=this.length;o<a;o+=2)l.push(2*n.readUInt16());return l}).call(this):(function(){var a,l;for(l=[],o=0,a=this.length;o<a;o+=4)l.push(n.readUInt32());return l}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var o=new Uint32Array(this.offsets.length),a=0,l=0,c=0;c<o.length;++c)if(o[c]=a,l<r.length&&r[l]==c){++l,o[c]=a;var f=this.offsets[c],d=this.offsets[c+1]-f;d>0&&(a+=d)}for(var p=new Array(4*o.length),v=0;v<o.length;++v)p[4*v+3]=255&o[v],p[4*v+2]=(65280&o[v])>>8,p[4*v+1]=(16711680&o[v])>>16,p[4*v]=(4278190080&o[v])>>24;return p},e})(),Qb=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,o,a;for(n in o=this.font.cmap.tables[0].codeMap,e={},a=this.subset)r=a[n],e[n]=o[r];return e},t.prototype.glyphsFor=function(e){var n,r,o,a,l,c,f;for(o={},l=0,c=e.length;l<c;l++)o[a=e[l]]=this.font.glyf.glyphFor(a);for(a in n=[],o)(r=o[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in f=this.glyphsFor(n))r=f[a],o[a]=r;return o},t.prototype.encode=function(e,n){var r,o,a,l,c,f,d,p,v,_,y,N,A,C,T;for(o in r=Tv.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(e),y={0:0},T=r.charMap)y[(f=T[o]).old]=f.new;for(N in _=r.maxGlyphID,l)N in y||(y[N]=_++);return p=(function(k){var U,z;for(U in z={},k)z[k[U]]=U;return z})(y),v=Object.keys(p).sort((function(k,U){return k-U})),A=(function(){var k,U,z;for(z=[],k=0,U=v.length;k<U;k++)c=v[k],z.push(p[c]);return z})(),a=this.font.glyf.encode(l,A,y),d=this.font.loca.encode(a.offsets,A),C={cmap:this.font.cmap.raw(),glyf:a.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(C["OS/2"]=this.font.os2.raw()),this.font.directory.encode(C)},t})();kt.API.PDFObject=(function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,o,a,l;if(Array.isArray(n))return"["+(function(){var c,f,d;for(d=[],c=0,f=n.length;c<f;c++)r=n[c],d.push(e.convert(r));return d})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(o in a=["<<"],n)l=n[o],a.push("/"+o+" "+e.convert(l));return a.push(">>"),a.join(`
`)}return""+n},e})();const Cv=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:M.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),Lv=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h10a2 2 0 012 2v13a2 2 0 01-2 2z"})}),e3=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),t3=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5v4m0 0h-4m4 0l-5-5"})}),n3=({isOpen:t,onClose:e,imageSrc:n})=>t?M.jsx("div",{className:"fixed inset-0 bg-slate-900/80 flex items-center justify-center z-50 p-4 backdrop-blur-sm animate-fade-in",onClick:e,children:M.jsxs("div",{className:"relative max-w-4xl max-h-[90vh] bg-slate-900 border border-slate-700 rounded-xl shadow-2xl p-4",onClick:r=>r.stopPropagation(),children:[M.jsx("img",{src:n,alt:"Preview",className:"w-auto h-auto max-w-full max-h-full object-contain rounded-lg"}),M.jsx("button",{onClick:e,className:"absolute -top-3 -right-3 p-1.5 bg-slate-800 rounded-full text-slate-300 hover:bg-red-500 hover:text-white transition-colors","aria-label":"Close preview",children:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}):null,i3=Object.prototype.toString,r3=t=>i3.call(t)==="[object Error]",s3=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function o3(t){if(!(t&&r3(t)&&t.name==="TypeError"&&typeof t.message=="string"))return!1;const{message:n,stack:r}=t;return n==="Load failed"?r===void 0||"__sentry_captured__"in t:n.startsWith("error sending request for url")?!0:s3.has(n)}function a3(t){if(typeof t=="number"){if(t<0)throw new TypeError("Expected `retries` to be a non-negative number.");if(Number.isNaN(t))throw new TypeError("Expected `retries` to be a valid number or Infinity, got NaN.")}else if(t!==void 0)throw new TypeError("Expected `retries` to be a number or Infinity.")}function Xf(t,e,{min:n=0,allowInfinity:r=!1}={}){if(e!==void 0){if(typeof e!="number"||Number.isNaN(e))throw new TypeError(`Expected \`${t}\` to be a number${r?" or Infinity":""}.`);if(!r&&!Number.isFinite(e))throw new TypeError(`Expected \`${t}\` to be a finite number.`);if(e<n)throw new TypeError(`Expected \`${t}\` to be  ${n}.`)}}class Iv extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}function l3(t,e){const n=Math.max(1,t+1),r=e.randomize?Math.random()+1:1;let o=Math.round(r*e.minTimeout*e.factor**(n-1));return o=Math.min(o,e.maxTimeout),o}function n1(t,e){return Number.isFinite(e)?e-(performance.now()-t):e}async function u3({error:t,attemptNumber:e,retriesConsumed:n,startTime:r,options:o}){var y,N,A,C;const a=t instanceof Error?t:new TypeError(`Non-error was thrown: "${t}". You should only throw errors.`);if(a instanceof Iv)throw a.originalError;const l=Number.isFinite(o.retries)?Math.max(0,o.retries-n):o.retries,c=o.maxRetryTime??Number.POSITIVE_INFINITY,f=Object.freeze({error:a,attemptNumber:e,retriesLeft:l,retriesConsumed:n});if(await o.onFailedAttempt(f),n1(r,c)<=0)throw a;const d=await o.shouldConsumeRetry(f),p=n1(r,c);if(p<=0||l<=0)throw a;if(a instanceof TypeError&&!o3(a)){if(d)throw a;return(y=o.signal)==null||y.throwIfAborted(),!1}if(!await o.shouldRetry(f))throw a;if(!d)return(N=o.signal)==null||N.throwIfAborted(),!1;const v=l3(n,o),_=Math.min(v,p);return(A=o.signal)==null||A.throwIfAborted(),_>0&&await new Promise((T,k)=>{var q,J;const U=()=>{var H;clearTimeout(z),(H=o.signal)==null||H.removeEventListener("abort",U),k(o.signal.reason)},z=setTimeout(()=>{var H;(H=o.signal)==null||H.removeEventListener("abort",U),T()},_);o.unref&&((q=z.unref)==null||q.call(z)),(J=o.signal)==null||J.addEventListener("abort",U,{once:!0})}),(C=o.signal)==null||C.throwIfAborted(),!0}async function c3(t,e={}){var a,l,c;if(e={...e},a3(e.retries),Object.hasOwn(e,"forever"))throw new Error("The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.");e.retries??(e.retries=10),e.factor??(e.factor=2),e.minTimeout??(e.minTimeout=1e3),e.maxTimeout??(e.maxTimeout=Number.POSITIVE_INFINITY),e.maxRetryTime??(e.maxRetryTime=Number.POSITIVE_INFINITY),e.randomize??(e.randomize=!1),e.onFailedAttempt??(e.onFailedAttempt=()=>{}),e.shouldRetry??(e.shouldRetry=()=>!0),e.shouldConsumeRetry??(e.shouldConsumeRetry=()=>!0),Xf("factor",e.factor,{min:0,allowInfinity:!1}),Xf("minTimeout",e.minTimeout,{min:0,allowInfinity:!1}),Xf("maxTimeout",e.maxTimeout,{min:0,allowInfinity:!0}),Xf("maxRetryTime",e.maxRetryTime,{min:0,allowInfinity:!0}),e.factor>0||(e.factor=1),(a=e.signal)==null||a.throwIfAborted();let n=0,r=0;const o=performance.now();for(;!Number.isFinite(e.retries)||r<=e.retries;){n++;try{(l=e.signal)==null||l.throwIfAborted();const f=await t(n);return(c=e.signal)==null||c.throwIfAborted(),f}catch(f){await u3({error:f,attemptNumber:n,retriesConsumed:r,startTime:o,options:e})&&r++}}throw new Error("Retry attempts exhausted without throwing an error.")}var f3={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let d3,h3;function p3(){return{geminiUrl:d3,vertexUrl:h3}}function m3(t,e,n,r){var o,a;if(!(t!=null&&t.baseUrl)){const l=p3();return e?(o=l.vertexUrl)!==null&&o!==void 0?o:n:(a=l.geminiUrl)!==null&&a!==void 0?a:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Na{}function ht(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const a=e[o];return a!=null?String(a):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function b(t,e,n){for(let a=0;a<e.length-1;a++){const l=e[a];if(l.endsWith("[]")){const c=l.slice(0,-2);if(!(c in t))if(Array.isArray(n))t[c]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(t[c])){const f=t[c];if(Array.isArray(n))for(let d=0;d<f.length;d++){const p=f[d];b(p,e.slice(a+1),n[d])}else for(const d of f)b(d,e.slice(a+1),n)}return}else if(l.endsWith("[0]")){const c=l.slice(0,-3);c in t||(t[c]=[{}]);const f=t[c];b(f[0],e.slice(a+1),n);return}(!t[l]||typeof t[l]!="object")&&(t[l]={}),t=t[l]}const r=e[e.length-1],o=t[r];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function m(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const o=e[r];if(o.endsWith("[]")){const a=o.slice(0,-2);if(a in t){const l=t[a];return Array.isArray(l)?l.map(c=>m(c,e.slice(r+1),n)):n}else return n}else t=t[o]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function g3(t,e){for(const[n,r]of Object.entries(e)){const o=n.split("."),a=r.split("."),l=new Set;let c=-1;for(let f=0;f<o.length;f++)if(o[f]==="*"){c=f;break}if(c!==-1&&a.length>c)for(let f=c;f<a.length;f++){const d=a[f];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&l.add(d)}Ap(t,o,a,0,l)}}function Ap(t,e,n,r,o){if(r>=e.length||typeof t!="object"||t===null)return;const a=e[r];if(a.endsWith("[]")){const l=a.slice(0,-2),c=t;if(l in c&&Array.isArray(c[l]))for(const f of c[l])Ap(f,e,n,r+1,o)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const l=t,c=Object.keys(l).filter(d=>!d.startsWith("_")&&!o.has(d)),f={};for(const d of c)f[d]=l[d];for(const[d,p]of Object.entries(f)){const v=[];for(const _ of n.slice(r))_==="*"?v.push(d):v.push(_);b(l,v,p)}for(const d of c)delete l[d]}}else{const l=t;a in l&&Ap(l[a],e,n,r+1,o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xp(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function v3(t){const e={},n=m(t,["operationName"]);n!=null&&b(e,["operationName"],n);const r=m(t,["resourceName"]);return r!=null&&b(e,["_url","resourceName"],r),e}function y3(t){const e={},n=m(t,["name"]);n!=null&&b(e,["name"],n);const r=m(t,["metadata"]);r!=null&&b(e,["metadata"],r);const o=m(t,["done"]);o!=null&&b(e,["done"],o);const a=m(t,["error"]);a!=null&&b(e,["error"],a);const l=m(t,["response","generateVideoResponse"]);return l!=null&&b(e,["response"],_3(l)),e}function b3(t){const e={},n=m(t,["name"]);n!=null&&b(e,["name"],n);const r=m(t,["metadata"]);r!=null&&b(e,["metadata"],r);const o=m(t,["done"]);o!=null&&b(e,["done"],o);const a=m(t,["error"]);a!=null&&b(e,["error"],a);const l=m(t,["response"]);return l!=null&&b(e,["response"],w3(l)),e}function _3(t){const e={},n=m(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>x3(l))),b(e,["generatedVideos"],a)}const r=m(t,["raiMediaFilteredCount"]);r!=null&&b(e,["raiMediaFilteredCount"],r);const o=m(t,["raiMediaFilteredReasons"]);return o!=null&&b(e,["raiMediaFilteredReasons"],o),e}function w3(t){const e={},n=m(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>S3(l))),b(e,["generatedVideos"],a)}const r=m(t,["raiMediaFilteredCount"]);r!=null&&b(e,["raiMediaFilteredCount"],r);const o=m(t,["raiMediaFilteredReasons"]);return o!=null&&b(e,["raiMediaFilteredReasons"],o),e}function x3(t){const e={},n=m(t,["video"]);return n!=null&&b(e,["video"],L3(n)),e}function S3(t){const e={},n=m(t,["_self"]);return n!=null&&b(e,["video"],I3(n)),e}function A3(t){const e={},n=m(t,["operationName"]);return n!=null&&b(e,["_url","operationName"],n),e}function E3(t){const e={},n=m(t,["operationName"]);return n!=null&&b(e,["_url","operationName"],n),e}function T3(t){const e={},n=m(t,["name"]);n!=null&&b(e,["name"],n);const r=m(t,["metadata"]);r!=null&&b(e,["metadata"],r);const o=m(t,["done"]);o!=null&&b(e,["done"],o);const a=m(t,["error"]);a!=null&&b(e,["error"],a);const l=m(t,["response"]);return l!=null&&b(e,["response"],N3(l)),e}function N3(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=m(t,["parent"]);r!=null&&b(e,["parent"],r);const o=m(t,["documentName"]);return o!=null&&b(e,["documentName"],o),e}function Mv(t){const e={},n=m(t,["name"]);n!=null&&b(e,["name"],n);const r=m(t,["metadata"]);r!=null&&b(e,["metadata"],r);const o=m(t,["done"]);o!=null&&b(e,["done"],o);const a=m(t,["error"]);a!=null&&b(e,["error"],a);const l=m(t,["response"]);return l!=null&&b(e,["response"],C3(l)),e}function C3(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=m(t,["parent"]);r!=null&&b(e,["parent"],r);const o=m(t,["documentName"]);return o!=null&&b(e,["documentName"],o),e}function L3(t){const e={},n=m(t,["uri"]);n!=null&&b(e,["uri"],n);const r=m(t,["encodedVideo"]);r!=null&&b(e,["videoBytes"],Xp(r));const o=m(t,["encoding"]);return o!=null&&b(e,["mimeType"],o),e}function I3(t){const e={},n=m(t,["gcsUri"]);n!=null&&b(e,["uri"],n);const r=m(t,["bytesBase64Encoded"]);r!=null&&b(e,["videoBytes"],Xp(r));const o=m(t,["mimeType"]);return o!=null&&b(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var i1;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(i1||(i1={}));var r1;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(r1||(r1={}));var s1;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(s1||(s1={}));var bl;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(bl||(bl={}));var o1;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(o1||(o1={}));var a1;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(a1||(a1={}));var l1;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(l1||(l1={}));var u1;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(u1||(u1={}));var c1;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(c1||(c1={}));var f1;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(f1||(f1={}));var d1;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(d1||(d1={}));var h1;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(h1||(h1={}));var p1;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(p1||(p1={}));var m1;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(m1||(m1={}));var g1;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(g1||(g1={}));var v1;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(v1||(v1={}));var y1;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(y1||(y1={}));var b1;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(b1||(b1={}));var _1;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(_1||(_1={}));var w1;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(w1||(w1={}));var x1;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(x1||(x1={}));var hd;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(hd||(hd={}));var S1;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(S1||(S1={}));var A1;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(A1||(A1={}));var E1;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(E1||(E1={}));var Ep;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ep||(Ep={}));var T1;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(T1||(T1={}));var N1;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(N1||(N1={}));var Tp;(function(t){t.COLLECTION="COLLECTION"})(Tp||(Tp={}));var C1;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(C1||(C1={}));var L1;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(L1||(L1={}));var I1;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(I1||(I1={}));var M1;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(M1||(M1={}));var R1;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(R1||(R1={}));var k1;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(k1||(k1={}));var D1;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(D1||(D1={}));var P1;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(P1||(P1={}));var U1;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(U1||(U1={}));var O1;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(O1||(O1={}));var F1;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(F1||(F1={}));var B1;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(B1||(B1={}));var z1;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(z1||(z1={}));var q1;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING",t.DISTILLATION="DISTILLATION"})(q1||(q1={}));var G1;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(G1||(G1={}));var H1;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(H1||(H1={}));var V1;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(V1||(V1={}));var j1;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(j1||(j1={}));var Y1;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Y1||(Y1={}));var J1;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(J1||(J1={}));var W1;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(W1||(W1={}));var K1;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(K1||(K1={}));var X1;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(X1||(X1={}));var Z1;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Z1||(Z1={}));var $1;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})($1||($1={}));var Q1;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Q1||(Q1={}));var e2;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(e2||(e2={}));var Yu;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Yu||(Yu={}));class Np{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class jc{get text(){var e,n,r,o,a,l,c,f;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",p=!1;const v=[];for(const _ of(f=(c=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)!==null&&f!==void 0?f:[]){for(const[y,N]of Object.entries(_))y!=="text"&&y!=="thought"&&y!=="thoughtSignature"&&(N!==null||N!==void 0)&&v.push(y);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;p=!0,d+=_.text}}return v.length>0&&console.warn(`there are non-text parts ${v} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),p?d:void 0}get data(){var e,n,r,o,a,l,c,f;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const p=[];for(const v of(f=(c=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)!==null&&f!==void 0?f:[]){for(const[_,y]of Object.entries(v))_!=="inlineData"&&(y!==null||y!==void 0)&&p.push(_);v.inlineData&&typeof v.inlineData.data=="string"&&(d+=atob(v.inlineData.data))}return p.length>0&&console.warn(`there are non-data parts ${p} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,r,o,a,l,c,f;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(f=(c=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(p=>p.functionCall).map(p=>p.functionCall).filter(p=>p!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,r,o,a,l,c,f,d;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const p=(f=(c=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(v=>v.executableCode).map(v=>v.executableCode).filter(v=>v!==void 0);if((p==null?void 0:p.length)!==0)return(d=p==null?void 0:p[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,r,o,a,l,c,f,d;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const p=(f=(c=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(v=>v.codeExecutionResult).map(v=>v.codeExecutionResult).filter(v=>v!==void 0);if((p==null?void 0:p.length)!==0)return(d=p==null?void 0:p[0])===null||d===void 0?void 0:d.output}}class t2{}class n2{}class M3{}class R3{}class k3{}class D3{}class i2{}class r2{}class s2{}class P3{}class pd{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new pd;let o;const a=e;return n?o=b3(a):o=y3(a),Object.assign(r,o),r}}class o2{}class a2{}class l2{}class u2{}class U3{}class O3{}class F3{}class Zp{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Zp,a=T3(e);return Object.assign(r,a),r}}class B3{}class z3{}class q3{}class G3{}class c2{}class H3{get text(){var e,n,r;let o="",a=!1;const l=[];for(const c of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[f,d]of Object.entries(c))f!=="text"&&f!=="thought"&&d!==null&&l.push(f);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;a=!0,o+=c.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?o:void 0}get data(){var e,n,r;let o="";const a=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,f]of Object.entries(l))c!=="inlineData"&&f!==null&&a.push(c);l.inlineData&&typeof l.inlineData.data=="string"&&(o+=atob(l.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class V3{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class $p{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new $p,a=Mv(e);return Object.assign(r,a),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pn(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Rv(t,e){const n=pn(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function kv(t){return Array.isArray(t)?t.map(e=>md(e)):[md(t)]}function md(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Dv(t){const e=md(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Pv(t){const e=md(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function f2(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Uv(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>f2(e)):[f2(t)]}function Cp(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function d2(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function h2(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function gr(t){if(t==null)throw new Error("ContentUnion is required");return Cp(t)?t:{role:"user",parts:Uv(t)}}function Qp(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=gr(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=gr(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>gr(n)):[gr(e)]}function Os(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(d2(t)||h2(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[gr(t)]}const e=[],n=[],r=Cp(t[0]);for(const o of t){const a=Cp(o);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(o);else{if(d2(o)||h2(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return r||e.push({role:"user",parts:Uv(n)}),e}function j3(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(bl).includes(n[0].toUpperCase())?n[0].toUpperCase():bl.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(bl).includes(r.toUpperCase())?r.toUpperCase():bl.TYPE_UNSPECIFIED})}}function $u(t){const e={},n=["items"],r=["anyOf"],o=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&j3(t.type,e);for(const[l,c]of Object.entries(t))if(c!=null)if(l=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;e.type=Object.values(bl).includes(c.toUpperCase())?c.toUpperCase():bl.TYPE_UNSPECIFIED}else if(n.includes(l))e[l]=$u(c);else if(r.includes(l)){const f=[];for(const d of c){if(d.type=="null"){e.nullable=!0;continue}f.push($u(d))}e[l]=f}else if(o.includes(l)){const f={};for(const[d,p]of Object.entries(c))f[d]=$u(p);e[l]=f}else{if(l==="additionalProperties")continue;e[l]=c}return e}function e0(t){return $u(t)}function t0(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function n0(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function ec(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=$u(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=$u(e.response));return t}function tc(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Y3(t,e,n,r=1){const o=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:o?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:o?`${n}/${e}`:e}function Ca(t,e){if(typeof e!="string")throw new Error("name must be a string");return Y3(t,e,"cachedContents")}function Ov(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Sl(t){return Xp(t)}function J3(t){return t!=null&&typeof t=="object"&&"name"in t}function W3(t){return t!=null&&typeof t=="object"&&"video"in t}function K3(t){return t!=null&&typeof t=="object"&&"uri"in t}function Fv(t){var e;let n;if(J3(t)&&(n=t.name),!(K3(t)&&(n=t.uri,n===void 0))&&!(W3(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Bv(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function zv(t){for(const e of["models","tunedModels","publisherModels"])if(X3(t,e))return t[e];return[]}function X3(t,e){return t!==null&&typeof t=="object"&&e in t}function Z3(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function $3(t,e={}){const n=[],r=new Set;for(const o of t){const a=o.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const l=Z3(o,e);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function qv(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,o=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(o>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Q3(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Gv(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const o=n.inlinedResponses;if(!Array.isArray(o)||o.length===0)return t;let a=!1;for(const l of o){if(typeof l!="object"||l===null)continue;const f=l.response;if(typeof f!="object"||f===null)continue;if(f.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function nc(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Hv(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function e_(t){const e={},n=m(t,["responsesFile"]);n!=null&&b(e,["fileName"],n);const r=m(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>D_(l))),b(e,["inlinedResponses"],a)}const o=m(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),b(e,["inlinedEmbedContentResponses"],a)}return e}function t_(t){const e={},n=m(t,["predictionsFormat"]);n!=null&&b(e,["format"],n);const r=m(t,["gcsDestination","outputUriPrefix"]);r!=null&&b(e,["gcsUri"],r);const o=m(t,["bigqueryDestination","outputUri"]);return o!=null&&b(e,["bigqueryUri"],o),e}function n_(t){const e={},n=m(t,["format"]);n!=null&&b(e,["predictionsFormat"],n);const r=m(t,["gcsUri"]);r!=null&&b(e,["gcsDestination","outputUriPrefix"],r);const o=m(t,["bigqueryUri"]);if(o!=null&&b(e,["bigqueryDestination","outputUri"],o),m(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(m(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(m(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function ad(t){const e={},n=m(t,["name"]);n!=null&&b(e,["name"],n);const r=m(t,["metadata","displayName"]);r!=null&&b(e,["displayName"],r);const o=m(t,["metadata","state"]);o!=null&&b(e,["state"],Hv(o));const a=m(t,["metadata","createTime"]);a!=null&&b(e,["createTime"],a);const l=m(t,["metadata","endTime"]);l!=null&&b(e,["endTime"],l);const c=m(t,["metadata","updateTime"]);c!=null&&b(e,["updateTime"],c);const f=m(t,["metadata","model"]);f!=null&&b(e,["model"],f);const d=m(t,["metadata","output"]);return d!=null&&b(e,["dest"],e_(Gv(d))),e}function Lp(t){const e={},n=m(t,["name"]);n!=null&&b(e,["name"],n);const r=m(t,["displayName"]);r!=null&&b(e,["displayName"],r);const o=m(t,["state"]);o!=null&&b(e,["state"],Hv(o));const a=m(t,["error"]);a!=null&&b(e,["error"],a);const l=m(t,["createTime"]);l!=null&&b(e,["createTime"],l);const c=m(t,["startTime"]);c!=null&&b(e,["startTime"],c);const f=m(t,["endTime"]);f!=null&&b(e,["endTime"],f);const d=m(t,["updateTime"]);d!=null&&b(e,["updateTime"],d);const p=m(t,["model"]);p!=null&&b(e,["model"],p);const v=m(t,["inputConfig"]);v!=null&&b(e,["src"],i_(v));const _=m(t,["outputConfig"]);_!=null&&b(e,["dest"],t_(Gv(_)));const y=m(t,["completionStats"]);return y!=null&&b(e,["completionStats"],y),e}function i_(t){const e={},n=m(t,["instancesFormat"]);n!=null&&b(e,["format"],n);const r=m(t,["gcsSource","uris"]);r!=null&&b(e,["gcsUri"],r);const o=m(t,["bigquerySource","inputUri"]);return o!=null&&b(e,["bigqueryUri"],o),e}function r_(t,e){const n={};if(m(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(m(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(m(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=m(e,["fileName"]);r!=null&&b(n,["fileName"],r);const o=m(e,["inlinedRequests"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>k_(t,l))),b(n,["requests","requests"],a)}return n}function s_(t){const e={},n=m(t,["format"]);n!=null&&b(e,["instancesFormat"],n);const r=m(t,["gcsUri"]);r!=null&&b(e,["gcsSource","uris"],r);const o=m(t,["bigqueryUri"]);if(o!=null&&b(e,["bigquerySource","inputUri"],o),m(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(m(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function o_(t){const e={},n=m(t,["data"]);if(n!=null&&b(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function a_(t,e){const n={},r=m(e,["name"]);return r!=null&&b(n,["_url","name"],nc(t,r)),n}function l_(t,e){const n={},r=m(e,["name"]);return r!=null&&b(n,["_url","name"],nc(t,r)),n}function u_(t){const e={},n=m(t,["content"]);n!=null&&b(e,["content"],n);const r=m(t,["citationMetadata"]);r!=null&&b(e,["citationMetadata"],c_(r));const o=m(t,["tokenCount"]);o!=null&&b(e,["tokenCount"],o);const a=m(t,["finishReason"]);a!=null&&b(e,["finishReason"],a);const l=m(t,["avgLogprobs"]);l!=null&&b(e,["avgLogprobs"],l);const c=m(t,["groundingMetadata"]);c!=null&&b(e,["groundingMetadata"],c);const f=m(t,["index"]);f!=null&&b(e,["index"],f);const d=m(t,["logprobsResult"]);d!=null&&b(e,["logprobsResult"],d);const p=m(t,["safetyRatings"]);if(p!=null){let _=p;Array.isArray(_)&&(_=_.map(y=>y)),b(e,["safetyRatings"],_)}const v=m(t,["urlContextMetadata"]);return v!=null&&b(e,["urlContextMetadata"],v),e}function c_(t){const e={},n=m(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>o)),b(e,["citations"],r)}return e}function Vv(t){const e={},n=m(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>q_(a))),b(e,["parts"],o)}const r=m(t,["role"]);return r!=null&&b(e,["role"],r),e}function f_(t,e){const n={},r=m(t,["displayName"]);if(e!==void 0&&r!=null&&b(e,["batch","displayName"],r),m(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function d_(t,e){const n={},r=m(t,["displayName"]);e!==void 0&&r!=null&&b(e,["displayName"],r);const o=m(t,["dest"]);return e!==void 0&&o!=null&&b(e,["outputConfig"],n_(Q3(o))),n}function p2(t,e){const n={},r=m(e,["model"]);r!=null&&b(n,["_url","model"],pn(t,r));const o=m(e,["src"]);o!=null&&b(n,["batch","inputConfig"],r_(t,qv(t,o)));const a=m(e,["config"]);return a!=null&&f_(a,n),n}function h_(t,e){const n={},r=m(e,["model"]);r!=null&&b(n,["model"],pn(t,r));const o=m(e,["src"]);o!=null&&b(n,["inputConfig"],s_(qv(t,o)));const a=m(e,["config"]);return a!=null&&d_(a,n),n}function p_(t,e){const n={},r=m(t,["displayName"]);return e!==void 0&&r!=null&&b(e,["batch","displayName"],r),n}function m_(t,e){const n={},r=m(e,["model"]);r!=null&&b(n,["_url","model"],pn(t,r));const o=m(e,["src"]);o!=null&&b(n,["batch","inputConfig"],x_(t,o));const a=m(e,["config"]);return a!=null&&p_(a,n),n}function g_(t,e){const n={},r=m(e,["name"]);return r!=null&&b(n,["_url","name"],nc(t,r)),n}function v_(t,e){const n={},r=m(e,["name"]);return r!=null&&b(n,["_url","name"],nc(t,r)),n}function y_(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=m(t,["name"]);r!=null&&b(e,["name"],r);const o=m(t,["done"]);o!=null&&b(e,["done"],o);const a=m(t,["error"]);return a!=null&&b(e,["error"],a),e}function b_(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=m(t,["name"]);r!=null&&b(e,["name"],r);const o=m(t,["done"]);o!=null&&b(e,["done"],o);const a=m(t,["error"]);return a!=null&&b(e,["error"],a),e}function __(t,e){const n={},r=m(e,["contents"]);if(r!=null){let a=Qp(t,r);Array.isArray(a)&&(a=a.map(l=>l)),b(n,["requests[]","request","content"],a)}const o=m(e,["config"]);return o!=null&&(b(n,["_self"],w_(o,n)),g3(n,{"requests[].*":"requests[].request.*"})),n}function w_(t,e){const n={},r=m(t,["taskType"]);e!==void 0&&r!=null&&b(e,["requests[]","taskType"],r);const o=m(t,["title"]);e!==void 0&&o!=null&&b(e,["requests[]","title"],o);const a=m(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&b(e,["requests[]","outputDimensionality"],a),m(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(m(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function x_(t,e){const n={},r=m(e,["fileName"]);r!=null&&b(n,["file_name"],r);const o=m(e,["inlinedRequests"]);return o!=null&&b(n,["requests"],__(t,o)),n}function S_(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function A_(t){const e={},n=m(t,["id"]);n!=null&&b(e,["id"],n);const r=m(t,["args"]);r!=null&&b(e,["args"],r);const o=m(t,["name"]);if(o!=null&&b(e,["name"],o),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function E_(t){const e={},n=m(t,["allowedFunctionNames"]);n!=null&&b(e,["allowedFunctionNames"],n);const r=m(t,["mode"]);if(r!=null&&b(e,["mode"],r),m(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function T_(t,e,n){const r={},o=m(e,["systemInstruction"]);n!==void 0&&o!=null&&b(n,["systemInstruction"],Vv(gr(o)));const a=m(e,["temperature"]);a!=null&&b(r,["temperature"],a);const l=m(e,["topP"]);l!=null&&b(r,["topP"],l);const c=m(e,["topK"]);c!=null&&b(r,["topK"],c);const f=m(e,["candidateCount"]);f!=null&&b(r,["candidateCount"],f);const d=m(e,["maxOutputTokens"]);d!=null&&b(r,["maxOutputTokens"],d);const p=m(e,["stopSequences"]);p!=null&&b(r,["stopSequences"],p);const v=m(e,["responseLogprobs"]);v!=null&&b(r,["responseLogprobs"],v);const _=m(e,["logprobs"]);_!=null&&b(r,["logprobs"],_);const y=m(e,["presencePenalty"]);y!=null&&b(r,["presencePenalty"],y);const N=m(e,["frequencyPenalty"]);N!=null&&b(r,["frequencyPenalty"],N);const A=m(e,["seed"]);A!=null&&b(r,["seed"],A);const C=m(e,["responseMimeType"]);C!=null&&b(r,["responseMimeType"],C);const T=m(e,["responseSchema"]);T!=null&&b(r,["responseSchema"],e0(T));const k=m(e,["responseJsonSchema"]);if(k!=null&&b(r,["responseJsonSchema"],k),m(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(m(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const U=m(e,["safetySettings"]);if(n!==void 0&&U!=null){let X=U;Array.isArray(X)&&(X=X.map(I=>G_(I))),b(n,["safetySettings"],X)}const z=m(e,["tools"]);if(n!==void 0&&z!=null){let X=tc(z);Array.isArray(X)&&(X=X.map(I=>V_(ec(I)))),b(n,["tools"],X)}const q=m(e,["toolConfig"]);if(n!==void 0&&q!=null&&b(n,["toolConfig"],H_(q)),m(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const J=m(e,["cachedContent"]);n!==void 0&&J!=null&&b(n,["cachedContent"],Ca(t,J));const H=m(e,["responseModalities"]);H!=null&&b(r,["responseModalities"],H);const Z=m(e,["mediaResolution"]);Z!=null&&b(r,["mediaResolution"],Z);const W=m(e,["speechConfig"]);if(W!=null&&b(r,["speechConfig"],t0(W)),m(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ae=m(e,["thinkingConfig"]);ae!=null&&b(r,["thinkingConfig"],ae);const B=m(e,["imageConfig"]);B!=null&&b(r,["imageConfig"],R_(B));const D=m(e,["enableEnhancedCivicAnswers"]);if(D!=null&&b(r,["enableEnhancedCivicAnswers"],D),m(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function N_(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=m(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>u_(d))),b(e,["candidates"],f)}const o=m(t,["modelVersion"]);o!=null&&b(e,["modelVersion"],o);const a=m(t,["promptFeedback"]);a!=null&&b(e,["promptFeedback"],a);const l=m(t,["responseId"]);l!=null&&b(e,["responseId"],l);const c=m(t,["usageMetadata"]);return c!=null&&b(e,["usageMetadata"],c),e}function C_(t,e){const n={},r=m(e,["name"]);return r!=null&&b(n,["_url","name"],nc(t,r)),n}function L_(t,e){const n={},r=m(e,["name"]);return r!=null&&b(n,["_url","name"],nc(t,r)),n}function I_(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&b(e,["enableWidget"],n),e}function M_(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],n),e}function R_(t){const e={},n=m(t,["aspectRatio"]);n!=null&&b(e,["aspectRatio"],n);const r=m(t,["imageSize"]);if(r!=null&&b(e,["imageSize"],r),m(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(m(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(m(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function k_(t,e){const n={},r=m(e,["model"]);r!=null&&b(n,["request","model"],pn(t,r));const o=m(e,["contents"]);if(o!=null){let c=Os(o);Array.isArray(c)&&(c=c.map(f=>Vv(f))),b(n,["request","contents"],c)}const a=m(e,["metadata"]);a!=null&&b(n,["metadata"],a);const l=m(e,["config"]);return l!=null&&b(n,["request","generationConfig"],T_(t,l,m(n,["request"],{}))),n}function D_(t){const e={},n=m(t,["response"]);n!=null&&b(e,["response"],N_(n));const r=m(t,["metadata"]);r!=null&&b(e,["metadata"],r);const o=m(t,["error"]);return o!=null&&b(e,["error"],o),e}function P_(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const o=m(t,["pageToken"]);if(e!==void 0&&o!=null&&b(e,["_query","pageToken"],o),m(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function U_(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const o=m(t,["pageToken"]);e!==void 0&&o!=null&&b(e,["_query","pageToken"],o);const a=m(t,["filter"]);return e!==void 0&&a!=null&&b(e,["_query","filter"],a),n}function O_(t){const e={},n=m(t,["config"]);return n!=null&&P_(n,e),e}function F_(t){const e={},n=m(t,["config"]);return n!=null&&U_(n,e),e}function B_(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const o=m(t,["operations"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>ad(l))),b(e,["batchJobs"],a)}return e}function z_(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const o=m(t,["batchPredictionJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>Lp(l))),b(e,["batchJobs"],a)}return e}function q_(t){const e={},n=m(t,["mediaResolution"]);n!=null&&b(e,["mediaResolution"],n);const r=m(t,["codeExecutionResult"]);r!=null&&b(e,["codeExecutionResult"],r);const o=m(t,["executableCode"]);o!=null&&b(e,["executableCode"],o);const a=m(t,["fileData"]);a!=null&&b(e,["fileData"],S_(a));const l=m(t,["functionCall"]);l!=null&&b(e,["functionCall"],A_(l));const c=m(t,["functionResponse"]);c!=null&&b(e,["functionResponse"],c);const f=m(t,["inlineData"]);f!=null&&b(e,["inlineData"],o_(f));const d=m(t,["text"]);d!=null&&b(e,["text"],d);const p=m(t,["thought"]);p!=null&&b(e,["thought"],p);const v=m(t,["thoughtSignature"]);v!=null&&b(e,["thoughtSignature"],v);const _=m(t,["videoMetadata"]);return _!=null&&b(e,["videoMetadata"],_),e}function G_(t){const e={},n=m(t,["category"]);if(n!=null&&b(e,["category"],n),m(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=m(t,["threshold"]);return r!=null&&b(e,["threshold"],r),e}function H_(t){const e={},n=m(t,["retrievalConfig"]);n!=null&&b(e,["retrievalConfig"],n);const r=m(t,["functionCallingConfig"]);return r!=null&&b(e,["functionCallingConfig"],E_(r)),e}function V_(t){const e={};if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=m(t,["computerUse"]);n!=null&&b(e,["computerUse"],n);const r=m(t,["fileSearch"]);r!=null&&b(e,["fileSearch"],r);const o=m(t,["codeExecution"]);if(o!=null&&b(e,["codeExecution"],o),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=m(t,["functionDeclarations"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(v=>v)),b(e,["functionDeclarations"],p)}const l=m(t,["googleMaps"]);l!=null&&b(e,["googleMaps"],I_(l));const c=m(t,["googleSearch"]);c!=null&&b(e,["googleSearch"],M_(c));const f=m(t,["googleSearchRetrieval"]);f!=null&&b(e,["googleSearchRetrieval"],f);const d=m(t,["urlContext"]);return d!=null&&b(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ta;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Ta||(Ta={}));class eu{constructor(e,n,r,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,o)}init(e,n,r){var o,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!r||Object.keys(r).length===0?l={config:{}}:typeof r=="object"?l=Object.assign({},r):l=r,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(a=(o=l.config)===null||o===void 0?void 0:o.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class j_ extends Na{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new eu(Ta.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=p2(this.apiClient,e),r=n._url,o=ht("{model}:batchGenerateContent",r),c=n.batch.inputConfig.requests,f=c.requests,d=[];for(const p of f){const v=Object.assign({},p);if(v.systemInstruction){const _=v.systemInstruction;delete v.systemInstruction;const y=v.request;y.systemInstruction=_,v.request=y}d.push(v)}return c.requests=d,delete n.config,delete n._url,delete n._query,{path:o,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},o=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${o}`),r.dest===void 0){const a=this.getGcsUri(e),l=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${o}`;else if(l)r.dest=`${l}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,o,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=h_(this.apiClient,e);return c=ht("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>Lp(p))}else{const d=p2(this.apiClient,e);return c=ht("{model}:batchGenerateContent",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>ad(p))}}async createEmbeddingsInternal(e){var n,r;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=m_(this.apiClient,e);return a=ht("{model}:asyncBatchEmbedContent",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>ad(f))}}async get(e){var n,r,o,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=L_(this.apiClient,e);return c=ht("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>Lp(p))}else{const d=C_(this.apiClient,e);return c=ht("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>ad(p))}}async cancel(e){var n,r,o,a;let l="",c={};if(this.apiClient.isVertexAI()){const f=l_(this.apiClient,e);l=ht("batchPredictionJobs/{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=a_(this.apiClient,e);l=ht("batches/{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,r,o,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=F_(e);return c=ht("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(v=>{const _=v;return _.sdkHttpResponse={headers:p.headers},_})),l.then(p=>{const v=z_(p),_=new c2;return Object.assign(_,v),_})}else{const d=O_(e);return c=ht("batches",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(v=>{const _=v;return _.sdkHttpResponse={headers:p.headers},_})),l.then(p=>{const v=B_(p),_=new c2;return Object.assign(_,v),_})}}async delete(e){var n,r,o,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=v_(this.apiClient,e);return c=ht("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(v=>{const _=v;return _.sdkHttpResponse={headers:p.headers},_})),l.then(p=>b_(p))}else{const d=g_(this.apiClient,e);return c=ht("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(v=>{const _=v;return _.sdkHttpResponse={headers:p.headers},_})),l.then(p=>y_(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Y_(t){const e={},n=m(t,["data"]);if(n!=null&&b(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function m2(t){const e={},n=m(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>mw(a))),b(e,["parts"],o)}const r=m(t,["role"]);return r!=null&&b(e,["role"],r),e}function J_(t,e){const n={},r=m(t,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const o=m(t,["expireTime"]);e!==void 0&&o!=null&&b(e,["expireTime"],o);const a=m(t,["displayName"]);e!==void 0&&a!=null&&b(e,["displayName"],a);const l=m(t,["contents"]);if(e!==void 0&&l!=null){let p=Os(l);Array.isArray(p)&&(p=p.map(v=>m2(v))),b(e,["contents"],p)}const c=m(t,["systemInstruction"]);e!==void 0&&c!=null&&b(e,["systemInstruction"],m2(gr(c)));const f=m(t,["tools"]);if(e!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(v=>vw(v))),b(e,["tools"],p)}const d=m(t,["toolConfig"]);if(e!==void 0&&d!=null&&b(e,["toolConfig"],gw(d)),m(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function W_(t,e){const n={},r=m(t,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const o=m(t,["expireTime"]);e!==void 0&&o!=null&&b(e,["expireTime"],o);const a=m(t,["displayName"]);e!==void 0&&a!=null&&b(e,["displayName"],a);const l=m(t,["contents"]);if(e!==void 0&&l!=null){let v=Os(l);Array.isArray(v)&&(v=v.map(_=>_)),b(e,["contents"],v)}const c=m(t,["systemInstruction"]);e!==void 0&&c!=null&&b(e,["systemInstruction"],gr(c));const f=m(t,["tools"]);if(e!==void 0&&f!=null){let v=f;Array.isArray(v)&&(v=v.map(_=>yw(_))),b(e,["tools"],v)}const d=m(t,["toolConfig"]);e!==void 0&&d!=null&&b(e,["toolConfig"],d);const p=m(t,["kmsKeyName"]);return e!==void 0&&p!=null&&b(e,["encryption_spec","kmsKeyName"],p),n}function K_(t,e){const n={},r=m(e,["model"]);r!=null&&b(n,["model"],Rv(t,r));const o=m(e,["config"]);return o!=null&&J_(o,n),n}function X_(t,e){const n={},r=m(e,["model"]);r!=null&&b(n,["model"],Rv(t,r));const o=m(e,["config"]);return o!=null&&W_(o,n),n}function Z_(t,e){const n={},r=m(e,["name"]);return r!=null&&b(n,["_url","name"],Ca(t,r)),n}function $_(t,e){const n={},r=m(e,["name"]);return r!=null&&b(n,["_url","name"],Ca(t,r)),n}function Q_(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}function ew(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}function tw(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function nw(t){const e={},n=m(t,["id"]);n!=null&&b(e,["id"],n);const r=m(t,["args"]);r!=null&&b(e,["args"],r);const o=m(t,["name"]);if(o!=null&&b(e,["name"],o),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function iw(t){const e={},n=m(t,["allowedFunctionNames"]);n!=null&&b(e,["allowedFunctionNames"],n);const r=m(t,["mode"]);if(r!=null&&b(e,["mode"],r),m(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function rw(t){const e={},n=m(t,["description"]);n!=null&&b(e,["description"],n);const r=m(t,["name"]);r!=null&&b(e,["name"],r);const o=m(t,["parameters"]);o!=null&&b(e,["parameters"],o);const a=m(t,["parametersJsonSchema"]);a!=null&&b(e,["parametersJsonSchema"],a);const l=m(t,["response"]);l!=null&&b(e,["response"],l);const c=m(t,["responseJsonSchema"]);if(c!=null&&b(e,["responseJsonSchema"],c),m(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function sw(t,e){const n={},r=m(e,["name"]);return r!=null&&b(n,["_url","name"],Ca(t,r)),n}function ow(t,e){const n={},r=m(e,["name"]);return r!=null&&b(n,["_url","name"],Ca(t,r)),n}function aw(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&b(e,["enableWidget"],n),e}function lw(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],n),e}function uw(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const o=m(t,["pageToken"]);return e!==void 0&&o!=null&&b(e,["_query","pageToken"],o),n}function cw(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const o=m(t,["pageToken"]);return e!==void 0&&o!=null&&b(e,["_query","pageToken"],o),n}function fw(t){const e={},n=m(t,["config"]);return n!=null&&uw(n,e),e}function dw(t){const e={},n=m(t,["config"]);return n!=null&&cw(n,e),e}function hw(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const o=m(t,["cachedContents"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),b(e,["cachedContents"],a)}return e}function pw(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const o=m(t,["cachedContents"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),b(e,["cachedContents"],a)}return e}function mw(t){const e={},n=m(t,["mediaResolution"]);n!=null&&b(e,["mediaResolution"],n);const r=m(t,["codeExecutionResult"]);r!=null&&b(e,["codeExecutionResult"],r);const o=m(t,["executableCode"]);o!=null&&b(e,["executableCode"],o);const a=m(t,["fileData"]);a!=null&&b(e,["fileData"],tw(a));const l=m(t,["functionCall"]);l!=null&&b(e,["functionCall"],nw(l));const c=m(t,["functionResponse"]);c!=null&&b(e,["functionResponse"],c);const f=m(t,["inlineData"]);f!=null&&b(e,["inlineData"],Y_(f));const d=m(t,["text"]);d!=null&&b(e,["text"],d);const p=m(t,["thought"]);p!=null&&b(e,["thought"],p);const v=m(t,["thoughtSignature"]);v!=null&&b(e,["thoughtSignature"],v);const _=m(t,["videoMetadata"]);return _!=null&&b(e,["videoMetadata"],_),e}function gw(t){const e={},n=m(t,["retrievalConfig"]);n!=null&&b(e,["retrievalConfig"],n);const r=m(t,["functionCallingConfig"]);return r!=null&&b(e,["functionCallingConfig"],iw(r)),e}function vw(t){const e={};if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=m(t,["computerUse"]);n!=null&&b(e,["computerUse"],n);const r=m(t,["fileSearch"]);r!=null&&b(e,["fileSearch"],r);const o=m(t,["codeExecution"]);if(o!=null&&b(e,["codeExecution"],o),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=m(t,["functionDeclarations"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(v=>v)),b(e,["functionDeclarations"],p)}const l=m(t,["googleMaps"]);l!=null&&b(e,["googleMaps"],aw(l));const c=m(t,["googleSearch"]);c!=null&&b(e,["googleSearch"],lw(c));const f=m(t,["googleSearchRetrieval"]);f!=null&&b(e,["googleSearchRetrieval"],f);const d=m(t,["urlContext"]);return d!=null&&b(e,["urlContext"],d),e}function yw(t){const e={},n=m(t,["retrieval"]);n!=null&&b(e,["retrieval"],n);const r=m(t,["computerUse"]);if(r!=null&&b(e,["computerUse"],r),m(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=m(t,["codeExecution"]);o!=null&&b(e,["codeExecution"],o);const a=m(t,["enterpriseWebSearch"]);a!=null&&b(e,["enterpriseWebSearch"],a);const l=m(t,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(_=>rw(_))),b(e,["functionDeclarations"],v)}const c=m(t,["googleMaps"]);c!=null&&b(e,["googleMaps"],c);const f=m(t,["googleSearch"]);f!=null&&b(e,["googleSearch"],f);const d=m(t,["googleSearchRetrieval"]);d!=null&&b(e,["googleSearchRetrieval"],d);const p=m(t,["urlContext"]);return p!=null&&b(e,["urlContext"],p),e}function bw(t,e){const n={},r=m(t,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const o=m(t,["expireTime"]);return e!==void 0&&o!=null&&b(e,["expireTime"],o),n}function _w(t,e){const n={},r=m(t,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const o=m(t,["expireTime"]);return e!==void 0&&o!=null&&b(e,["expireTime"],o),n}function ww(t,e){const n={},r=m(e,["name"]);r!=null&&b(n,["_url","name"],Ca(t,r));const o=m(e,["config"]);return o!=null&&bw(o,n),n}function xw(t,e){const n={},r=m(e,["name"]);r!=null&&b(n,["_url","name"],Ca(t,r));const o=m(e,["config"]);return o!=null&&_w(o,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sw extends Na{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new eu(Ta.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,o,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=X_(this.apiClient,e);return c=ht("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>p)}else{const d=K_(this.apiClient,e);return c=ht("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>p)}}async get(e){var n,r,o,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=ow(this.apiClient,e);return c=ht("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>p)}else{const d=sw(this.apiClient,e);return c=ht("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>p)}}async delete(e){var n,r,o,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=$_(this.apiClient,e);return c=ht("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(v=>{const _=v;return _.sdkHttpResponse={headers:p.headers},_})),l.then(p=>{const v=ew(p),_=new l2;return Object.assign(_,v),_})}else{const d=Z_(this.apiClient,e);return c=ht("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(v=>{const _=v;return _.sdkHttpResponse={headers:p.headers},_})),l.then(p=>{const v=Q_(p),_=new l2;return Object.assign(_,v),_})}}async update(e){var n,r,o,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=xw(this.apiClient,e);return c=ht("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>p)}else{const d=ww(this.apiClient,e);return c=ht("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>p)}}async listInternal(e){var n,r,o,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=dw(e);return c=ht("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(v=>{const _=v;return _.sdkHttpResponse={headers:p.headers},_})),l.then(p=>{const v=pw(p),_=new u2;return Object.assign(_,v),_})}else{const d=fw(e);return c=ht("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(v=>{const _=v;return _.sdkHttpResponse={headers:p.headers},_})),l.then(p=>{const v=hw(p),_=new u2;return Object.assign(_,v),_})}}}function gd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function g2(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ft(t){return this instanceof Ft?(this.v=t,this):new Ft(t)}function so(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),o,a=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",l),o[Symbol.asyncIterator]=function(){return this},o;function l(y){return function(N){return Promise.resolve(N).then(y,v)}}function c(y,N){r[y]&&(o[y]=function(A){return new Promise(function(C,T){a.push([y,A,C,T])>1||f(y,A)})},N&&(o[y]=N(o[y])))}function f(y,N){try{d(r[y](N))}catch(A){_(a[0][3],A)}}function d(y){y.value instanceof Ft?Promise.resolve(y.value.v).then(p,v):_(a[0][2],y)}function p(y){f("next",y)}function v(y){f("throw",y)}function _(y,N){y(N),a.shift(),a.length&&f(a[0][0],a[0][1])}}function oo(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof g2=="function"?g2(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(l){return new Promise(function(c,f){l=t[a](l),o(c,f,l.done,l.value)})}}function o(a,l,c,f){Promise.resolve(f).then(function(d){a({value:d,done:c})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Aw(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:jv(n)}function jv(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Ew(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function v2(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const o=[];let a=!0;for(;r<n&&t[r].role==="model";)o.push(t[r]),a&&!jv(t[r])&&(a=!1),r++;a?e.push(...o):e.pop()}return e}class Tw{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Nw(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Nw{constructor(e,n,r,o={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=o,this.history=a,this.sendPromise=Promise.resolve(),Ew(a)}async sendMessage(e){var n;await this.sendPromise;const r=gr(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,l,c;const f=await o,d=(l=(a=f.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content,p=f.automaticFunctionCallingHistory,v=this.getHistory(!0).length;let _=[];p!=null&&(_=(c=p.slice(v))!==null&&c!==void 0?c:[]);const y=d?[d]:[];this.recordHistory(r,y,_)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var n;await this.sendPromise;const r=gr(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const a=await o;return this.processStreamResponse(a,r)}getHistory(e=!1){const n=e?v2(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return so(this,arguments,function*(){var o,a,l,c,f,d;const p=[];try{for(var v=!0,_=oo(e),y;y=yield Ft(_.next()),o=y.done,!o;v=!0){c=y.value,v=!1;const N=c;if(Aw(N)){const A=(d=(f=N.candidates)===null||f===void 0?void 0:f[0])===null||d===void 0?void 0:d.content;A!==void 0&&p.push(A)}yield yield Ft(N)}}catch(N){a={error:N}}finally{try{!v&&!o&&(l=_.return)&&(yield Ft(l.call(_)))}finally{if(a)throw a.error}}this.recordHistory(n,p)})}recordHistory(e,n,r){let o=[];n.length>0&&n.every(a=>a.role!==void 0)?o=n:o.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...v2(r)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $c extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,$c.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cw(t){const e={},n=m(t,["file"]);return n!=null&&b(e,["file"],n),e}function Lw(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}function Iw(t){const e={},n=m(t,["name"]);return n!=null&&b(e,["_url","file"],Fv(n)),e}function Mw(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}function Rw(t){const e={},n=m(t,["name"]);return n!=null&&b(e,["_url","file"],Fv(n)),e}function kw(t){const e={},n=m(t,["uris"]);return n!=null&&b(e,["uris"],n),e}function Dw(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const o=m(t,["pageToken"]);return e!==void 0&&o!=null&&b(e,["_query","pageToken"],o),n}function Pw(t){const e={},n=m(t,["config"]);return n!=null&&Dw(n,e),e}function Uw(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const o=m(t,["files"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),b(e,["files"],a)}return e}function Ow(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=m(t,["files"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),b(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fw extends Na{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new eu(Ta.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async registerFiles(e){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(e){return this.registerFilesInternal(e)}async listInternal(e){var n,r;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Pw(e);return a=ht("files",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),o.then(f=>{const d=Uw(f),p=new B3;return Object.assign(p,d),p})}}async createInternal(e){var n,r;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Cw(e);return a=ht("upload/v1beta/files",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>{const d=Lw(f),p=new z3;return Object.assign(p,d),p})}}async get(e){var n,r;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Rw(e);return a=ht("files/{file}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>f)}}async delete(e){var n,r;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Iw(e);return a=ht("files/{file}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),o.then(f=>{const d=Mw(f),p=new q3;return Object.assign(p,d),p})}}async registerFilesInternal(e){var n,r;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=kw(e);return a=ht("files:register",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>{const d=Ow(f),p=new G3;return Object.assign(p,d),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ld(t){const e={},n=m(t,["data"]);if(n!=null&&b(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function Bw(t){const e={},n=m(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>tx(a))),b(e,["parts"],o)}const r=m(t,["role"]);return r!=null&&b(e,["role"],r),e}function zw(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function qw(t){const e={},n=m(t,["id"]);n!=null&&b(e,["id"],n);const r=m(t,["args"]);r!=null&&b(e,["args"],r);const o=m(t,["name"]);if(o!=null&&b(e,["name"],o),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Gw(t){const e={},n=m(t,["description"]);n!=null&&b(e,["description"],n);const r=m(t,["name"]);r!=null&&b(e,["name"],r);const o=m(t,["parameters"]);o!=null&&b(e,["parameters"],o);const a=m(t,["parametersJsonSchema"]);a!=null&&b(e,["parametersJsonSchema"],a);const l=m(t,["response"]);l!=null&&b(e,["response"],l);const c=m(t,["responseJsonSchema"]);if(c!=null&&b(e,["responseJsonSchema"],c),m(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Hw(t){const e={},n=m(t,["modelSelectionConfig"]);n!=null&&b(e,["modelConfig"],n);const r=m(t,["responseJsonSchema"]);r!=null&&b(e,["responseJsonSchema"],r);const o=m(t,["audioTimestamp"]);o!=null&&b(e,["audioTimestamp"],o);const a=m(t,["candidateCount"]);a!=null&&b(e,["candidateCount"],a);const l=m(t,["enableAffectiveDialog"]);l!=null&&b(e,["enableAffectiveDialog"],l);const c=m(t,["frequencyPenalty"]);c!=null&&b(e,["frequencyPenalty"],c);const f=m(t,["logprobs"]);f!=null&&b(e,["logprobs"],f);const d=m(t,["maxOutputTokens"]);d!=null&&b(e,["maxOutputTokens"],d);const p=m(t,["mediaResolution"]);p!=null&&b(e,["mediaResolution"],p);const v=m(t,["presencePenalty"]);v!=null&&b(e,["presencePenalty"],v);const _=m(t,["responseLogprobs"]);_!=null&&b(e,["responseLogprobs"],_);const y=m(t,["responseMimeType"]);y!=null&&b(e,["responseMimeType"],y);const N=m(t,["responseModalities"]);N!=null&&b(e,["responseModalities"],N);const A=m(t,["responseSchema"]);A!=null&&b(e,["responseSchema"],A);const C=m(t,["routingConfig"]);C!=null&&b(e,["routingConfig"],C);const T=m(t,["seed"]);T!=null&&b(e,["seed"],T);const k=m(t,["speechConfig"]);k!=null&&b(e,["speechConfig"],k);const U=m(t,["stopSequences"]);U!=null&&b(e,["stopSequences"],U);const z=m(t,["temperature"]);z!=null&&b(e,["temperature"],z);const q=m(t,["thinkingConfig"]);q!=null&&b(e,["thinkingConfig"],q);const J=m(t,["topK"]);J!=null&&b(e,["topK"],J);const H=m(t,["topP"]);if(H!=null&&b(e,["topP"],H),m(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Vw(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&b(e,["enableWidget"],n),e}function jw(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],n),e}function Yw(t,e){const n={},r=m(t,["generationConfig"]);e!==void 0&&r!=null&&b(e,["setup","generationConfig"],r);const o=m(t,["responseModalities"]);e!==void 0&&o!=null&&b(e,["setup","generationConfig","responseModalities"],o);const a=m(t,["temperature"]);e!==void 0&&a!=null&&b(e,["setup","generationConfig","temperature"],a);const l=m(t,["topP"]);e!==void 0&&l!=null&&b(e,["setup","generationConfig","topP"],l);const c=m(t,["topK"]);e!==void 0&&c!=null&&b(e,["setup","generationConfig","topK"],c);const f=m(t,["maxOutputTokens"]);e!==void 0&&f!=null&&b(e,["setup","generationConfig","maxOutputTokens"],f);const d=m(t,["mediaResolution"]);e!==void 0&&d!=null&&b(e,["setup","generationConfig","mediaResolution"],d);const p=m(t,["seed"]);e!==void 0&&p!=null&&b(e,["setup","generationConfig","seed"],p);const v=m(t,["speechConfig"]);e!==void 0&&v!=null&&b(e,["setup","generationConfig","speechConfig"],n0(v));const _=m(t,["thinkingConfig"]);e!==void 0&&_!=null&&b(e,["setup","generationConfig","thinkingConfig"],_);const y=m(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&b(e,["setup","generationConfig","enableAffectiveDialog"],y);const N=m(t,["systemInstruction"]);e!==void 0&&N!=null&&b(e,["setup","systemInstruction"],Bw(gr(N)));const A=m(t,["tools"]);if(e!==void 0&&A!=null){let J=tc(A);Array.isArray(J)&&(J=J.map(H=>ix(ec(H)))),b(e,["setup","tools"],J)}const C=m(t,["sessionResumption"]);e!==void 0&&C!=null&&b(e,["setup","sessionResumption"],nx(C));const T=m(t,["inputAudioTranscription"]);e!==void 0&&T!=null&&b(e,["setup","inputAudioTranscription"],T);const k=m(t,["outputAudioTranscription"]);e!==void 0&&k!=null&&b(e,["setup","outputAudioTranscription"],k);const U=m(t,["realtimeInputConfig"]);e!==void 0&&U!=null&&b(e,["setup","realtimeInputConfig"],U);const z=m(t,["contextWindowCompression"]);e!==void 0&&z!=null&&b(e,["setup","contextWindowCompression"],z);const q=m(t,["proactivity"]);if(e!==void 0&&q!=null&&b(e,["setup","proactivity"],q),m(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Jw(t,e){const n={},r=m(t,["generationConfig"]);e!==void 0&&r!=null&&b(e,["setup","generationConfig"],Hw(r));const o=m(t,["responseModalities"]);e!==void 0&&o!=null&&b(e,["setup","generationConfig","responseModalities"],o);const a=m(t,["temperature"]);e!==void 0&&a!=null&&b(e,["setup","generationConfig","temperature"],a);const l=m(t,["topP"]);e!==void 0&&l!=null&&b(e,["setup","generationConfig","topP"],l);const c=m(t,["topK"]);e!==void 0&&c!=null&&b(e,["setup","generationConfig","topK"],c);const f=m(t,["maxOutputTokens"]);e!==void 0&&f!=null&&b(e,["setup","generationConfig","maxOutputTokens"],f);const d=m(t,["mediaResolution"]);e!==void 0&&d!=null&&b(e,["setup","generationConfig","mediaResolution"],d);const p=m(t,["seed"]);e!==void 0&&p!=null&&b(e,["setup","generationConfig","seed"],p);const v=m(t,["speechConfig"]);e!==void 0&&v!=null&&b(e,["setup","generationConfig","speechConfig"],n0(v));const _=m(t,["thinkingConfig"]);e!==void 0&&_!=null&&b(e,["setup","generationConfig","thinkingConfig"],_);const y=m(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&b(e,["setup","generationConfig","enableAffectiveDialog"],y);const N=m(t,["systemInstruction"]);e!==void 0&&N!=null&&b(e,["setup","systemInstruction"],gr(N));const A=m(t,["tools"]);if(e!==void 0&&A!=null){let H=tc(A);Array.isArray(H)&&(H=H.map(Z=>rx(ec(Z)))),b(e,["setup","tools"],H)}const C=m(t,["sessionResumption"]);e!==void 0&&C!=null&&b(e,["setup","sessionResumption"],C);const T=m(t,["inputAudioTranscription"]);e!==void 0&&T!=null&&b(e,["setup","inputAudioTranscription"],T);const k=m(t,["outputAudioTranscription"]);e!==void 0&&k!=null&&b(e,["setup","outputAudioTranscription"],k);const U=m(t,["realtimeInputConfig"]);e!==void 0&&U!=null&&b(e,["setup","realtimeInputConfig"],U);const z=m(t,["contextWindowCompression"]);e!==void 0&&z!=null&&b(e,["setup","contextWindowCompression"],z);const q=m(t,["proactivity"]);e!==void 0&&q!=null&&b(e,["setup","proactivity"],q);const J=m(t,["explicitVadSignal"]);return e!==void 0&&J!=null&&b(e,["setup","explicitVadSignal"],J),n}function Ww(t,e){const n={},r=m(e,["model"]);r!=null&&b(n,["setup","model"],pn(t,r));const o=m(e,["config"]);return o!=null&&b(n,["config"],Yw(o,n)),n}function Kw(t,e){const n={},r=m(e,["model"]);r!=null&&b(n,["setup","model"],pn(t,r));const o=m(e,["config"]);return o!=null&&b(n,["config"],Jw(o,n)),n}function Xw(t){const e={},n=m(t,["musicGenerationConfig"]);return n!=null&&b(e,["musicGenerationConfig"],n),e}function Zw(t){const e={},n=m(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>o)),b(e,["weightedPrompts"],r)}return e}function $w(t){const e={},n=m(t,["media"]);if(n!=null){let d=kv(n);Array.isArray(d)&&(d=d.map(p=>ld(p))),b(e,["mediaChunks"],d)}const r=m(t,["audio"]);r!=null&&b(e,["audio"],ld(Pv(r)));const o=m(t,["audioStreamEnd"]);o!=null&&b(e,["audioStreamEnd"],o);const a=m(t,["video"]);a!=null&&b(e,["video"],ld(Dv(a)));const l=m(t,["text"]);l!=null&&b(e,["text"],l);const c=m(t,["activityStart"]);c!=null&&b(e,["activityStart"],c);const f=m(t,["activityEnd"]);return f!=null&&b(e,["activityEnd"],f),e}function Qw(t){const e={},n=m(t,["media"]);if(n!=null){let d=kv(n);Array.isArray(d)&&(d=d.map(p=>p)),b(e,["mediaChunks"],d)}const r=m(t,["audio"]);r!=null&&b(e,["audio"],Pv(r));const o=m(t,["audioStreamEnd"]);o!=null&&b(e,["audioStreamEnd"],o);const a=m(t,["video"]);a!=null&&b(e,["video"],Dv(a));const l=m(t,["text"]);l!=null&&b(e,["text"],l);const c=m(t,["activityStart"]);c!=null&&b(e,["activityStart"],c);const f=m(t,["activityEnd"]);return f!=null&&b(e,["activityEnd"],f),e}function ex(t){const e={},n=m(t,["setupComplete"]);n!=null&&b(e,["setupComplete"],n);const r=m(t,["serverContent"]);r!=null&&b(e,["serverContent"],r);const o=m(t,["toolCall"]);o!=null&&b(e,["toolCall"],o);const a=m(t,["toolCallCancellation"]);a!=null&&b(e,["toolCallCancellation"],a);const l=m(t,["usageMetadata"]);l!=null&&b(e,["usageMetadata"],sx(l));const c=m(t,["goAway"]);c!=null&&b(e,["goAway"],c);const f=m(t,["sessionResumptionUpdate"]);f!=null&&b(e,["sessionResumptionUpdate"],f);const d=m(t,["voiceActivityDetectionSignal"]);d!=null&&b(e,["voiceActivityDetectionSignal"],d);const p=m(t,["voiceActivity"]);return p!=null&&b(e,["voiceActivity"],ox(p)),e}function tx(t){const e={},n=m(t,["mediaResolution"]);n!=null&&b(e,["mediaResolution"],n);const r=m(t,["codeExecutionResult"]);r!=null&&b(e,["codeExecutionResult"],r);const o=m(t,["executableCode"]);o!=null&&b(e,["executableCode"],o);const a=m(t,["fileData"]);a!=null&&b(e,["fileData"],zw(a));const l=m(t,["functionCall"]);l!=null&&b(e,["functionCall"],qw(l));const c=m(t,["functionResponse"]);c!=null&&b(e,["functionResponse"],c);const f=m(t,["inlineData"]);f!=null&&b(e,["inlineData"],ld(f));const d=m(t,["text"]);d!=null&&b(e,["text"],d);const p=m(t,["thought"]);p!=null&&b(e,["thought"],p);const v=m(t,["thoughtSignature"]);v!=null&&b(e,["thoughtSignature"],v);const _=m(t,["videoMetadata"]);return _!=null&&b(e,["videoMetadata"],_),e}function nx(t){const e={},n=m(t,["handle"]);if(n!=null&&b(e,["handle"],n),m(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function ix(t){const e={};if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=m(t,["computerUse"]);n!=null&&b(e,["computerUse"],n);const r=m(t,["fileSearch"]);r!=null&&b(e,["fileSearch"],r);const o=m(t,["codeExecution"]);if(o!=null&&b(e,["codeExecution"],o),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=m(t,["functionDeclarations"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(v=>v)),b(e,["functionDeclarations"],p)}const l=m(t,["googleMaps"]);l!=null&&b(e,["googleMaps"],Vw(l));const c=m(t,["googleSearch"]);c!=null&&b(e,["googleSearch"],jw(c));const f=m(t,["googleSearchRetrieval"]);f!=null&&b(e,["googleSearchRetrieval"],f);const d=m(t,["urlContext"]);return d!=null&&b(e,["urlContext"],d),e}function rx(t){const e={},n=m(t,["retrieval"]);n!=null&&b(e,["retrieval"],n);const r=m(t,["computerUse"]);if(r!=null&&b(e,["computerUse"],r),m(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=m(t,["codeExecution"]);o!=null&&b(e,["codeExecution"],o);const a=m(t,["enterpriseWebSearch"]);a!=null&&b(e,["enterpriseWebSearch"],a);const l=m(t,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(_=>Gw(_))),b(e,["functionDeclarations"],v)}const c=m(t,["googleMaps"]);c!=null&&b(e,["googleMaps"],c);const f=m(t,["googleSearch"]);f!=null&&b(e,["googleSearch"],f);const d=m(t,["googleSearchRetrieval"]);d!=null&&b(e,["googleSearchRetrieval"],d);const p=m(t,["urlContext"]);return p!=null&&b(e,["urlContext"],p),e}function sx(t){const e={},n=m(t,["promptTokenCount"]);n!=null&&b(e,["promptTokenCount"],n);const r=m(t,["cachedContentTokenCount"]);r!=null&&b(e,["cachedContentTokenCount"],r);const o=m(t,["candidatesTokenCount"]);o!=null&&b(e,["responseTokenCount"],o);const a=m(t,["toolUsePromptTokenCount"]);a!=null&&b(e,["toolUsePromptTokenCount"],a);const l=m(t,["thoughtsTokenCount"]);l!=null&&b(e,["thoughtsTokenCount"],l);const c=m(t,["totalTokenCount"]);c!=null&&b(e,["totalTokenCount"],c);const f=m(t,["promptTokensDetails"]);if(f!=null){let y=f;Array.isArray(y)&&(y=y.map(N=>N)),b(e,["promptTokensDetails"],y)}const d=m(t,["cacheTokensDetails"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(N=>N)),b(e,["cacheTokensDetails"],y)}const p=m(t,["candidatesTokensDetails"]);if(p!=null){let y=p;Array.isArray(y)&&(y=y.map(N=>N)),b(e,["responseTokensDetails"],y)}const v=m(t,["toolUsePromptTokensDetails"]);if(v!=null){let y=v;Array.isArray(y)&&(y=y.map(N=>N)),b(e,["toolUsePromptTokensDetails"],y)}const _=m(t,["trafficType"]);return _!=null&&b(e,["trafficType"],_),e}function ox(t){const e={},n=m(t,["type"]);return n!=null&&b(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ax(t,e){const n={},r=m(t,["data"]);if(r!=null&&b(n,["data"],r),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=m(t,["mimeType"]);return o!=null&&b(n,["mimeType"],o),n}function lx(t,e){const n={},r=m(t,["content"]);r!=null&&b(n,["content"],r);const o=m(t,["citationMetadata"]);o!=null&&b(n,["citationMetadata"],ux(o));const a=m(t,["tokenCount"]);a!=null&&b(n,["tokenCount"],a);const l=m(t,["finishReason"]);l!=null&&b(n,["finishReason"],l);const c=m(t,["avgLogprobs"]);c!=null&&b(n,["avgLogprobs"],c);const f=m(t,["groundingMetadata"]);f!=null&&b(n,["groundingMetadata"],f);const d=m(t,["index"]);d!=null&&b(n,["index"],d);const p=m(t,["logprobsResult"]);p!=null&&b(n,["logprobsResult"],p);const v=m(t,["safetyRatings"]);if(v!=null){let y=v;Array.isArray(y)&&(y=y.map(N=>N)),b(n,["safetyRatings"],y)}const _=m(t,["urlContextMetadata"]);return _!=null&&b(n,["urlContextMetadata"],_),n}function ux(t,e){const n={},r=m(t,["citationSources"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),b(n,["citations"],o)}return n}function cx(t,e,n){const r={},o=m(e,["model"]);o!=null&&b(r,["_url","model"],pn(t,o));const a=m(e,["contents"]);if(a!=null){let l=Os(a);Array.isArray(l)&&(l=l.map(c=>c)),b(r,["contents"],l)}return r}function fx(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const o=m(t,["tokensInfo"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),b(n,["tokensInfo"],a)}return n}function dx(t,e){const n={},r=m(t,["values"]);r!=null&&b(n,["values"],r);const o=m(t,["statistics"]);return o!=null&&b(n,["statistics"],hx(o)),n}function hx(t,e){const n={},r=m(t,["truncated"]);r!=null&&b(n,["truncated"],r);const o=m(t,["token_count"]);return o!=null&&b(n,["tokenCount"],o),n}function Ad(t,e){const n={},r=m(t,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>x4(l))),b(n,["parts"],a)}const o=m(t,["role"]);return o!=null&&b(n,["role"],o),n}function px(t,e){const n={},r=m(t,["controlType"]);r!=null&&b(n,["controlType"],r);const o=m(t,["enableControlImageComputation"]);return o!=null&&b(n,["computeControl"],o),n}function mx(t,e){const n={};if(m(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(m(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(m(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function gx(t,e,n){const r={},o=m(t,["systemInstruction"]);e!==void 0&&o!=null&&b(e,["systemInstruction"],gr(o));const a=m(t,["tools"]);if(e!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>Kv(f))),b(e,["tools"],c)}const l=m(t,["generationConfig"]);return e!==void 0&&l!=null&&b(e,["generationConfig"],a4(l)),r}function vx(t,e,n){const r={},o=m(e,["model"]);o!=null&&b(r,["_url","model"],pn(t,o));const a=m(e,["contents"]);if(a!=null){let c=Os(a);Array.isArray(c)&&(c=c.map(f=>Ad(f))),b(r,["contents"],c)}const l=m(e,["config"]);return l!=null&&mx(l),r}function yx(t,e,n){const r={},o=m(e,["model"]);o!=null&&b(r,["_url","model"],pn(t,o));const a=m(e,["contents"]);if(a!=null){let c=Os(a);Array.isArray(c)&&(c=c.map(f=>f)),b(r,["contents"],c)}const l=m(e,["config"]);return l!=null&&gx(l,r),r}function bx(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const o=m(t,["totalTokens"]);o!=null&&b(n,["totalTokens"],o);const a=m(t,["cachedContentTokenCount"]);return a!=null&&b(n,["cachedContentTokenCount"],a),n}function _x(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const o=m(t,["totalTokens"]);return o!=null&&b(n,["totalTokens"],o),n}function wx(t,e,n){const r={},o=m(e,["model"]);return o!=null&&b(r,["_url","name"],pn(t,o)),r}function xx(t,e,n){const r={},o=m(e,["model"]);return o!=null&&b(r,["_url","name"],pn(t,o)),r}function Sx(t,e){const n={},r=m(t,["sdkHttpResponse"]);return r!=null&&b(n,["sdkHttpResponse"],r),n}function Ax(t,e){const n={},r=m(t,["sdkHttpResponse"]);return r!=null&&b(n,["sdkHttpResponse"],r),n}function Ex(t,e,n){const r={},o=m(t,["outputGcsUri"]);e!==void 0&&o!=null&&b(e,["parameters","storageUri"],o);const a=m(t,["negativePrompt"]);e!==void 0&&a!=null&&b(e,["parameters","negativePrompt"],a);const l=m(t,["numberOfImages"]);e!==void 0&&l!=null&&b(e,["parameters","sampleCount"],l);const c=m(t,["aspectRatio"]);e!==void 0&&c!=null&&b(e,["parameters","aspectRatio"],c);const f=m(t,["guidanceScale"]);e!==void 0&&f!=null&&b(e,["parameters","guidanceScale"],f);const d=m(t,["seed"]);e!==void 0&&d!=null&&b(e,["parameters","seed"],d);const p=m(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&b(e,["parameters","safetySetting"],p);const v=m(t,["personGeneration"]);e!==void 0&&v!=null&&b(e,["parameters","personGeneration"],v);const _=m(t,["includeSafetyAttributes"]);e!==void 0&&_!=null&&b(e,["parameters","includeSafetyAttributes"],_);const y=m(t,["includeRaiReason"]);e!==void 0&&y!=null&&b(e,["parameters","includeRaiReason"],y);const N=m(t,["language"]);e!==void 0&&N!=null&&b(e,["parameters","language"],N);const A=m(t,["outputMimeType"]);e!==void 0&&A!=null&&b(e,["parameters","outputOptions","mimeType"],A);const C=m(t,["outputCompressionQuality"]);e!==void 0&&C!=null&&b(e,["parameters","outputOptions","compressionQuality"],C);const T=m(t,["addWatermark"]);e!==void 0&&T!=null&&b(e,["parameters","addWatermark"],T);const k=m(t,["labels"]);e!==void 0&&k!=null&&b(e,["labels"],k);const U=m(t,["editMode"]);e!==void 0&&U!=null&&b(e,["parameters","editMode"],U);const z=m(t,["baseSteps"]);return e!==void 0&&z!=null&&b(e,["parameters","editConfig","baseSteps"],z),r}function Tx(t,e,n){const r={},o=m(e,["model"]);o!=null&&b(r,["_url","model"],pn(t,o));const a=m(e,["prompt"]);a!=null&&b(r,["instances[0]","prompt"],a);const l=m(e,["referenceImages"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(d=>C4(d))),b(r,["instances[0]","referenceImages"],f)}const c=m(e,["config"]);return c!=null&&Ex(c,r),r}function Nx(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const o=m(t,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>Ed(l))),b(n,["generatedImages"],a)}return n}function Cx(t,e,n){const r={},o=m(t,["taskType"]);e!==void 0&&o!=null&&b(e,["requests[]","taskType"],o);const a=m(t,["title"]);e!==void 0&&a!=null&&b(e,["requests[]","title"],a);const l=m(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&b(e,["requests[]","outputDimensionality"],l),m(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(m(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function Lx(t,e,n){const r={},o=m(t,["taskType"]);e!==void 0&&o!=null&&b(e,["instances[]","task_type"],o);const a=m(t,["title"]);e!==void 0&&a!=null&&b(e,["instances[]","title"],a);const l=m(t,["outputDimensionality"]);e!==void 0&&l!=null&&b(e,["parameters","outputDimensionality"],l);const c=m(t,["mimeType"]);e!==void 0&&c!=null&&b(e,["instances[]","mimeType"],c);const f=m(t,["autoTruncate"]);return e!==void 0&&f!=null&&b(e,["parameters","autoTruncate"],f),r}function Ix(t,e,n){const r={},o=m(e,["model"]);o!=null&&b(r,["_url","model"],pn(t,o));const a=m(e,["contents"]);if(a!=null){let f=Qp(t,a);Array.isArray(f)&&(f=f.map(d=>d)),b(r,["requests[]","content"],f)}const l=m(e,["config"]);l!=null&&Cx(l,r);const c=m(e,["model"]);return c!==void 0&&b(r,["requests[]","model"],pn(t,c)),r}function Mx(t,e,n){const r={},o=m(e,["model"]);o!=null&&b(r,["_url","model"],pn(t,o));const a=m(e,["contents"]);if(a!=null){let c=Qp(t,a);Array.isArray(c)&&(c=c.map(f=>f)),b(r,["instances[]","content"],c)}const l=m(e,["config"]);return l!=null&&Lx(l,r),r}function Rx(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const o=m(t,["embeddings"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),b(n,["embeddings"],l)}const a=m(t,["metadata"]);return a!=null&&b(n,["metadata"],a),n}function kx(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const o=m(t,["predictions[]","embeddings"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>dx(c))),b(n,["embeddings"],l)}const a=m(t,["metadata"]);return a!=null&&b(n,["metadata"],a),n}function Dx(t,e){const n={},r=m(t,["endpoint"]);r!=null&&b(n,["name"],r);const o=m(t,["deployedModelId"]);return o!=null&&b(n,["deployedModelId"],o),n}function Px(t,e){const n={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["fileUri"]);r!=null&&b(n,["fileUri"],r);const o=m(t,["mimeType"]);return o!=null&&b(n,["mimeType"],o),n}function Ux(t,e){const n={},r=m(t,["id"]);r!=null&&b(n,["id"],r);const o=m(t,["args"]);o!=null&&b(n,["args"],o);const a=m(t,["name"]);if(a!=null&&b(n,["name"],a),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function Ox(t,e){const n={},r=m(t,["allowedFunctionNames"]);r!=null&&b(n,["allowedFunctionNames"],r);const o=m(t,["mode"]);if(o!=null&&b(n,["mode"],o),m(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function Fx(t,e){const n={},r=m(t,["description"]);r!=null&&b(n,["description"],r);const o=m(t,["name"]);o!=null&&b(n,["name"],o);const a=m(t,["parameters"]);a!=null&&b(n,["parameters"],a);const l=m(t,["parametersJsonSchema"]);l!=null&&b(n,["parametersJsonSchema"],l);const c=m(t,["response"]);c!=null&&b(n,["response"],c);const f=m(t,["responseJsonSchema"]);if(f!=null&&b(n,["responseJsonSchema"],f),m(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function Bx(t,e,n,r){const o={},a=m(e,["systemInstruction"]);n!==void 0&&a!=null&&b(n,["systemInstruction"],Ad(gr(a)));const l=m(e,["temperature"]);l!=null&&b(o,["temperature"],l);const c=m(e,["topP"]);c!=null&&b(o,["topP"],c);const f=m(e,["topK"]);f!=null&&b(o,["topK"],f);const d=m(e,["candidateCount"]);d!=null&&b(o,["candidateCount"],d);const p=m(e,["maxOutputTokens"]);p!=null&&b(o,["maxOutputTokens"],p);const v=m(e,["stopSequences"]);v!=null&&b(o,["stopSequences"],v);const _=m(e,["responseLogprobs"]);_!=null&&b(o,["responseLogprobs"],_);const y=m(e,["logprobs"]);y!=null&&b(o,["logprobs"],y);const N=m(e,["presencePenalty"]);N!=null&&b(o,["presencePenalty"],N);const A=m(e,["frequencyPenalty"]);A!=null&&b(o,["frequencyPenalty"],A);const C=m(e,["seed"]);C!=null&&b(o,["seed"],C);const T=m(e,["responseMimeType"]);T!=null&&b(o,["responseMimeType"],T);const k=m(e,["responseSchema"]);k!=null&&b(o,["responseSchema"],e0(k));const U=m(e,["responseJsonSchema"]);if(U!=null&&b(o,["responseJsonSchema"],U),m(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(m(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const z=m(e,["safetySettings"]);if(n!==void 0&&z!=null){let I=z;Array.isArray(I)&&(I=I.map(ce=>L4(ce))),b(n,["safetySettings"],I)}const q=m(e,["tools"]);if(n!==void 0&&q!=null){let I=tc(q);Array.isArray(I)&&(I=I.map(ce=>U4(ec(ce)))),b(n,["tools"],I)}const J=m(e,["toolConfig"]);if(n!==void 0&&J!=null&&b(n,["toolConfig"],P4(J)),m(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const H=m(e,["cachedContent"]);n!==void 0&&H!=null&&b(n,["cachedContent"],Ca(t,H));const Z=m(e,["responseModalities"]);Z!=null&&b(o,["responseModalities"],Z);const W=m(e,["mediaResolution"]);W!=null&&b(o,["mediaResolution"],W);const ae=m(e,["speechConfig"]);if(ae!=null&&b(o,["speechConfig"],t0(ae)),m(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const B=m(e,["thinkingConfig"]);B!=null&&b(o,["thinkingConfig"],B);const D=m(e,["imageConfig"]);D!=null&&b(o,["imageConfig"],d4(D));const X=m(e,["enableEnhancedCivicAnswers"]);if(X!=null&&b(o,["enableEnhancedCivicAnswers"],X),m(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return o}function zx(t,e,n,r){const o={},a=m(e,["systemInstruction"]);n!==void 0&&a!=null&&b(n,["systemInstruction"],gr(a));const l=m(e,["temperature"]);l!=null&&b(o,["temperature"],l);const c=m(e,["topP"]);c!=null&&b(o,["topP"],c);const f=m(e,["topK"]);f!=null&&b(o,["topK"],f);const d=m(e,["candidateCount"]);d!=null&&b(o,["candidateCount"],d);const p=m(e,["maxOutputTokens"]);p!=null&&b(o,["maxOutputTokens"],p);const v=m(e,["stopSequences"]);v!=null&&b(o,["stopSequences"],v);const _=m(e,["responseLogprobs"]);_!=null&&b(o,["responseLogprobs"],_);const y=m(e,["logprobs"]);y!=null&&b(o,["logprobs"],y);const N=m(e,["presencePenalty"]);N!=null&&b(o,["presencePenalty"],N);const A=m(e,["frequencyPenalty"]);A!=null&&b(o,["frequencyPenalty"],A);const C=m(e,["seed"]);C!=null&&b(o,["seed"],C);const T=m(e,["responseMimeType"]);T!=null&&b(o,["responseMimeType"],T);const k=m(e,["responseSchema"]);k!=null&&b(o,["responseSchema"],e0(k));const U=m(e,["responseJsonSchema"]);U!=null&&b(o,["responseJsonSchema"],U);const z=m(e,["routingConfig"]);z!=null&&b(o,["routingConfig"],z);const q=m(e,["modelSelectionConfig"]);q!=null&&b(o,["modelConfig"],q);const J=m(e,["safetySettings"]);if(n!==void 0&&J!=null){let me=J;Array.isArray(me)&&(me=me.map(ge=>ge)),b(n,["safetySettings"],me)}const H=m(e,["tools"]);if(n!==void 0&&H!=null){let me=tc(H);Array.isArray(me)&&(me=me.map(ge=>Kv(ec(ge)))),b(n,["tools"],me)}const Z=m(e,["toolConfig"]);n!==void 0&&Z!=null&&b(n,["toolConfig"],Z);const W=m(e,["labels"]);n!==void 0&&W!=null&&b(n,["labels"],W);const ae=m(e,["cachedContent"]);n!==void 0&&ae!=null&&b(n,["cachedContent"],Ca(t,ae));const B=m(e,["responseModalities"]);B!=null&&b(o,["responseModalities"],B);const D=m(e,["mediaResolution"]);D!=null&&b(o,["mediaResolution"],D);const X=m(e,["speechConfig"]);X!=null&&b(o,["speechConfig"],t0(X));const I=m(e,["audioTimestamp"]);I!=null&&b(o,["audioTimestamp"],I);const ce=m(e,["thinkingConfig"]);ce!=null&&b(o,["thinkingConfig"],ce);const oe=m(e,["imageConfig"]);if(oe!=null&&b(o,["imageConfig"],h4(oe)),m(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const le=m(e,["modelArmorConfig"]);return n!==void 0&&le!=null&&b(n,["modelArmorConfig"],le),o}function y2(t,e,n){const r={},o=m(e,["model"]);o!=null&&b(r,["_url","model"],pn(t,o));const a=m(e,["contents"]);if(a!=null){let c=Os(a);Array.isArray(c)&&(c=c.map(f=>Ad(f))),b(r,["contents"],c)}const l=m(e,["config"]);return l!=null&&b(r,["generationConfig"],Bx(t,l,r)),r}function b2(t,e,n){const r={},o=m(e,["model"]);o!=null&&b(r,["_url","model"],pn(t,o));const a=m(e,["contents"]);if(a!=null){let c=Os(a);Array.isArray(c)&&(c=c.map(f=>f)),b(r,["contents"],c)}const l=m(e,["config"]);return l!=null&&b(r,["generationConfig"],zx(t,l,r)),r}function _2(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const o=m(t,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>lx(p))),b(n,["candidates"],d)}const a=m(t,["modelVersion"]);a!=null&&b(n,["modelVersion"],a);const l=m(t,["promptFeedback"]);l!=null&&b(n,["promptFeedback"],l);const c=m(t,["responseId"]);c!=null&&b(n,["responseId"],c);const f=m(t,["usageMetadata"]);return f!=null&&b(n,["usageMetadata"],f),n}function w2(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const o=m(t,["candidates"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(v=>v)),b(n,["candidates"],p)}const a=m(t,["createTime"]);a!=null&&b(n,["createTime"],a);const l=m(t,["modelVersion"]);l!=null&&b(n,["modelVersion"],l);const c=m(t,["promptFeedback"]);c!=null&&b(n,["promptFeedback"],c);const f=m(t,["responseId"]);f!=null&&b(n,["responseId"],f);const d=m(t,["usageMetadata"]);return d!=null&&b(n,["usageMetadata"],d),n}function qx(t,e,n){const r={};if(m(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=m(t,["numberOfImages"]);e!==void 0&&o!=null&&b(e,["parameters","sampleCount"],o);const a=m(t,["aspectRatio"]);e!==void 0&&a!=null&&b(e,["parameters","aspectRatio"],a);const l=m(t,["guidanceScale"]);if(e!==void 0&&l!=null&&b(e,["parameters","guidanceScale"],l),m(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=m(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&b(e,["parameters","safetySetting"],c);const f=m(t,["personGeneration"]);e!==void 0&&f!=null&&b(e,["parameters","personGeneration"],f);const d=m(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&b(e,["parameters","includeSafetyAttributes"],d);const p=m(t,["includeRaiReason"]);e!==void 0&&p!=null&&b(e,["parameters","includeRaiReason"],p);const v=m(t,["language"]);e!==void 0&&v!=null&&b(e,["parameters","language"],v);const _=m(t,["outputMimeType"]);e!==void 0&&_!=null&&b(e,["parameters","outputOptions","mimeType"],_);const y=m(t,["outputCompressionQuality"]);if(e!==void 0&&y!=null&&b(e,["parameters","outputOptions","compressionQuality"],y),m(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(m(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=m(t,["imageSize"]);if(e!==void 0&&N!=null&&b(e,["parameters","sampleImageSize"],N),m(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function Gx(t,e,n){const r={},o=m(t,["outputGcsUri"]);e!==void 0&&o!=null&&b(e,["parameters","storageUri"],o);const a=m(t,["negativePrompt"]);e!==void 0&&a!=null&&b(e,["parameters","negativePrompt"],a);const l=m(t,["numberOfImages"]);e!==void 0&&l!=null&&b(e,["parameters","sampleCount"],l);const c=m(t,["aspectRatio"]);e!==void 0&&c!=null&&b(e,["parameters","aspectRatio"],c);const f=m(t,["guidanceScale"]);e!==void 0&&f!=null&&b(e,["parameters","guidanceScale"],f);const d=m(t,["seed"]);e!==void 0&&d!=null&&b(e,["parameters","seed"],d);const p=m(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&b(e,["parameters","safetySetting"],p);const v=m(t,["personGeneration"]);e!==void 0&&v!=null&&b(e,["parameters","personGeneration"],v);const _=m(t,["includeSafetyAttributes"]);e!==void 0&&_!=null&&b(e,["parameters","includeSafetyAttributes"],_);const y=m(t,["includeRaiReason"]);e!==void 0&&y!=null&&b(e,["parameters","includeRaiReason"],y);const N=m(t,["language"]);e!==void 0&&N!=null&&b(e,["parameters","language"],N);const A=m(t,["outputMimeType"]);e!==void 0&&A!=null&&b(e,["parameters","outputOptions","mimeType"],A);const C=m(t,["outputCompressionQuality"]);e!==void 0&&C!=null&&b(e,["parameters","outputOptions","compressionQuality"],C);const T=m(t,["addWatermark"]);e!==void 0&&T!=null&&b(e,["parameters","addWatermark"],T);const k=m(t,["labels"]);e!==void 0&&k!=null&&b(e,["labels"],k);const U=m(t,["imageSize"]);e!==void 0&&U!=null&&b(e,["parameters","sampleImageSize"],U);const z=m(t,["enhancePrompt"]);return e!==void 0&&z!=null&&b(e,["parameters","enhancePrompt"],z),r}function Hx(t,e,n){const r={},o=m(e,["model"]);o!=null&&b(r,["_url","model"],pn(t,o));const a=m(e,["prompt"]);a!=null&&b(r,["instances[0]","prompt"],a);const l=m(e,["config"]);return l!=null&&qx(l,r),r}function Vx(t,e,n){const r={},o=m(e,["model"]);o!=null&&b(r,["_url","model"],pn(t,o));const a=m(e,["prompt"]);a!=null&&b(r,["instances[0]","prompt"],a);const l=m(e,["config"]);return l!=null&&Gx(l,r),r}function jx(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const o=m(t,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>i4(c))),b(n,["generatedImages"],l)}const a=m(t,["positivePromptSafetyAttributes"]);return a!=null&&b(n,["positivePromptSafetyAttributes"],Jv(a)),n}function Yx(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const o=m(t,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>Ed(c))),b(n,["generatedImages"],l)}const a=m(t,["positivePromptSafetyAttributes"]);return a!=null&&b(n,["positivePromptSafetyAttributes"],Wv(a)),n}function Jx(t,e,n){const r={},o=m(t,["numberOfVideos"]);if(e!==void 0&&o!=null&&b(e,["parameters","sampleCount"],o),m(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=m(t,["durationSeconds"]);if(e!==void 0&&a!=null&&b(e,["parameters","durationSeconds"],a),m(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=m(t,["aspectRatio"]);e!==void 0&&l!=null&&b(e,["parameters","aspectRatio"],l);const c=m(t,["resolution"]);e!==void 0&&c!=null&&b(e,["parameters","resolution"],c);const f=m(t,["personGeneration"]);if(e!==void 0&&f!=null&&b(e,["parameters","personGeneration"],f),m(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=m(t,["negativePrompt"]);e!==void 0&&d!=null&&b(e,["parameters","negativePrompt"],d);const p=m(t,["enhancePrompt"]);if(e!==void 0&&p!=null&&b(e,["parameters","enhancePrompt"],p),m(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=m(t,["lastFrame"]);e!==void 0&&v!=null&&b(e,["instances[0]","lastFrame"],Td(v));const _=m(t,["referenceImages"]);if(e!==void 0&&_!=null){let y=_;Array.isArray(y)&&(y=y.map(N=>K4(N))),b(e,["instances[0]","referenceImages"],y)}if(m(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(m(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function Wx(t,e,n){const r={},o=m(t,["numberOfVideos"]);e!==void 0&&o!=null&&b(e,["parameters","sampleCount"],o);const a=m(t,["outputGcsUri"]);e!==void 0&&a!=null&&b(e,["parameters","storageUri"],a);const l=m(t,["fps"]);e!==void 0&&l!=null&&b(e,["parameters","fps"],l);const c=m(t,["durationSeconds"]);e!==void 0&&c!=null&&b(e,["parameters","durationSeconds"],c);const f=m(t,["seed"]);e!==void 0&&f!=null&&b(e,["parameters","seed"],f);const d=m(t,["aspectRatio"]);e!==void 0&&d!=null&&b(e,["parameters","aspectRatio"],d);const p=m(t,["resolution"]);e!==void 0&&p!=null&&b(e,["parameters","resolution"],p);const v=m(t,["personGeneration"]);e!==void 0&&v!=null&&b(e,["parameters","personGeneration"],v);const _=m(t,["pubsubTopic"]);e!==void 0&&_!=null&&b(e,["parameters","pubsubTopic"],_);const y=m(t,["negativePrompt"]);e!==void 0&&y!=null&&b(e,["parameters","negativePrompt"],y);const N=m(t,["enhancePrompt"]);e!==void 0&&N!=null&&b(e,["parameters","enhancePrompt"],N);const A=m(t,["generateAudio"]);e!==void 0&&A!=null&&b(e,["parameters","generateAudio"],A);const C=m(t,["lastFrame"]);e!==void 0&&C!=null&&b(e,["instances[0]","lastFrame"],uo(C));const T=m(t,["referenceImages"]);if(e!==void 0&&T!=null){let z=T;Array.isArray(z)&&(z=z.map(q=>X4(q))),b(e,["instances[0]","referenceImages"],z)}const k=m(t,["mask"]);e!==void 0&&k!=null&&b(e,["instances[0]","mask"],W4(k));const U=m(t,["compressionQuality"]);return e!==void 0&&U!=null&&b(e,["parameters","compressionQuality"],U),r}function Kx(t,e){const n={},r=m(t,["name"]);r!=null&&b(n,["name"],r);const o=m(t,["metadata"]);o!=null&&b(n,["metadata"],o);const a=m(t,["done"]);a!=null&&b(n,["done"],a);const l=m(t,["error"]);l!=null&&b(n,["error"],l);const c=m(t,["response","generateVideoResponse"]);return c!=null&&b(n,["response"],Qx(c)),n}function Xx(t,e){const n={},r=m(t,["name"]);r!=null&&b(n,["name"],r);const o=m(t,["metadata"]);o!=null&&b(n,["metadata"],o);const a=m(t,["done"]);a!=null&&b(n,["done"],a);const l=m(t,["error"]);l!=null&&b(n,["error"],l);const c=m(t,["response"]);return c!=null&&b(n,["response"],e4(c)),n}function Zx(t,e,n){const r={},o=m(e,["model"]);o!=null&&b(r,["_url","model"],pn(t,o));const a=m(e,["prompt"]);a!=null&&b(r,["instances[0]","prompt"],a);const l=m(e,["image"]);l!=null&&b(r,["instances[0]","image"],Td(l));const c=m(e,["video"]);c!=null&&b(r,["instances[0]","video"],Xv(c));const f=m(e,["source"]);f!=null&&t4(f,r);const d=m(e,["config"]);return d!=null&&Jx(d,r),r}function $x(t,e,n){const r={},o=m(e,["model"]);o!=null&&b(r,["_url","model"],pn(t,o));const a=m(e,["prompt"]);a!=null&&b(r,["instances[0]","prompt"],a);const l=m(e,["image"]);l!=null&&b(r,["instances[0]","image"],uo(l));const c=m(e,["video"]);c!=null&&b(r,["instances[0]","video"],Zv(c));const f=m(e,["source"]);f!=null&&n4(f,r);const d=m(e,["config"]);return d!=null&&Wx(d,r),r}function Qx(t,e){const n={},r=m(t,["generatedSamples"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>s4(c))),b(n,["generatedVideos"],l)}const o=m(t,["raiMediaFilteredCount"]);o!=null&&b(n,["raiMediaFilteredCount"],o);const a=m(t,["raiMediaFilteredReasons"]);return a!=null&&b(n,["raiMediaFilteredReasons"],a),n}function e4(t,e){const n={},r=m(t,["videos"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>o4(c))),b(n,["generatedVideos"],l)}const o=m(t,["raiMediaFilteredCount"]);o!=null&&b(n,["raiMediaFilteredCount"],o);const a=m(t,["raiMediaFilteredReasons"]);return a!=null&&b(n,["raiMediaFilteredReasons"],a),n}function t4(t,e,n){const r={},o=m(t,["prompt"]);e!==void 0&&o!=null&&b(e,["instances[0]","prompt"],o);const a=m(t,["image"]);e!==void 0&&a!=null&&b(e,["instances[0]","image"],Td(a));const l=m(t,["video"]);return e!==void 0&&l!=null&&b(e,["instances[0]","video"],Xv(l)),r}function n4(t,e,n){const r={},o=m(t,["prompt"]);e!==void 0&&o!=null&&b(e,["instances[0]","prompt"],o);const a=m(t,["image"]);e!==void 0&&a!=null&&b(e,["instances[0]","image"],uo(a));const l=m(t,["video"]);return e!==void 0&&l!=null&&b(e,["instances[0]","video"],Zv(l)),r}function i4(t,e){const n={},r=m(t,["_self"]);r!=null&&b(n,["image"],p4(r));const o=m(t,["raiFilteredReason"]);o!=null&&b(n,["raiFilteredReason"],o);const a=m(t,["_self"]);return a!=null&&b(n,["safetyAttributes"],Jv(a)),n}function Ed(t,e){const n={},r=m(t,["_self"]);r!=null&&b(n,["image"],Yv(r));const o=m(t,["raiFilteredReason"]);o!=null&&b(n,["raiFilteredReason"],o);const a=m(t,["_self"]);a!=null&&b(n,["safetyAttributes"],Wv(a));const l=m(t,["prompt"]);return l!=null&&b(n,["enhancedPrompt"],l),n}function r4(t,e){const n={},r=m(t,["_self"]);r!=null&&b(n,["mask"],Yv(r));const o=m(t,["labels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),b(n,["labels"],a)}return n}function s4(t,e){const n={},r=m(t,["video"]);return r!=null&&b(n,["video"],Y4(r)),n}function o4(t,e){const n={},r=m(t,["_self"]);return r!=null&&b(n,["video"],J4(r)),n}function a4(t,e){const n={},r=m(t,["modelSelectionConfig"]);r!=null&&b(n,["modelConfig"],r);const o=m(t,["responseJsonSchema"]);o!=null&&b(n,["responseJsonSchema"],o);const a=m(t,["audioTimestamp"]);a!=null&&b(n,["audioTimestamp"],a);const l=m(t,["candidateCount"]);l!=null&&b(n,["candidateCount"],l);const c=m(t,["enableAffectiveDialog"]);c!=null&&b(n,["enableAffectiveDialog"],c);const f=m(t,["frequencyPenalty"]);f!=null&&b(n,["frequencyPenalty"],f);const d=m(t,["logprobs"]);d!=null&&b(n,["logprobs"],d);const p=m(t,["maxOutputTokens"]);p!=null&&b(n,["maxOutputTokens"],p);const v=m(t,["mediaResolution"]);v!=null&&b(n,["mediaResolution"],v);const _=m(t,["presencePenalty"]);_!=null&&b(n,["presencePenalty"],_);const y=m(t,["responseLogprobs"]);y!=null&&b(n,["responseLogprobs"],y);const N=m(t,["responseMimeType"]);N!=null&&b(n,["responseMimeType"],N);const A=m(t,["responseModalities"]);A!=null&&b(n,["responseModalities"],A);const C=m(t,["responseSchema"]);C!=null&&b(n,["responseSchema"],C);const T=m(t,["routingConfig"]);T!=null&&b(n,["routingConfig"],T);const k=m(t,["seed"]);k!=null&&b(n,["seed"],k);const U=m(t,["speechConfig"]);U!=null&&b(n,["speechConfig"],U);const z=m(t,["stopSequences"]);z!=null&&b(n,["stopSequences"],z);const q=m(t,["temperature"]);q!=null&&b(n,["temperature"],q);const J=m(t,["thinkingConfig"]);J!=null&&b(n,["thinkingConfig"],J);const H=m(t,["topK"]);H!=null&&b(n,["topK"],H);const Z=m(t,["topP"]);if(Z!=null&&b(n,["topP"],Z),m(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function l4(t,e,n){const r={},o=m(e,["model"]);return o!=null&&b(r,["_url","name"],pn(t,o)),r}function u4(t,e,n){const r={},o=m(e,["model"]);return o!=null&&b(r,["_url","name"],pn(t,o)),r}function c4(t,e){const n={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=m(t,["enableWidget"]);return r!=null&&b(n,["enableWidget"],r),n}function f4(t,e){const n={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=m(t,["timeRangeFilter"]);return r!=null&&b(n,["timeRangeFilter"],r),n}function d4(t,e){const n={},r=m(t,["aspectRatio"]);r!=null&&b(n,["aspectRatio"],r);const o=m(t,["imageSize"]);if(o!=null&&b(n,["imageSize"],o),m(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(m(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(m(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function h4(t,e){const n={},r=m(t,["aspectRatio"]);r!=null&&b(n,["aspectRatio"],r);const o=m(t,["imageSize"]);o!=null&&b(n,["imageSize"],o);const a=m(t,["personGeneration"]);a!=null&&b(n,["personGeneration"],a);const l=m(t,["outputMimeType"]);l!=null&&b(n,["imageOutputOptions","mimeType"],l);const c=m(t,["outputCompressionQuality"]);return c!=null&&b(n,["imageOutputOptions","compressionQuality"],c),n}function p4(t,e){const n={},r=m(t,["bytesBase64Encoded"]);r!=null&&b(n,["imageBytes"],Sl(r));const o=m(t,["mimeType"]);return o!=null&&b(n,["mimeType"],o),n}function Yv(t,e){const n={},r=m(t,["gcsUri"]);r!=null&&b(n,["gcsUri"],r);const o=m(t,["bytesBase64Encoded"]);o!=null&&b(n,["imageBytes"],Sl(o));const a=m(t,["mimeType"]);return a!=null&&b(n,["mimeType"],a),n}function Td(t,e){const n={};if(m(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=m(t,["imageBytes"]);r!=null&&b(n,["bytesBase64Encoded"],Sl(r));const o=m(t,["mimeType"]);return o!=null&&b(n,["mimeType"],o),n}function uo(t,e){const n={},r=m(t,["gcsUri"]);r!=null&&b(n,["gcsUri"],r);const o=m(t,["imageBytes"]);o!=null&&b(n,["bytesBase64Encoded"],Sl(o));const a=m(t,["mimeType"]);return a!=null&&b(n,["mimeType"],a),n}function m4(t,e,n,r){const o={},a=m(e,["pageSize"]);n!==void 0&&a!=null&&b(n,["_query","pageSize"],a);const l=m(e,["pageToken"]);n!==void 0&&l!=null&&b(n,["_query","pageToken"],l);const c=m(e,["filter"]);n!==void 0&&c!=null&&b(n,["_query","filter"],c);const f=m(e,["queryBase"]);return n!==void 0&&f!=null&&b(n,["_url","models_url"],Bv(t,f)),o}function g4(t,e,n,r){const o={},a=m(e,["pageSize"]);n!==void 0&&a!=null&&b(n,["_query","pageSize"],a);const l=m(e,["pageToken"]);n!==void 0&&l!=null&&b(n,["_query","pageToken"],l);const c=m(e,["filter"]);n!==void 0&&c!=null&&b(n,["_query","filter"],c);const f=m(e,["queryBase"]);return n!==void 0&&f!=null&&b(n,["_url","models_url"],Bv(t,f)),o}function v4(t,e,n){const r={},o=m(e,["config"]);return o!=null&&m4(t,o,r),r}function y4(t,e,n){const r={},o=m(e,["config"]);return o!=null&&g4(t,o,r),r}function b4(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const o=m(t,["nextPageToken"]);o!=null&&b(n,["nextPageToken"],o);const a=m(t,["_self"]);if(a!=null){let l=zv(a);Array.isArray(l)&&(l=l.map(c=>Ip(c))),b(n,["models"],l)}return n}function _4(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const o=m(t,["nextPageToken"]);o!=null&&b(n,["nextPageToken"],o);const a=m(t,["_self"]);if(a!=null){let l=zv(a);Array.isArray(l)&&(l=l.map(c=>Mp(c))),b(n,["models"],l)}return n}function w4(t,e){const n={},r=m(t,["maskMode"]);r!=null&&b(n,["maskMode"],r);const o=m(t,["segmentationClasses"]);o!=null&&b(n,["maskClasses"],o);const a=m(t,["maskDilation"]);return a!=null&&b(n,["dilation"],a),n}function Ip(t,e){const n={},r=m(t,["name"]);r!=null&&b(n,["name"],r);const o=m(t,["displayName"]);o!=null&&b(n,["displayName"],o);const a=m(t,["description"]);a!=null&&b(n,["description"],a);const l=m(t,["version"]);l!=null&&b(n,["version"],l);const c=m(t,["_self"]);c!=null&&b(n,["tunedModelInfo"],O4(c));const f=m(t,["inputTokenLimit"]);f!=null&&b(n,["inputTokenLimit"],f);const d=m(t,["outputTokenLimit"]);d!=null&&b(n,["outputTokenLimit"],d);const p=m(t,["supportedGenerationMethods"]);p!=null&&b(n,["supportedActions"],p);const v=m(t,["temperature"]);v!=null&&b(n,["temperature"],v);const _=m(t,["maxTemperature"]);_!=null&&b(n,["maxTemperature"],_);const y=m(t,["topP"]);y!=null&&b(n,["topP"],y);const N=m(t,["topK"]);N!=null&&b(n,["topK"],N);const A=m(t,["thinking"]);return A!=null&&b(n,["thinking"],A),n}function Mp(t,e){const n={},r=m(t,["name"]);r!=null&&b(n,["name"],r);const o=m(t,["displayName"]);o!=null&&b(n,["displayName"],o);const a=m(t,["description"]);a!=null&&b(n,["description"],a);const l=m(t,["versionId"]);l!=null&&b(n,["version"],l);const c=m(t,["deployedModels"]);if(c!=null){let _=c;Array.isArray(_)&&(_=_.map(y=>Dx(y))),b(n,["endpoints"],_)}const f=m(t,["labels"]);f!=null&&b(n,["labels"],f);const d=m(t,["_self"]);d!=null&&b(n,["tunedModelInfo"],F4(d));const p=m(t,["defaultCheckpointId"]);p!=null&&b(n,["defaultCheckpointId"],p);const v=m(t,["checkpoints"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(y=>y)),b(n,["checkpoints"],_)}return n}function x4(t,e){const n={},r=m(t,["mediaResolution"]);r!=null&&b(n,["mediaResolution"],r);const o=m(t,["codeExecutionResult"]);o!=null&&b(n,["codeExecutionResult"],o);const a=m(t,["executableCode"]);a!=null&&b(n,["executableCode"],a);const l=m(t,["fileData"]);l!=null&&b(n,["fileData"],Px(l));const c=m(t,["functionCall"]);c!=null&&b(n,["functionCall"],Ux(c));const f=m(t,["functionResponse"]);f!=null&&b(n,["functionResponse"],f);const d=m(t,["inlineData"]);d!=null&&b(n,["inlineData"],ax(d));const p=m(t,["text"]);p!=null&&b(n,["text"],p);const v=m(t,["thought"]);v!=null&&b(n,["thought"],v);const _=m(t,["thoughtSignature"]);_!=null&&b(n,["thoughtSignature"],_);const y=m(t,["videoMetadata"]);return y!=null&&b(n,["videoMetadata"],y),n}function S4(t,e){const n={},r=m(t,["productImage"]);return r!=null&&b(n,["image"],uo(r)),n}function A4(t,e,n){const r={},o=m(t,["numberOfImages"]);e!==void 0&&o!=null&&b(e,["parameters","sampleCount"],o);const a=m(t,["baseSteps"]);e!==void 0&&a!=null&&b(e,["parameters","baseSteps"],a);const l=m(t,["outputGcsUri"]);e!==void 0&&l!=null&&b(e,["parameters","storageUri"],l);const c=m(t,["seed"]);e!==void 0&&c!=null&&b(e,["parameters","seed"],c);const f=m(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&b(e,["parameters","safetySetting"],f);const d=m(t,["personGeneration"]);e!==void 0&&d!=null&&b(e,["parameters","personGeneration"],d);const p=m(t,["addWatermark"]);e!==void 0&&p!=null&&b(e,["parameters","addWatermark"],p);const v=m(t,["outputMimeType"]);e!==void 0&&v!=null&&b(e,["parameters","outputOptions","mimeType"],v);const _=m(t,["outputCompressionQuality"]);e!==void 0&&_!=null&&b(e,["parameters","outputOptions","compressionQuality"],_);const y=m(t,["enhancePrompt"]);e!==void 0&&y!=null&&b(e,["parameters","enhancePrompt"],y);const N=m(t,["labels"]);return e!==void 0&&N!=null&&b(e,["labels"],N),r}function E4(t,e,n){const r={},o=m(e,["model"]);o!=null&&b(r,["_url","model"],pn(t,o));const a=m(e,["source"]);a!=null&&N4(a,r);const l=m(e,["config"]);return l!=null&&A4(l,r),r}function T4(t,e){const n={},r=m(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Ed(a))),b(n,["generatedImages"],o)}return n}function N4(t,e,n){const r={},o=m(t,["prompt"]);e!==void 0&&o!=null&&b(e,["instances[0]","prompt"],o);const a=m(t,["personImage"]);e!==void 0&&a!=null&&b(e,["instances[0]","personImage","image"],uo(a));const l=m(t,["productImages"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>S4(f))),b(e,["instances[0]","productImages"],c)}return r}function C4(t,e){const n={},r=m(t,["referenceImage"]);r!=null&&b(n,["referenceImage"],uo(r));const o=m(t,["referenceId"]);o!=null&&b(n,["referenceId"],o);const a=m(t,["referenceType"]);a!=null&&b(n,["referenceType"],a);const l=m(t,["maskImageConfig"]);l!=null&&b(n,["maskImageConfig"],w4(l));const c=m(t,["controlImageConfig"]);c!=null&&b(n,["controlImageConfig"],px(c));const f=m(t,["styleImageConfig"]);f!=null&&b(n,["styleImageConfig"],f);const d=m(t,["subjectImageConfig"]);return d!=null&&b(n,["subjectImageConfig"],d),n}function Jv(t,e){const n={},r=m(t,["safetyAttributes","categories"]);r!=null&&b(n,["categories"],r);const o=m(t,["safetyAttributes","scores"]);o!=null&&b(n,["scores"],o);const a=m(t,["contentType"]);return a!=null&&b(n,["contentType"],a),n}function Wv(t,e){const n={},r=m(t,["safetyAttributes","categories"]);r!=null&&b(n,["categories"],r);const o=m(t,["safetyAttributes","scores"]);o!=null&&b(n,["scores"],o);const a=m(t,["contentType"]);return a!=null&&b(n,["contentType"],a),n}function L4(t,e){const n={},r=m(t,["category"]);if(r!=null&&b(n,["category"],r),m(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=m(t,["threshold"]);return o!=null&&b(n,["threshold"],o),n}function I4(t,e){const n={},r=m(t,["image"]);return r!=null&&b(n,["image"],uo(r)),n}function M4(t,e,n){const r={},o=m(t,["mode"]);e!==void 0&&o!=null&&b(e,["parameters","mode"],o);const a=m(t,["maxPredictions"]);e!==void 0&&a!=null&&b(e,["parameters","maxPredictions"],a);const l=m(t,["confidenceThreshold"]);e!==void 0&&l!=null&&b(e,["parameters","confidenceThreshold"],l);const c=m(t,["maskDilation"]);e!==void 0&&c!=null&&b(e,["parameters","maskDilation"],c);const f=m(t,["binaryColorThreshold"]);e!==void 0&&f!=null&&b(e,["parameters","binaryColorThreshold"],f);const d=m(t,["labels"]);return e!==void 0&&d!=null&&b(e,["labels"],d),r}function R4(t,e,n){const r={},o=m(e,["model"]);o!=null&&b(r,["_url","model"],pn(t,o));const a=m(e,["source"]);a!=null&&D4(a,r);const l=m(e,["config"]);return l!=null&&M4(l,r),r}function k4(t,e){const n={},r=m(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>r4(a))),b(n,["generatedMasks"],o)}return n}function D4(t,e,n){const r={},o=m(t,["prompt"]);e!==void 0&&o!=null&&b(e,["instances[0]","prompt"],o);const a=m(t,["image"]);e!==void 0&&a!=null&&b(e,["instances[0]","image"],uo(a));const l=m(t,["scribbleImage"]);return e!==void 0&&l!=null&&b(e,["instances[0]","scribble"],I4(l)),r}function P4(t,e){const n={},r=m(t,["retrievalConfig"]);r!=null&&b(n,["retrievalConfig"],r);const o=m(t,["functionCallingConfig"]);return o!=null&&b(n,["functionCallingConfig"],Ox(o)),n}function U4(t,e){const n={};if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=m(t,["computerUse"]);r!=null&&b(n,["computerUse"],r);const o=m(t,["fileSearch"]);o!=null&&b(n,["fileSearch"],o);const a=m(t,["codeExecution"]);if(a!=null&&b(n,["codeExecution"],a),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=m(t,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(_=>_)),b(n,["functionDeclarations"],v)}const c=m(t,["googleMaps"]);c!=null&&b(n,["googleMaps"],c4(c));const f=m(t,["googleSearch"]);f!=null&&b(n,["googleSearch"],f4(f));const d=m(t,["googleSearchRetrieval"]);d!=null&&b(n,["googleSearchRetrieval"],d);const p=m(t,["urlContext"]);return p!=null&&b(n,["urlContext"],p),n}function Kv(t,e){const n={},r=m(t,["retrieval"]);r!=null&&b(n,["retrieval"],r);const o=m(t,["computerUse"]);if(o!=null&&b(n,["computerUse"],o),m(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=m(t,["codeExecution"]);a!=null&&b(n,["codeExecution"],a);const l=m(t,["enterpriseWebSearch"]);l!=null&&b(n,["enterpriseWebSearch"],l);const c=m(t,["functionDeclarations"]);if(c!=null){let _=c;Array.isArray(_)&&(_=_.map(y=>Fx(y))),b(n,["functionDeclarations"],_)}const f=m(t,["googleMaps"]);f!=null&&b(n,["googleMaps"],f);const d=m(t,["googleSearch"]);d!=null&&b(n,["googleSearch"],d);const p=m(t,["googleSearchRetrieval"]);p!=null&&b(n,["googleSearchRetrieval"],p);const v=m(t,["urlContext"]);return v!=null&&b(n,["urlContext"],v),n}function O4(t,e){const n={},r=m(t,["baseModel"]);r!=null&&b(n,["baseModel"],r);const o=m(t,["createTime"]);o!=null&&b(n,["createTime"],o);const a=m(t,["updateTime"]);return a!=null&&b(n,["updateTime"],a),n}function F4(t,e){const n={},r=m(t,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&b(n,["baseModel"],r);const o=m(t,["createTime"]);o!=null&&b(n,["createTime"],o);const a=m(t,["updateTime"]);return a!=null&&b(n,["updateTime"],a),n}function B4(t,e,n){const r={},o=m(t,["displayName"]);e!==void 0&&o!=null&&b(e,["displayName"],o);const a=m(t,["description"]);e!==void 0&&a!=null&&b(e,["description"],a);const l=m(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&b(e,["defaultCheckpointId"],l),r}function z4(t,e,n){const r={},o=m(t,["displayName"]);e!==void 0&&o!=null&&b(e,["displayName"],o);const a=m(t,["description"]);e!==void 0&&a!=null&&b(e,["description"],a);const l=m(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&b(e,["defaultCheckpointId"],l),r}function q4(t,e,n){const r={},o=m(e,["model"]);o!=null&&b(r,["_url","name"],pn(t,o));const a=m(e,["config"]);return a!=null&&B4(a,r),r}function G4(t,e,n){const r={},o=m(e,["model"]);o!=null&&b(r,["_url","model"],pn(t,o));const a=m(e,["config"]);return a!=null&&z4(a,r),r}function H4(t,e,n){const r={},o=m(t,["outputGcsUri"]);e!==void 0&&o!=null&&b(e,["parameters","storageUri"],o);const a=m(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&b(e,["parameters","safetySetting"],a);const l=m(t,["personGeneration"]);e!==void 0&&l!=null&&b(e,["parameters","personGeneration"],l);const c=m(t,["includeRaiReason"]);e!==void 0&&c!=null&&b(e,["parameters","includeRaiReason"],c);const f=m(t,["outputMimeType"]);e!==void 0&&f!=null&&b(e,["parameters","outputOptions","mimeType"],f);const d=m(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&b(e,["parameters","outputOptions","compressionQuality"],d);const p=m(t,["enhanceInputImage"]);e!==void 0&&p!=null&&b(e,["parameters","upscaleConfig","enhanceInputImage"],p);const v=m(t,["imagePreservationFactor"]);e!==void 0&&v!=null&&b(e,["parameters","upscaleConfig","imagePreservationFactor"],v);const _=m(t,["labels"]);e!==void 0&&_!=null&&b(e,["labels"],_);const y=m(t,["numberOfImages"]);e!==void 0&&y!=null&&b(e,["parameters","sampleCount"],y);const N=m(t,["mode"]);return e!==void 0&&N!=null&&b(e,["parameters","mode"],N),r}function V4(t,e,n){const r={},o=m(e,["model"]);o!=null&&b(r,["_url","model"],pn(t,o));const a=m(e,["image"]);a!=null&&b(r,["instances[0]","image"],uo(a));const l=m(e,["upscaleFactor"]);l!=null&&b(r,["parameters","upscaleConfig","upscaleFactor"],l);const c=m(e,["config"]);return c!=null&&H4(c,r),r}function j4(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const o=m(t,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>Ed(l))),b(n,["generatedImages"],a)}return n}function Y4(t,e){const n={},r=m(t,["uri"]);r!=null&&b(n,["uri"],r);const o=m(t,["encodedVideo"]);o!=null&&b(n,["videoBytes"],Sl(o));const a=m(t,["encoding"]);return a!=null&&b(n,["mimeType"],a),n}function J4(t,e){const n={},r=m(t,["gcsUri"]);r!=null&&b(n,["uri"],r);const o=m(t,["bytesBase64Encoded"]);o!=null&&b(n,["videoBytes"],Sl(o));const a=m(t,["mimeType"]);return a!=null&&b(n,["mimeType"],a),n}function W4(t,e){const n={},r=m(t,["image"]);r!=null&&b(n,["_self"],uo(r));const o=m(t,["maskMode"]);return o!=null&&b(n,["maskMode"],o),n}function K4(t,e){const n={},r=m(t,["image"]);r!=null&&b(n,["image"],Td(r));const o=m(t,["referenceType"]);return o!=null&&b(n,["referenceType"],o),n}function X4(t,e){const n={},r=m(t,["image"]);r!=null&&b(n,["image"],uo(r));const o=m(t,["referenceType"]);return o!=null&&b(n,["referenceType"],o),n}function Xv(t,e){const n={},r=m(t,["uri"]);r!=null&&b(n,["uri"],r);const o=m(t,["videoBytes"]);o!=null&&b(n,["encodedVideo"],Sl(o));const a=m(t,["mimeType"]);return a!=null&&b(n,["encoding"],a),n}function Zv(t,e){const n={},r=m(t,["uri"]);r!=null&&b(n,["gcsUri"],r);const o=m(t,["videoBytes"]);o!=null&&b(n,["bytesBase64Encoded"],Sl(o));const a=m(t,["mimeType"]);return a!=null&&b(n,["mimeType"],a),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Z4(t,e){const n={},r=m(t,["displayName"]);return e!==void 0&&r!=null&&b(e,["displayName"],r),n}function $4(t){const e={},n=m(t,["config"]);return n!=null&&Z4(n,e),e}function Q4(t,e){const n={},r=m(t,["force"]);return e!==void 0&&r!=null&&b(e,["_query","force"],r),n}function eS(t){const e={},n=m(t,["name"]);n!=null&&b(e,["_url","name"],n);const r=m(t,["config"]);return r!=null&&Q4(r,e),e}function tS(t){const e={},n=m(t,["name"]);return n!=null&&b(e,["_url","name"],n),e}function nS(t,e){const n={},r=m(t,["customMetadata"]);if(e!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),b(e,["customMetadata"],a)}const o=m(t,["chunkingConfig"]);return e!==void 0&&o!=null&&b(e,["chunkingConfig"],o),n}function iS(t){const e={},n=m(t,["name"]);n!=null&&b(e,["name"],n);const r=m(t,["metadata"]);r!=null&&b(e,["metadata"],r);const o=m(t,["done"]);o!=null&&b(e,["done"],o);const a=m(t,["error"]);a!=null&&b(e,["error"],a);const l=m(t,["response"]);return l!=null&&b(e,["response"],sS(l)),e}function rS(t){const e={},n=m(t,["fileSearchStoreName"]);n!=null&&b(e,["_url","file_search_store_name"],n);const r=m(t,["fileName"]);r!=null&&b(e,["fileName"],r);const o=m(t,["config"]);return o!=null&&nS(o,e),e}function sS(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=m(t,["parent"]);r!=null&&b(e,["parent"],r);const o=m(t,["documentName"]);return o!=null&&b(e,["documentName"],o),e}function oS(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const o=m(t,["pageToken"]);return e!==void 0&&o!=null&&b(e,["_query","pageToken"],o),n}function aS(t){const e={},n=m(t,["config"]);return n!=null&&oS(n,e),e}function lS(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const o=m(t,["fileSearchStores"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),b(e,["fileSearchStores"],a)}return e}function $v(t,e){const n={},r=m(t,["mimeType"]);e!==void 0&&r!=null&&b(e,["mimeType"],r);const o=m(t,["displayName"]);e!==void 0&&o!=null&&b(e,["displayName"],o);const a=m(t,["customMetadata"]);if(e!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>f)),b(e,["customMetadata"],c)}const l=m(t,["chunkingConfig"]);return e!==void 0&&l!=null&&b(e,["chunkingConfig"],l),n}function uS(t){const e={},n=m(t,["fileSearchStoreName"]);n!=null&&b(e,["_url","file_search_store_name"],n);const r=m(t,["config"]);return r!=null&&$v(r,e),e}function cS(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fS="Content-Type",dS="X-Server-Timeout",hS="User-Agent",Rp="x-goog-api-client",pS="1.41.0",mS=`google-genai-sdk/${pS}`,gS="v1beta1",vS="v1beta",yS=5,bS=[408,429,500,502,503,504];class _S{constructor(e){var n,r,o;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const a={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const c=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!c?(a.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?a.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(a.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),a.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:gS}else{if(!this.clientOptions.apiKey)throw new $c({message:"API key must be set when using the Gemini API.",status:403});a.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:vS,a.baseUrl="https://generativelanguage.googleapis.com/"}a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const o=[this.getRequestUrlInternal(n)];return r&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===Tp.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),o=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[l,c]of Object.entries(e.queryParams))o.searchParams.append(l,String(c));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,o.toString(),e.abortSignal),this.unaryApiCall(o,a,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[o,a]of Object.entries(n))typeof a=="object"?r[o]=Object.assign(Object.assign({},r[o]),a):a!==void 0&&(r[o]=a);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),o=this.constructUrl(e.path,n,r);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,o.toString(),e.abortSignal),this.streamApiCall(o,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,o){if(n&&n.timeout||o){const a=new AbortController,l=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const c=setTimeout(()=>a.abort(),n.timeout);c&&typeof c.unref=="function"&&c.unref()}o&&o.addEventListener("abort",()=>{a.abort()}),e.signal=l}return n&&n.extraBody!==null&&wS(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async o=>(await x2(o),new Np(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async o=>(await x2(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){return so(this,arguments,function*(){var r;const o=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),a=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let l="";const c="data:",f=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:d,value:p}=yield Ft(o.read());if(d){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const v=a.decode(p,{stream:!0});try{const N=JSON.parse(v);if("error"in N){const A=JSON.parse(JSON.stringify(N.error)),C=A.status,T=A.code,k=`got status: ${C}. ${JSON.stringify(N)}`;if(T>=400&&T<600)throw new $c({message:k,status:T})}}catch(N){if(N.name==="ApiError")throw N}l+=v;let _=-1,y=0;for(;;){_=-1,y=0;for(const C of f){const T=l.indexOf(C);T!==-1&&(_===-1||T<_)&&(_=T,y=C.length)}if(_===-1)break;const N=l.substring(0,_);l=l.substring(_+y);const A=N.trim();if(A.startsWith(c)){const C=A.substring(c.length).trim();try{const T=new Response(C,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ft(new Np(T))}catch(T){throw new Error(`exception parsing stream chunk ${C}. ${T}`)}}}}}finally{o.releaseLock()}})}async apiCall(e,n){var r;if(!this.clientOptions.httpOptions||!this.clientOptions.httpOptions.retryOptions)return fetch(e,n);const o=this.clientOptions.httpOptions.retryOptions;return c3(async()=>{const l=await fetch(e,n);if(l.ok)return l;throw bS.includes(l.status)?new Error(`Retryable HTTP Error: ${l.statusText}`):new Iv(`Non-retryable exception ${l.statusText} sending request`)},{retries:((r=o.attempts)!==null&&r!==void 0?r:yS)-1})}getDefaultHeaders(){const e={},n=mS+" "+this.clientOptions.userAgentExtra;return e[hS]=n,e[Rp]=n,e[fS]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[o,a]of Object.entries(e.headers))r.append(o,a);e.timeout&&e.timeout>0&&r.append(dS,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const a=this.clientOptions.uploader,l=await a.stat(e);o.sizeBytes=String(l.size);const c=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:l.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=c;const f={file:o},d=this.getFileName(e),p=ht("upload/v1beta/files",f._url),v=await this.fetchUploadUrl(p,o.sizeBytes,o.mimeType,d,f,n==null?void 0:n.httpOptions);return a.upload(e,v,this)}async uploadFileToFileSearchStore(e,n,r){var o;const a=this.clientOptions.uploader,l=await a.stat(n),c=String(l.size),f=(o=r==null?void 0:r.mimeType)!==null&&o!==void 0?o:l.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,p=this.getFileName(n),v={};r!=null&&$v(r,v);const _=await this.fetchUploadUrl(d,c,f,p,v,r==null?void 0:r.httpOptions);return a.uploadToFileSearchStore(n,_,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,o,a,l){var c;let f={};l?f=l:f={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},o?{"X-Goog-Upload-File-Name":o}:{})};const d=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:f});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const p=(c=d==null?void 0:d.headers)===null||c===void 0?void 0:c["x-goog-upload-url"];if(p===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return p}}async function x2(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const o=JSON.stringify(r);throw n>=400&&n<600?new $c({message:o,status:n}):new Error(o)}}function wS(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,l){const c=Object.assign({},a);for(const f in l)if(Object.prototype.hasOwnProperty.call(l,f)){const d=l[f],p=c[f];d&&typeof d=="object"&&!Array.isArray(d)&&p&&typeof p=="object"&&!Array.isArray(p)?c[f]=r(p,d):(p&&d&&typeof p!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof p}, New type: ${typeof d}. Overwriting.`),c[f]=d)}return c}const o=r(n,e);t.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xS="mcp_used/unknown";let SS=!1;function Qv(t){for(const e of t)if(AS(e)||typeof e=="object"&&"inputSchema"in e)return!0;return SS}function e5(t){var e;const n=(e=t[Rp])!==null&&e!==void 0?e:"";t[Rp]=(n+` ${xS}`).trimStart()}function AS(t){return t!==null&&typeof t=="object"&&t instanceof i0}function ES(t){return so(this,arguments,function*(n,r=100){let o,a=0;for(;a<r;){const l=yield Ft(n.listTools({cursor:o}));for(const c of l.tools)yield yield Ft(c),a++;if(!l.nextCursor)break;o=l.nextCursor}})}class i0{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new i0(e,n)}async initialize(){var e,n,r,o;if(this.mcpTools.length>0)return;const a={},l=[];for(const p of this.mcpClients)try{for(var c=!0,f=(n=void 0,oo(ES(p))),d;d=await f.next(),e=d.done,!e;c=!0){o=d.value,c=!1;const v=o;l.push(v);const _=v.name;if(a[_])throw new Error(`Duplicate function name ${_} found in MCP tools. Please ensure function names are unique.`);a[_]=p}}catch(v){n={error:v}}finally{try{!c&&!e&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),$3(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const l=await o.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function TS(t,e,n){const r=new V3;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),Object.assign(r,o),e(r)}class NS{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),l=IS(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),f=`${o}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${c}`;let d=()=>{};const p=new Promise(U=>{d=U}),v=e.callbacks,_=function(){d({})},y=this.apiClient,N={onopen:_,onmessage:U=>{TS(y,v.onmessage,U)},onerror:(n=v==null?void 0:v.onerror)!==null&&n!==void 0?n:function(U){},onclose:(r=v==null?void 0:v.onclose)!==null&&r!==void 0?r:function(U){}},A=this.webSocketFactory.create(f,LS(l),N);A.connect(),await p;const k={setup:{model:pn(this.apiClient,e.model)}};return A.send(JSON.stringify(k)),new CS(A,this.apiClient)}}class CS{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Zw(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Xw(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Yu.PLAY)}pause(){this.sendPlaybackControl(Yu.PAUSE)}stop(){this.sendPlaybackControl(Yu.STOP)}resetContext(){this.sendPlaybackControl(Yu.RESET_CONTEXT)}close(){this.conn.close()}}function LS(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function IS(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const MS="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function RS(t,e,n){const r=new H3;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const a=JSON.parse(o);if(t.isVertexAI()){const l=ex(a);Object.assign(r,l)}else Object.assign(r,a);e(r)}class kS{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new NS(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,o,a,l,c;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const f=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let p;const v=this.apiClient.getHeaders();e.config&&e.config.tools&&Qv(e.config.tools)&&e5(v);const _=OS(v);if(this.apiClient.isVertexAI()){const W=this.apiClient.getProject(),ae=this.apiClient.getLocation(),B=this.apiClient.getApiKey(),D=!!W&&!!ae||!!B;this.apiClient.getCustomBaseUrl()&&!D?p=f:(p=`${f}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(_,p))}else{const W=this.apiClient.getApiKey();let ae="BidiGenerateContent",B="key";W!=null&&W.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ae="BidiGenerateContentConstrained",B="access_token"),p=`${f}/ws/google.ai.generativelanguage.${d}.GenerativeService.${ae}?${B}=${W}`}let y=()=>{};const N=new Promise(W=>{y=W}),A=e.callbacks,C=function(){var W;(W=A==null?void 0:A.onopen)===null||W===void 0||W.call(A),y({})},T=this.apiClient,k={onopen:C,onmessage:W=>{RS(T,A.onmessage,W)},onerror:(n=A==null?void 0:A.onerror)!==null&&n!==void 0?n:function(W){},onclose:(r=A==null?void 0:A.onclose)!==null&&r!==void 0?r:function(W){}},U=this.webSocketFactory.create(p,US(_),k);U.connect(),await N;let z=pn(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&z.startsWith("publishers/")){const W=this.apiClient.getProject(),ae=this.apiClient.getLocation();W&&ae&&(z=`projects/${W}/locations/${ae}/`+z)}let q={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[hd.AUDIO]}:e.config.responseModalities=[hd.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const J=(c=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&c!==void 0?c:[],H=[];for(const W of J)if(this.isCallableTool(W)){const ae=W;H.push(await ae.tool())}else H.push(W);H.length>0&&(e.config.tools=H);const Z={model:z,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?q=Kw(this.apiClient,Z):q=Ww(this.apiClient,Z),delete q.config,U.send(JSON.stringify(q)),new PS(U,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const DS={turnComplete:!0};class PS{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Os(n.turns),e.isVertexAI()||(r=r.map(o=>Ad(o)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(MS)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},DS),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Qw(e)}:n={realtimeInput:$w(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function US(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function OS(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const S2=10;function A2(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const l of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Qu(l)){o=!0;break}if(!o)return!0;const a=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function Qu(t){return"callTool"in t&&typeof t.callTool=="function"}function FS(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>Qu(o)))!==null&&r!==void 0?r:!1}function E2(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,o)=>{if(Qu(r))return;const a=r;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(o)}),n}function T2(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BS extends Na{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,o,a,l,c;const f=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!FS(n)||A2(n.config))return await this.generateContentInternal(f);const d=E2(n);if(d.length>0){const A=d.map(C=>`tools[${C}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${A}.`)}let p,v;const _=Os(f.contents),y=(a=(o=(r=f.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&a!==void 0?a:S2;let N=0;for(;N<y&&(p=await this.generateContentInternal(f),!(!p.functionCalls||p.functionCalls.length===0));){const A=p.candidates[0].content,C=[];for(const T of(c=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&c!==void 0?c:[])if(Qu(T)){const U=await T.callTool(p.functionCalls);C.push(...U)}N++,v={role:"user",parts:C},f.contents=Os(f.contents),f.contents.push(A),f.contents.push(v),T2(f.config)&&(_.push(A),_.push(v))}return T2(f.config)&&(p.automaticFunctionCallingHistory=_),p},this.generateContentStream=async n=>{var r,o,a,l,c;if(this.maybeMoveToResponseJsonSchem(n),A2(n.config)){const v=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(v)}const f=E2(n);if(f.length>0){const v=f.map(_=>`tools[${_}]`).join(", ");throw new Error(`Incompatible tools found at ${v}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(a=(o=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||o===void 0?void 0:o.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,p=(c=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||c===void 0?void 0:c.disable;if(d&&!p)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var o;let a;const l=[];if(r!=null&&r.generatedImages)for(const f of r.generatedImages)f&&(f!=null&&f.safetyAttributes)&&((o=f==null?void 0:f.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?a=f==null?void 0:f.safetyAttributes:l.push(f);let c;return a?c={generatedImages:l,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:c={generatedImages:l,sdkHttpResponse:r.sdkHttpResponse},c}),this.list=async n=>{var r;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((r=l.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new eu(Ta.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(l),l)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(o)},this.generateVideos=async n=>{var r,o,a,l,c,f;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((o=n.video)===null||o===void 0)&&o.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.uri&&(!((f=(c=n.source)===null||c===void 0?void 0:c.video)===null||f===void 0)&&f.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,o;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const l=await Promise.all(a.map(async f=>Qu(f)?await f.tool():f)),c={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(c.config.tools=l,e.config&&e.config.tools&&Qv(e.config.tools)){const f=(o=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&o!==void 0?o:{};let d=Object.assign({},f);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),e5(d),c.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return c}async initAfcToolsMap(e){var n,r,o;const a=new Map;for(const l of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Qu(l)){const c=l,f=await c.tool();for(const d of(o=f.functionDeclarations)!==null&&o!==void 0?o:[]){if(!d.name)throw new Error("Function declaration name is required.");if(a.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);a.set(d.name,c)}}return a}async processAfcStream(e){var n,r,o;const a=(o=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&o!==void 0?o:S2;let l=!1,c=0;const f=await this.initAfcToolsMap(e);return(function(d,p,v){return so(this,arguments,function*(){for(var _,y,N,A,C,T;c<a;){l&&(c++,l=!1);const q=yield Ft(d.processParamsMaybeAddMcpUsage(v)),J=yield Ft(d.generateContentStreamInternal(q)),H=[],Z=[];try{for(var k=!0,U=(y=void 0,oo(J)),z;z=yield Ft(U.next()),_=z.done,!_;k=!0){A=z.value,k=!1;const W=A;if(yield yield Ft(W),W.candidates&&(!((C=W.candidates[0])===null||C===void 0)&&C.content)){Z.push(W.candidates[0].content);for(const ae of(T=W.candidates[0].content.parts)!==null&&T!==void 0?T:[])if(c<a&&ae.functionCall){if(!ae.functionCall.name)throw new Error("Function call name was not returned by the model.");if(p.has(ae.functionCall.name)){const B=yield Ft(p.get(ae.functionCall.name).callTool([ae.functionCall]));H.push(...B)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${p.keys()}, mising tool: ${ae.functionCall.name}`)}}}}catch(W){y={error:W}}finally{try{!k&&!_&&(N=U.return)&&(yield Ft(N.call(U)))}finally{if(y)throw y.error}}if(H.length>0){l=!0;const W=new jc;W.candidates=[{content:{role:"user",parts:H}}],yield yield Ft(W);const ae=[];ae.push(...Z),ae.push({role:"user",parts:H});const B=Os(v.contents).concat(ae);v.contents=B}else break}})})(this,f,e)}async generateContentInternal(e){var n,r,o,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=b2(this.apiClient,e);return c=ht("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(v=>{const _=v;return _.sdkHttpResponse={headers:p.headers},_})),l.then(p=>{const v=w2(p),_=new jc;return Object.assign(_,v),_})}else{const d=y2(this.apiClient,e);return c=ht("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(v=>{const _=v;return _.sdkHttpResponse={headers:p.headers},_})),l.then(p=>{const v=_2(p),_=new jc;return Object.assign(_,v),_})}}async generateContentStreamInternal(e){var n,r,o,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=b2(this.apiClient,e);return c=ht("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(v){return so(this,arguments,function*(){var _,y,N,A;try{for(var C=!0,T=oo(v),k;k=yield Ft(T.next()),_=k.done,!_;C=!0){A=k.value,C=!1;const U=A,z=w2(yield Ft(U.json()),e);z.sdkHttpResponse={headers:U.headers};const q=new jc;Object.assign(q,z),yield yield Ft(q)}}catch(U){y={error:U}}finally{try{!C&&!_&&(N=T.return)&&(yield Ft(N.call(T)))}finally{if(y)throw y.error}}})})}else{const d=y2(this.apiClient,e);return c=ht("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),l.then(function(v){return so(this,arguments,function*(){var _,y,N,A;try{for(var C=!0,T=oo(v),k;k=yield Ft(T.next()),_=k.done,!_;C=!0){A=k.value,C=!1;const U=A,z=_2(yield Ft(U.json()),e);z.sdkHttpResponse={headers:U.headers};const q=new jc;Object.assign(q,z),yield yield Ft(q)}}catch(U){y={error:U}}finally{try{!C&&!_&&(N=T.return)&&(yield Ft(N.call(T)))}finally{if(y)throw y.error}}})})}}async embedContent(e){var n,r,o,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=Mx(this.apiClient,e);return c=ht("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(v=>{const _=v;return _.sdkHttpResponse={headers:p.headers},_})),l.then(p=>{const v=kx(p),_=new t2;return Object.assign(_,v),_})}else{const d=Ix(this.apiClient,e);return c=ht("{model}:batchEmbedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(v=>{const _=v;return _.sdkHttpResponse={headers:p.headers},_})),l.then(p=>{const v=Rx(p),_=new t2;return Object.assign(_,v),_})}}async generateImagesInternal(e){var n,r,o,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=Vx(this.apiClient,e);return c=ht("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(v=>{const _=v;return _.sdkHttpResponse={headers:p.headers},_})),l.then(p=>{const v=Yx(p),_=new n2;return Object.assign(_,v),_})}else{const d=Hx(this.apiClient,e);return c=ht("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(v=>{const _=v;return _.sdkHttpResponse={headers:p.headers},_})),l.then(p=>{const v=jx(p),_=new n2;return Object.assign(_,v),_})}}async editImageInternal(e){var n,r;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=Tx(this.apiClient,e);return a=ht("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),o.then(f=>{const d=Nx(f),p=new M3;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=V4(this.apiClient,e);return a=ht("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),o.then(f=>{const d=j4(f),p=new R3;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=E4(this.apiClient,e);return a=ht("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>{const d=T4(f),p=new k3;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=R4(this.apiClient,e);return a=ht("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>{const d=k4(f),p=new D3;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,o,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=u4(this.apiClient,e);return c=ht("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>Mp(p))}else{const d=l4(this.apiClient,e);return c=ht("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>Ip(p))}}async listInternal(e){var n,r,o,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=y4(this.apiClient,e);return c=ht("{models_url}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(v=>{const _=v;return _.sdkHttpResponse={headers:p.headers},_})),l.then(p=>{const v=_4(p),_=new i2;return Object.assign(_,v),_})}else{const d=v4(this.apiClient,e);return c=ht("{models_url}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(v=>{const _=v;return _.sdkHttpResponse={headers:p.headers},_})),l.then(p=>{const v=b4(p),_=new i2;return Object.assign(_,v),_})}}async update(e){var n,r,o,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=G4(this.apiClient,e);return c=ht("{model}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>Mp(p))}else{const d=q4(this.apiClient,e);return c=ht("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>Ip(p))}}async delete(e){var n,r,o,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=xx(this.apiClient,e);return c=ht("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(v=>{const _=v;return _.sdkHttpResponse={headers:p.headers},_})),l.then(p=>{const v=Ax(p),_=new r2;return Object.assign(_,v),_})}else{const d=wx(this.apiClient,e);return c=ht("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(v=>{const _=v;return _.sdkHttpResponse={headers:p.headers},_})),l.then(p=>{const v=Sx(p),_=new r2;return Object.assign(_,v),_})}}async countTokens(e){var n,r,o,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=yx(this.apiClient,e);return c=ht("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(v=>{const _=v;return _.sdkHttpResponse={headers:p.headers},_})),l.then(p=>{const v=_x(p),_=new s2;return Object.assign(_,v),_})}else{const d=vx(this.apiClient,e);return c=ht("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(v=>{const _=v;return _.sdkHttpResponse={headers:p.headers},_})),l.then(p=>{const v=bx(p),_=new s2;return Object.assign(_,v),_})}}async computeTokens(e){var n,r;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=cx(this.apiClient,e);return a=ht("{model}:computeTokens",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),o.then(f=>{const d=fx(f),p=new P3;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,o,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=$x(this.apiClient,e);return c=ht("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>{const v=Xx(p),_=new pd;return Object.assign(_,v),_})}else{const d=Zx(this.apiClient,e);return c=ht("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>{const v=Kx(p),_=new pd;return Object.assign(_,v),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zS extends Na{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,o,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=E3(e);return c=ht("{operationName}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l}else{const d=A3(e);return c=ht("{operationName}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l}}async fetchPredictVideosOperationInternal(e){var n,r;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=v3(e);return a=ht("{resourceName}:fetchPredictOperation",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qS(t){const e={},n=m(t,["data"]);if(n!=null&&b(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function GS(t){const e={},n=m(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>ZS(a))),b(e,["parts"],o)}const r=m(t,["role"]);return r!=null&&b(e,["role"],r),e}function HS(t,e,n){const r={},o=m(e,["expireTime"]);n!==void 0&&o!=null&&b(n,["expireTime"],o);const a=m(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&b(n,["newSessionExpireTime"],a);const l=m(e,["uses"]);n!==void 0&&l!=null&&b(n,["uses"],l);const c=m(e,["liveConnectConstraints"]);n!==void 0&&c!=null&&b(n,["bidiGenerateContentSetup"],XS(t,c));const f=m(e,["lockAdditionalFields"]);return n!==void 0&&f!=null&&b(n,["fieldMask"],f),r}function VS(t,e){const n={},r=m(e,["config"]);return r!=null&&b(n,["config"],HS(t,r,n)),n}function jS(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function YS(t){const e={},n=m(t,["id"]);n!=null&&b(e,["id"],n);const r=m(t,["args"]);r!=null&&b(e,["args"],r);const o=m(t,["name"]);if(o!=null&&b(e,["name"],o),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function JS(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&b(e,["enableWidget"],n),e}function WS(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],n),e}function KS(t,e){const n={},r=m(t,["generationConfig"]);e!==void 0&&r!=null&&b(e,["setup","generationConfig"],r);const o=m(t,["responseModalities"]);e!==void 0&&o!=null&&b(e,["setup","generationConfig","responseModalities"],o);const a=m(t,["temperature"]);e!==void 0&&a!=null&&b(e,["setup","generationConfig","temperature"],a);const l=m(t,["topP"]);e!==void 0&&l!=null&&b(e,["setup","generationConfig","topP"],l);const c=m(t,["topK"]);e!==void 0&&c!=null&&b(e,["setup","generationConfig","topK"],c);const f=m(t,["maxOutputTokens"]);e!==void 0&&f!=null&&b(e,["setup","generationConfig","maxOutputTokens"],f);const d=m(t,["mediaResolution"]);e!==void 0&&d!=null&&b(e,["setup","generationConfig","mediaResolution"],d);const p=m(t,["seed"]);e!==void 0&&p!=null&&b(e,["setup","generationConfig","seed"],p);const v=m(t,["speechConfig"]);e!==void 0&&v!=null&&b(e,["setup","generationConfig","speechConfig"],n0(v));const _=m(t,["thinkingConfig"]);e!==void 0&&_!=null&&b(e,["setup","generationConfig","thinkingConfig"],_);const y=m(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&b(e,["setup","generationConfig","enableAffectiveDialog"],y);const N=m(t,["systemInstruction"]);e!==void 0&&N!=null&&b(e,["setup","systemInstruction"],GS(gr(N)));const A=m(t,["tools"]);if(e!==void 0&&A!=null){let J=tc(A);Array.isArray(J)&&(J=J.map(H=>QS(ec(H)))),b(e,["setup","tools"],J)}const C=m(t,["sessionResumption"]);e!==void 0&&C!=null&&b(e,["setup","sessionResumption"],$S(C));const T=m(t,["inputAudioTranscription"]);e!==void 0&&T!=null&&b(e,["setup","inputAudioTranscription"],T);const k=m(t,["outputAudioTranscription"]);e!==void 0&&k!=null&&b(e,["setup","outputAudioTranscription"],k);const U=m(t,["realtimeInputConfig"]);e!==void 0&&U!=null&&b(e,["setup","realtimeInputConfig"],U);const z=m(t,["contextWindowCompression"]);e!==void 0&&z!=null&&b(e,["setup","contextWindowCompression"],z);const q=m(t,["proactivity"]);if(e!==void 0&&q!=null&&b(e,["setup","proactivity"],q),m(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function XS(t,e){const n={},r=m(e,["model"]);r!=null&&b(n,["setup","model"],pn(t,r));const o=m(e,["config"]);return o!=null&&b(n,["config"],KS(o,n)),n}function ZS(t){const e={},n=m(t,["mediaResolution"]);n!=null&&b(e,["mediaResolution"],n);const r=m(t,["codeExecutionResult"]);r!=null&&b(e,["codeExecutionResult"],r);const o=m(t,["executableCode"]);o!=null&&b(e,["executableCode"],o);const a=m(t,["fileData"]);a!=null&&b(e,["fileData"],jS(a));const l=m(t,["functionCall"]);l!=null&&b(e,["functionCall"],YS(l));const c=m(t,["functionResponse"]);c!=null&&b(e,["functionResponse"],c);const f=m(t,["inlineData"]);f!=null&&b(e,["inlineData"],qS(f));const d=m(t,["text"]);d!=null&&b(e,["text"],d);const p=m(t,["thought"]);p!=null&&b(e,["thought"],p);const v=m(t,["thoughtSignature"]);v!=null&&b(e,["thoughtSignature"],v);const _=m(t,["videoMetadata"]);return _!=null&&b(e,["videoMetadata"],_),e}function $S(t){const e={},n=m(t,["handle"]);if(n!=null&&b(e,["handle"],n),m(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function QS(t){const e={};if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=m(t,["computerUse"]);n!=null&&b(e,["computerUse"],n);const r=m(t,["fileSearch"]);r!=null&&b(e,["fileSearch"],r);const o=m(t,["codeExecution"]);if(o!=null&&b(e,["codeExecution"],o),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=m(t,["functionDeclarations"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(v=>v)),b(e,["functionDeclarations"],p)}const l=m(t,["googleMaps"]);l!=null&&b(e,["googleMaps"],JS(l));const c=m(t,["googleSearch"]);c!=null&&b(e,["googleSearch"],WS(c));const f=m(t,["googleSearchRetrieval"]);f!=null&&b(e,["googleSearchRetrieval"],f);const d=m(t,["urlContext"]);return d!=null&&b(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eA(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const o=Object.keys(r).map(a=>`${n}.${a}`);e.push(...o)}else e.push(n)}return e.join(",")}function tA(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const o=t.fieldMask;if(n){const a=eA(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];o.length>0&&(c=o.map(d=>l.includes(d)?`generationConfig.${d}`:d));const f=[];a&&f.push(a),c.length>0&&f.push(...c),f.length>0?t.fieldMask=f.join(","):delete t.fieldMask}else delete t.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?t.fieldMask=o.join(","):delete t.fieldMask;return t}class nA extends Na{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=VS(this.apiClient,e);a=ht("auth_tokens",c._url),l=c._query,delete c.config,delete c._url,delete c._query;const f=tA(c,e.config);return o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iA(t,e){const n={},r=m(t,["force"]);return e!==void 0&&r!=null&&b(e,["_query","force"],r),n}function rA(t){const e={},n=m(t,["name"]);n!=null&&b(e,["_url","name"],n);const r=m(t,["config"]);return r!=null&&iA(r,e),e}function sA(t){const e={},n=m(t,["name"]);return n!=null&&b(e,["_url","name"],n),e}function oA(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const o=m(t,["pageToken"]);return e!==void 0&&o!=null&&b(e,["_query","pageToken"],o),n}function aA(t){const e={},n=m(t,["parent"]);n!=null&&b(e,["_url","parent"],n);const r=m(t,["config"]);return r!=null&&oA(r,e),e}function lA(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const o=m(t,["documents"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),b(e,["documents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uA extends Na{constructor(e){super(),this.apiClient=e,this.list=async n=>new eu(Ta.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=sA(e);return a=ht("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>f)}}async delete(e){var n,r;let o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=rA(e);o=ht("{name}",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=aA(e);return a=ht("{parent}/documents",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>{const d=lA(f),p=new U3;return Object.assign(p,d),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cA extends Na{constructor(e,n=new uA(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new eu(Ta.PAGED_ITEM_FILE_SEARCH_STORES,o=>this.listInternal(o),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=$4(e);return a=ht("fileSearchStores",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>f)}}async get(e){var n,r;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=tS(e);return a=ht("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>f)}}async delete(e){var n,r;let o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=eS(e);o=ht("{name}",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=aS(e);return a=ht("fileSearchStores",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>{const d=lS(f),p=new O3;return Object.assign(p,d),p})}}async uploadToFileSearchStoreInternal(e){var n,r;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=uS(e);return a=ht("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>{const d=cS(f),p=new F3;return Object.assign(p,d),p})}}async importFile(e){var n,r;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=rS(e);return a=ht("{file_search_store_name}:importFile",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>{const d=iS(f),p=new Zp;return Object.assign(p,d),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let t5=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return t5=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const fA=()=>t5();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kp(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Dp=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fs extends Error{}class Lr extends Fs{constructor(e,n,r,o){super(`${Lr.makeMessage(e,n,r)}`),this.status=e,this.headers=o,this.error=n}static makeMessage(e,n,r){const o=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&o?`${e} ${o}`:e?`${e} status code (no body)`:o||"(no status code or body)"}static generate(e,n,r,o){if(!e||!o)return new Nd({message:r,cause:Dp(n)});const a=n;return e===400?new i5(e,a,r,o):e===401?new r5(e,a,r,o):e===403?new s5(e,a,r,o):e===404?new o5(e,a,r,o):e===409?new a5(e,a,r,o):e===422?new l5(e,a,r,o):e===429?new u5(e,a,r,o):e>=500?new c5(e,a,r,o):new Lr(e,a,r,o)}}class Pp extends Lr{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Nd extends Lr{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class n5 extends Nd{constructor({message:e}={}){super({message:e??"Request timed out."})}}class i5 extends Lr{}class r5 extends Lr{}class s5 extends Lr{}class o5 extends Lr{}class a5 extends Lr{}class l5 extends Lr{}class u5 extends Lr{}class c5 extends Lr{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dA=/^[a-z][a-z0-9+.-]*:/i,hA=t=>dA.test(t);let Up=t=>(Up=Array.isArray,Up(t));const pA=Up;let mA=pA;const N2=mA;function gA(t){if(!t)return!0;for(const e in t)return!1;return!0}function vA(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const yA=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Fs(`${t} must be an integer`);if(e<0)throw new Fs(`${t} must be a positive integer`);return e},bA=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _A=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vu="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wA(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const xA=()=>{var t,e,n,r,o;const a=wA();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Vu,"X-Stainless-OS":L2(Deno.build.os),"X-Stainless-Arch":C2(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Vu,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Vu,"X-Stainless-OS":L2((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":C2((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(o=globalThis.process.version)!==null&&o!==void 0?o:"unknown"};const l=SA();return l?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Vu,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${l.browser}`,"X-Stainless-Runtime-Version":l.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Vu,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function SA(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const o=r[1]||0,a=r[2]||0,l=r[3]||0;return{browser:e,version:`${o}.${a}.${l}`}}}return null}const C2=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",L2=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Zf;const AA=()=>Zf??(Zf=xA());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EA(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function f5(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function TA(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return f5({start(){},async pull(n){const{done:r,value:o}=await e.next();r?n.close():n.enqueue(o)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function d5(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function NA(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),o=r.cancel();r.releaseLock(),await o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CA=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const h5=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function rp(t,e,n){return h5(),new File(t,e??"unknown_file",n)}function LA(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const IA=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const p5=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",MA=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&p5(t),RA=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function kA(t,e,n){if(h5(),t=await t,MA(t))return t instanceof File?t:rp([await t.arrayBuffer()],t.name);if(RA(t)){const o=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),rp(await Op(o),e,n)}const r=await Op(t);if(e||(e=LA(t)),!(n!=null&&n.type)){const o=r.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof o=="string"&&(n=Object.assign(Object.assign({},n),{type:o}))}return rp(r,e,n)}async function Op(t){var e,n,r,o,a;let l=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)l.push(t);else if(p5(t))l.push(t instanceof Blob?t:await t.arrayBuffer());else if(IA(t))try{for(var c=!0,f=oo(t),d;d=await f.next(),e=d.done,!e;c=!0){o=d.value,c=!1;const p=o;l.push(...await Op(p))}}catch(p){n={error:p}}finally{try{!c&&!e&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}else{const p=(a=t==null?void 0:t.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof t}${p?`; constructor: ${p}`:""}${DA(t)}`)}return l}function DA(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class m5{constructor(e){this._client=e}}m5._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function g5(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const I2=Object.freeze(Object.create(null)),PA=(t=g5)=>(function(n,...r){if(n.length===1)return n[0];let o=!1;const a=[],l=n.reduce((p,v,_)=>{var y,N,A;/[?#]/.test(v)&&(o=!0);const C=r[_];let T=(o?encodeURIComponent:t)(""+C);return _!==r.length&&(C==null||typeof C=="object"&&C.toString===((A=Object.getPrototypeOf((N=Object.getPrototypeOf((y=C.hasOwnProperty)!==null&&y!==void 0?y:I2))!==null&&N!==void 0?N:I2))===null||A===void 0?void 0:A.toString))&&(T=C+"",a.push({start:p.length+v.length,length:T.length,error:`Value of type ${Object.prototype.toString.call(C).slice(8,-1)} is not a valid path parameter`})),p+v+(_===r.length?"":T)},""),c=l.split(/[?#]/,1)[0],f=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=f.exec(c))!==null;)a.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(a.sort((p,v)=>p.start-v.start),a.length>0){let p=0;const v=a.reduce((_,y)=>{const N=" ".repeat(y.start-p),A="^".repeat(y.length);return p=y.start+y.length,_+N+A},"");throw new Fs(`Path parameters result in path with invalid segments:
${a.map(_=>_.error).join(`
`)}
${l}
${v}`)}return l}),$f=PA(g5);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class v5 extends m5{create(e,n){var r;const{api_version:o=this._client.apiVersion}=e,a=gd(e,["api_version"]);if("model"in a&&"agent_config"in a)throw new Fs("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new Fs("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post($f`/${o}/interactions`,Object.assign(Object.assign({body:a},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:o=this._client.apiVersion}=n??{};return this._client.delete($f`/${o}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:o=this._client.apiVersion}=n??{};return this._client.post($f`/${o}/interactions/${e}/cancel`,r)}get(e,n={},r){var o;const a=n??{},{api_version:l=this._client.apiVersion}=a,c=gd(a,["api_version"]);return this._client.get($f`/${l}/interactions/${e}`,Object.assign(Object.assign({query:c},r),{stream:(o=n==null?void 0:n.stream)!==null&&o!==void 0?o:!1}))}}v5._key=Object.freeze(["interactions"]);class y5 extends v5{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UA(t){let e=0;for(const o of t)e+=o.length;const n=new Uint8Array(e);let r=0;for(const o of t)n.set(o,r),r+=o.length;return n}let Qf;function r0(t){let e;return(Qf??(e=new globalThis.TextEncoder,Qf=e.encode.bind(e)))(t)}let ed;function M2(t){let e;return(ed??(e=new globalThis.TextDecoder,ed=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cd{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?r0(e):e;this.buffer=UA([this.buffer,n]);const r=[];let o;for(;(o=OA(this.buffer,this.carriageReturnIndex))!=null;){if(o.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=o.index;continue}if(this.carriageReturnIndex!=null&&(o.index!==this.carriageReturnIndex+1||o.carriage)){r.push(M2(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?o.preceding-1:o.preceding,l=M2(this.buffer.subarray(0,a));r.push(l),this.buffer=this.buffer.subarray(o.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}Cd.NEWLINE_CHARS=new Set([`
`,"\r"]);Cd.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function OA(t,e){for(let o=e??0;o<t.length;o++){if(t[o]===10)return{preceding:o,index:o+1,carriage:!1};if(t[o]===13)return{preceding:o,index:o+1,carriage:!0}}return null}function FA(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vd={off:0,error:200,warn:300,info:400,debug:500},R2=(t,e,n)=>{if(t){if(vA(vd,t))return t;Nr(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(vd))}`)}};function Wc(){}function td(t,e,n){return!e||vd[t]>vd[n]?Wc:e[t].bind(e)}const BA={error:Wc,warn:Wc,info:Wc,debug:Wc};let k2=new WeakMap;function Nr(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return BA;const o=k2.get(n);if(o&&o[0]===r)return o[1];const a={error:td("error",n,r),warn:td("warn",n,r),info:td("info",n,r),debug:td("debug",n,r)};return k2.set(n,[r,a]),a}const Xl=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ju{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let o=!1;const a=r?Nr(r):console;function l(){return so(this,arguments,function*(){var f,d,p,v;if(o)throw new Fs("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let _=!1;try{try{for(var y=!0,N=oo(zA(e,n)),A;A=yield Ft(N.next()),f=A.done,!f;y=!0){v=A.value,y=!1;const C=v;if(!_)if(C.data.startsWith("[DONE]")){_=!0;continue}else try{yield yield Ft(JSON.parse(C.data))}catch(T){throw a.error("Could not parse message into JSON:",C.data),a.error("From chunk:",C.raw),T}}}catch(C){d={error:C}}finally{try{!y&&!f&&(p=N.return)&&(yield Ft(p.call(N)))}finally{if(d)throw d.error}}_=!0}catch(C){if(kp(C))return yield Ft(void 0);throw C}finally{_||n.abort()}})}return new Ju(l,n,r)}static fromReadableStream(e,n,r){let o=!1;function a(){return so(this,arguments,function*(){var f,d,p,v;const _=new Cd,y=d5(e);try{for(var N=!0,A=oo(y),C;C=yield Ft(A.next()),f=C.done,!f;N=!0){v=C.value,N=!1;const T=v;for(const k of _.decode(T))yield yield Ft(k)}}catch(T){d={error:T}}finally{try{!N&&!f&&(p=A.return)&&(yield Ft(p.call(A)))}finally{if(d)throw d.error}}for(const T of _.flush())yield yield Ft(T)})}function l(){return so(this,arguments,function*(){var f,d,p,v;if(o)throw new Fs("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let _=!1;try{try{for(var y=!0,N=oo(a()),A;A=yield Ft(N.next()),f=A.done,!f;y=!0){v=A.value,y=!1;const C=v;_||C&&(yield yield Ft(JSON.parse(C)))}}catch(C){d={error:C}}finally{try{!y&&!f&&(p=N.return)&&(yield Ft(p.call(N)))}finally{if(d)throw d.error}}_=!0}catch(C){if(kp(C))return yield Ft(void 0);throw C}finally{_||n.abort()}})}return new Ju(l,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),o=a=>({next:()=>{if(a.length===0){const l=r.next();e.push(l),n.push(l)}return a.shift()}});return[new Ju(()=>o(e),this.controller,this.client),new Ju(()=>o(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return f5({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:o,done:a}=await n.next();if(a)return r.close();const l=r0(JSON.stringify(o)+`
`);r.enqueue(l)}catch(o){r.error(o)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function zA(t,e){return so(this,arguments,function*(){var r,o,a,l;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Fs("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Fs("Attempted to iterate over a response with no body");const c=new GA,f=new Cd,d=d5(t.body);try{for(var p=!0,v=oo(qA(d)),_;_=yield Ft(v.next()),r=_.done,!r;p=!0){l=_.value,p=!1;const y=l;for(const N of f.decode(y)){const A=c.decode(N);A&&(yield yield Ft(A))}}}catch(y){o={error:y}}finally{try{!p&&!r&&(a=v.return)&&(yield Ft(a.call(v)))}finally{if(o)throw o.error}}for(const y of f.flush()){const N=c.decode(y);N&&(yield yield Ft(N))}})}function qA(t){return so(this,arguments,function*(){var n,r,o,a;let l=new Uint8Array;try{for(var c=!0,f=oo(t),d;d=yield Ft(f.next()),n=d.done,!n;c=!0){a=d.value,c=!1;const p=a;if(p==null)continue;const v=p instanceof ArrayBuffer?new Uint8Array(p):typeof p=="string"?r0(p):p;let _=new Uint8Array(l.length+v.length);_.set(l),_.set(v,l.length),l=_;let y;for(;(y=FA(l))!==-1;)yield yield Ft(l.slice(0,y)),l=l.slice(y)}}catch(p){r={error:p}}finally{try{!c&&!n&&(o=f.return)&&(yield Ft(o.call(f)))}finally{if(r)throw r.error}}l.length>0&&(yield yield Ft(l))})}class GA{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,o]=HA(e,":");return o.startsWith(" ")&&(o=o.substring(1)),n==="event"?this.event=o:n==="data"&&this.data.push(o),null}}function HA(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function VA(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:o,startTime:a}=e,l=await(async()=>{var c;if(e.options.stream)return Nr(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Ju.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const f=n.headers.get("content-type"),d=(c=f==null?void 0:f.split(";")[0])===null||c===void 0?void 0:c.trim();return(d==null?void 0:d.includes("application/json"))||(d==null?void 0:d.endsWith("+json"))?n.headers.get("content-length")==="0"?void 0:await n.json():await n.text()})();return Nr(t).debug(`[${r}] response parsed`,Xl({retryOfRequestLogID:o,url:n.url,status:n.status,body:l,durationMs:Date.now()-a})),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class s0 extends Promise{constructor(e,n,r=VA){super(o=>{o(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new s0(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const b5=Symbol("brand.privateNullableHeaders");function*jA(t){if(!t)return;if(b5 in t){const{values:r,nulls:o}=t;yield*r.entries();for(const a of o)yield[a,null];return}let e=!1,n;t instanceof Headers?n=t.entries():N2(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const o=r[0];if(typeof o!="string")throw new TypeError("expected header name to be a string");const a=N2(r[1])?r[1]:[r[1]];let l=!1;for(const c of a)c!==void 0&&(e&&!l&&(l=!0,yield[o,null]),yield[o,c])}}const Yc=t=>{const e=new Headers,n=new Set;for(const r of t){const o=new Set;for(const[a,l]of jA(r)){const c=a.toLowerCase();o.has(c)||(e.delete(a),o.add(c)),l===null?(e.delete(a),n.add(c)):(e.append(a,l),n.delete(c))}}return{[b5]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sp=t=>{var e,n,r,o,a,l;if(typeof globalThis.process<"u")return(r=(n=(e=f3)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(l=(a=(o=globalThis.Deno.env)===null||o===void 0?void 0:o.get)===null||a===void 0?void 0:a.call(o,t))===null||l===void 0?void 0:l.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var _5;class Ld{constructor(e){var n,r,o,a,l,c,f,{baseURL:d=sp("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:p=(n=sp("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:v="v1beta"}=e,_=gd(e,["baseURL","apiKey","apiVersion"]);const y=Object.assign(Object.assign({apiKey:p,apiVersion:v},_),{baseURL:d||"https://generativelanguage.googleapis.com"});this.baseURL=y.baseURL,this.timeout=(r=y.timeout)!==null&&r!==void 0?r:Ld.DEFAULT_TIMEOUT,this.logger=(o=y.logger)!==null&&o!==void 0?o:console;const N="warn";this.logLevel=N,this.logLevel=(l=(a=R2(y.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:R2(sp("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&l!==void 0?l:N,this.fetchOptions=y.fetchOptions,this.maxRetries=(c=y.maxRetries)!==null&&c!==void 0?c:2,this.fetch=(f=y.fetch)!==null&&f!==void 0?f:EA(),this.encoder=CA,this._options=y,this.apiKey=p,this.apiVersion=v,this.clientAdapter=y.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=Yc([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Yc([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Yc([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Fs(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Vu}`}defaultIdempotencyKey(){return`stainless-node-retry-${fA()}`}makeStatusError(e,n,r,o){return Lr.generate(e,n,r,o)}buildURL(e,n,r){const o=!this.baseURLOverridden()&&r||this.baseURL,a=hA(e)?new URL(e):new URL(o+(o.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),l=this.defaultQuery();return gA(l)||(n=Object.assign(Object.assign({},l),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(o=>Object.assign({method:e,path:n},o)))}request(e,n=null){return new s0(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var o,a,l;const c=await e,f=(o=c.maxRetries)!==null&&o!==void 0?o:this.maxRetries;n==null&&(n=f),await this.prepareOptions(c);const{req:d,url:p,timeout:v}=await this.buildRequest(c,{retryCount:f-n});await this.prepareRequest(d,{url:p,options:c});const _="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),y=r===void 0?"":`, retryOf: ${r}`,N=Date.now();if(Nr(this).debug(`[${_}] sending request`,Xl({retryOfRequestLogID:r,method:c.method,url:p,options:c,headers:d.headers})),!((a=c.signal)===null||a===void 0)&&a.aborted)throw new Pp;const A=new AbortController,C=await this.fetchWithTimeout(p,d,v,A).catch(Dp),T=Date.now();if(C instanceof globalThis.Error){const U=`retrying, ${n} attempts remaining`;if(!((l=c.signal)===null||l===void 0)&&l.aborted)throw new Pp;const z=kp(C)||/timed? ?out/i.test(String(C)+("cause"in C?String(C.cause):""));if(n)return Nr(this).info(`[${_}] connection ${z?"timed out":"failed"} - ${U}`),Nr(this).debug(`[${_}] connection ${z?"timed out":"failed"} (${U})`,Xl({retryOfRequestLogID:r,url:p,durationMs:T-N,message:C.message})),this.retryRequest(c,n,r??_);throw Nr(this).info(`[${_}] connection ${z?"timed out":"failed"} - error; no more retries left`),Nr(this).debug(`[${_}] connection ${z?"timed out":"failed"} (error; no more retries left)`,Xl({retryOfRequestLogID:r,url:p,durationMs:T-N,message:C.message})),z?new n5:new Nd({cause:C})}const k=`[${_}${y}] ${d.method} ${p} ${C.ok?"succeeded":"failed"} with status ${C.status} in ${T-N}ms`;if(!C.ok){const U=await this.shouldRetry(C);if(n&&U){const W=`retrying, ${n} attempts remaining`;return await NA(C.body),Nr(this).info(`${k} - ${W}`),Nr(this).debug(`[${_}] response error (${W})`,Xl({retryOfRequestLogID:r,url:C.url,status:C.status,headers:C.headers,durationMs:T-N})),this.retryRequest(c,n,r??_,C.headers)}const z=U?"error; no more retries left":"error; not retryable";Nr(this).info(`${k} - ${z}`);const q=await C.text().catch(W=>Dp(W).message),J=bA(q),H=J?void 0:q;throw Nr(this).debug(`[${_}] response error (${z})`,Xl({retryOfRequestLogID:r,url:C.url,status:C.status,headers:C.headers,message:H,durationMs:Date.now()-N})),this.makeStatusError(C.status,J,H,C.headers)}return Nr(this).info(k),Nr(this).debug(`[${_}] response start`,Xl({retryOfRequestLogID:r,url:C.url,status:C.status,headers:C.headers,durationMs:T-N})),{response:C,options:c,controller:A,requestLogID:_,retryOfRequestLogID:r,startTime:N}}async fetchWithTimeout(e,n,r,o){const a=n||{},{signal:l,method:c}=a,f=gd(a,["signal","method"]),d=this._makeAbort(o);l&&l.addEventListener("abort",d,{once:!0});const p=setTimeout(d,r),v=globalThis.ReadableStream&&f.body instanceof globalThis.ReadableStream||typeof f.body=="object"&&f.body!==null&&Symbol.asyncIterator in f.body,_=Object.assign(Object.assign(Object.assign({signal:o.signal},v?{duplex:"half"}:{}),{method:"GET"}),f);c&&(_.method=c.toUpperCase());try{return await this.fetch.call(void 0,e,_)}finally{clearTimeout(p)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,o){var a;let l;const c=o==null?void 0:o.get("retry-after-ms");if(c){const d=parseFloat(c);Number.isNaN(d)||(l=d)}const f=o==null?void 0:o.get("retry-after");if(f&&!l){const d=parseFloat(f);Number.isNaN(d)?l=Date.parse(f)-Date.now():l=d*1e3}if(!(l&&0<=l&&l<60*1e3)){const d=(a=e.maxRetries)!==null&&a!==void 0?a:this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(n,d)}return await _A(l),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const a=n-e,l=Math.min(.5*Math.pow(2,a),8),c=1-Math.random()*.25;return l*c*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,o,a;const l=Object.assign({},e),{method:c,path:f,query:d,defaultBaseURL:p}=l,v=this.buildURL(f,d,p);"timeout"in l&&yA("timeout",l.timeout),l.timeout=(r=l.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:_,body:y}=this.buildBody({options:l}),N=await this.buildHeaders({options:e,method:c,bodyHeaders:_,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:c,headers:N},l.signal&&{signal:l.signal}),globalThis.ReadableStream&&y instanceof globalThis.ReadableStream&&{duplex:"half"}),y&&{body:y}),(o=this.fetchOptions)!==null&&o!==void 0?o:{}),(a=l.fetchOptions)!==null&&a!==void 0?a:{}),url:v,timeout:l.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:o}){let a={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const l=await this.authHeaders(e);let c=Yc([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(o)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),AA()),this._options.defaultHeaders,r,e.headers,l]);return this.validateHeaders(c),c.values}_makeAbort(e){return()=>e.abort()}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=Yc([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:TA(e)}:this.encoder({body:e,headers:r})}}Ld.DEFAULT_TIMEOUT=6e4;class Wi extends Ld{constructor(){super(...arguments),this.interactions=new y5(this)}}_5=Wi;Wi.GeminiNextGenAPIClient=_5;Wi.GeminiNextGenAPIClientError=Fs;Wi.APIError=Lr;Wi.APIConnectionError=Nd;Wi.APIConnectionTimeoutError=n5;Wi.APIUserAbortError=Pp;Wi.NotFoundError=o5;Wi.ConflictError=a5;Wi.RateLimitError=u5;Wi.BadRequestError=i5;Wi.AuthenticationError=r5;Wi.InternalServerError=c5;Wi.PermissionDeniedError=s5;Wi.UnprocessableEntityError=l5;Wi.toFile=kA;Wi.Interactions=y5;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YA(t,e){const n={},r=m(t,["name"]);return r!=null&&b(n,["_url","name"],r),n}function JA(t,e){const n={},r=m(t,["name"]);return r!=null&&b(n,["_url","name"],r),n}function WA(t,e){const n={},r=m(t,["sdkHttpResponse"]);return r!=null&&b(n,["sdkHttpResponse"],r),n}function KA(t,e){const n={},r=m(t,["sdkHttpResponse"]);return r!=null&&b(n,["sdkHttpResponse"],r),n}function XA(t,e,n){const r={};if(m(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=m(t,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&b(e,["displayName"],o),m(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=m(t,["epochCount"]);e!==void 0&&a!=null&&b(e,["tuningTask","hyperparameters","epochCount"],a);const l=m(t,["learningRateMultiplier"]);if(l!=null&&b(r,["tuningTask","hyperparameters","learningRateMultiplier"],l),m(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(m(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(m(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(m(t,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(m(t,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const c=m(t,["batchSize"]);e!==void 0&&c!=null&&b(e,["tuningTask","hyperparameters","batchSize"],c);const f=m(t,["learningRate"]);if(e!==void 0&&f!=null&&b(e,["tuningTask","hyperparameters","learningRate"],f),m(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(m(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(m(t,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(m(t,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(m(t,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(m(t,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");if(m(t,["encryptionSpec"])!==void 0)throw new Error("encryptionSpec parameter is not supported in Gemini API.");return r}function ZA(t,e,n){const r={};let o=m(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const J=m(t,["validationDataset"]);e!==void 0&&J!=null&&b(e,["supervisedTuningSpec"],op(J))}else if(o==="PREFERENCE_TUNING"){const J=m(t,["validationDataset"]);e!==void 0&&J!=null&&b(e,["preferenceOptimizationSpec"],op(J))}else if(o==="DISTILLATION"){const J=m(t,["validationDataset"]);e!==void 0&&J!=null&&b(e,["distillationSpec"],op(J))}const a=m(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&b(e,["tunedModelDisplayName"],a);const l=m(t,["description"]);e!==void 0&&l!=null&&b(e,["description"],l);let c=m(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const J=m(t,["epochCount"]);e!==void 0&&J!=null&&b(e,["supervisedTuningSpec","hyperParameters","epochCount"],J)}else if(c==="PREFERENCE_TUNING"){const J=m(t,["epochCount"]);e!==void 0&&J!=null&&b(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],J)}else if(c==="DISTILLATION"){const J=m(t,["epochCount"]);e!==void 0&&J!=null&&b(e,["distillationSpec","hyperParameters","epochCount"],J)}let f=m(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const J=m(t,["learningRateMultiplier"]);e!==void 0&&J!=null&&b(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],J)}else if(f==="PREFERENCE_TUNING"){const J=m(t,["learningRateMultiplier"]);e!==void 0&&J!=null&&b(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],J)}else if(f==="DISTILLATION"){const J=m(t,["learningRateMultiplier"]);e!==void 0&&J!=null&&b(e,["distillationSpec","hyperParameters","learningRateMultiplier"],J)}let d=m(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const J=m(t,["exportLastCheckpointOnly"]);e!==void 0&&J!=null&&b(e,["supervisedTuningSpec","exportLastCheckpointOnly"],J)}else if(d==="PREFERENCE_TUNING"){const J=m(t,["exportLastCheckpointOnly"]);e!==void 0&&J!=null&&b(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],J)}else if(d==="DISTILLATION"){const J=m(t,["exportLastCheckpointOnly"]);e!==void 0&&J!=null&&b(e,["distillationSpec","exportLastCheckpointOnly"],J)}let p=m(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const J=m(t,["adapterSize"]);e!==void 0&&J!=null&&b(e,["supervisedTuningSpec","hyperParameters","adapterSize"],J)}else if(p==="PREFERENCE_TUNING"){const J=m(t,["adapterSize"]);e!==void 0&&J!=null&&b(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],J)}else if(p==="DISTILLATION"){const J=m(t,["adapterSize"]);e!==void 0&&J!=null&&b(e,["distillationSpec","hyperParameters","adapterSize"],J)}let v=m(n,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const J=m(t,["tuningMode"]);e!==void 0&&J!=null&&b(e,["supervisedTuningSpec","tuningMode"],J)}const _=m(t,["customBaseModel"]);e!==void 0&&_!=null&&b(e,["customBaseModel"],_);let y=m(n,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const J=m(t,["batchSize"]);e!==void 0&&J!=null&&b(e,["supervisedTuningSpec","hyperParameters","batchSize"],J)}let N=m(n,["config","method"]);if(N===void 0&&(N="SUPERVISED_FINE_TUNING"),N==="SUPERVISED_FINE_TUNING"){const J=m(t,["learningRate"]);e!==void 0&&J!=null&&b(e,["supervisedTuningSpec","hyperParameters","learningRate"],J)}const A=m(t,["labels"]);e!==void 0&&A!=null&&b(e,["labels"],A);const C=m(t,["beta"]);e!==void 0&&C!=null&&b(e,["preferenceOptimizationSpec","hyperParameters","beta"],C);const T=m(t,["baseTeacherModel"]);e!==void 0&&T!=null&&b(e,["distillationSpec","baseTeacherModel"],T);const k=m(t,["tunedTeacherModelSource"]);e!==void 0&&k!=null&&b(e,["distillationSpec","tunedTeacherModelSource"],k);const U=m(t,["sftLossWeightMultiplier"]);e!==void 0&&U!=null&&b(e,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],U);const z=m(t,["outputUri"]);e!==void 0&&z!=null&&b(e,["outputUri"],z);const q=m(t,["encryptionSpec"]);return e!==void 0&&q!=null&&b(e,["encryptionSpec"],q),r}function $A(t,e){const n={},r=m(t,["baseModel"]);r!=null&&b(n,["baseModel"],r);const o=m(t,["preTunedModel"]);o!=null&&b(n,["preTunedModel"],o);const a=m(t,["trainingDataset"]);a!=null&&u6(a);const l=m(t,["config"]);return l!=null&&XA(l,n),n}function QA(t,e){const n={},r=m(t,["baseModel"]);r!=null&&b(n,["baseModel"],r);const o=m(t,["preTunedModel"]);o!=null&&b(n,["preTunedModel"],o);const a=m(t,["trainingDataset"]);a!=null&&c6(a,n,e);const l=m(t,["config"]);return l!=null&&ZA(l,n,e),n}function e6(t,e){const n={},r=m(t,["name"]);return r!=null&&b(n,["_url","name"],r),n}function t6(t,e){const n={},r=m(t,["name"]);return r!=null&&b(n,["_url","name"],r),n}function n6(t,e,n){const r={},o=m(t,["pageSize"]);e!==void 0&&o!=null&&b(e,["_query","pageSize"],o);const a=m(t,["pageToken"]);e!==void 0&&a!=null&&b(e,["_query","pageToken"],a);const l=m(t,["filter"]);return e!==void 0&&l!=null&&b(e,["_query","filter"],l),r}function i6(t,e,n){const r={},o=m(t,["pageSize"]);e!==void 0&&o!=null&&b(e,["_query","pageSize"],o);const a=m(t,["pageToken"]);e!==void 0&&a!=null&&b(e,["_query","pageToken"],a);const l=m(t,["filter"]);return e!==void 0&&l!=null&&b(e,["_query","filter"],l),r}function r6(t,e){const n={},r=m(t,["config"]);return r!=null&&n6(r,n),n}function s6(t,e){const n={},r=m(t,["config"]);return r!=null&&i6(r,n),n}function o6(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const o=m(t,["nextPageToken"]);o!=null&&b(n,["nextPageToken"],o);const a=m(t,["tunedModels"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>w5(c))),b(n,["tuningJobs"],l)}return n}function a6(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const o=m(t,["nextPageToken"]);o!=null&&b(n,["nextPageToken"],o);const a=m(t,["tuningJobs"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>Fp(c))),b(n,["tuningJobs"],l)}return n}function l6(t,e){const n={},r=m(t,["name"]);r!=null&&b(n,["model"],r);const o=m(t,["name"]);return o!=null&&b(n,["endpoint"],o),n}function u6(t,e){const n={};if(m(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(m(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=m(t,["examples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),b(n,["examples","examples"],o)}return n}function c6(t,e,n){const r={};let o=m(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const l=m(t,["gcsUri"]);e!==void 0&&l!=null&&b(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(o==="PREFERENCE_TUNING"){const l=m(t,["gcsUri"]);e!==void 0&&l!=null&&b(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}else if(o==="DISTILLATION"){const l=m(t,["gcsUri"]);e!==void 0&&l!=null&&b(e,["distillationSpec","promptDatasetUri"],l)}let a=m(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const l=m(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&b(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(a==="PREFERENCE_TUNING"){const l=m(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&b(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}else if(a==="DISTILLATION"){const l=m(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&b(e,["distillationSpec","promptDatasetUri"],l)}if(m(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function w5(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const o=m(t,["name"]);o!=null&&b(n,["name"],o);const a=m(t,["state"]);a!=null&&b(n,["state"],Ov(a));const l=m(t,["createTime"]);l!=null&&b(n,["createTime"],l);const c=m(t,["tuningTask","startTime"]);c!=null&&b(n,["startTime"],c);const f=m(t,["tuningTask","completeTime"]);f!=null&&b(n,["endTime"],f);const d=m(t,["updateTime"]);d!=null&&b(n,["updateTime"],d);const p=m(t,["description"]);p!=null&&b(n,["description"],p);const v=m(t,["baseModel"]);v!=null&&b(n,["baseModel"],v);const _=m(t,["_self"]);return _!=null&&b(n,["tunedModel"],l6(_)),n}function Fp(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const o=m(t,["name"]);o!=null&&b(n,["name"],o);const a=m(t,["state"]);a!=null&&b(n,["state"],Ov(a));const l=m(t,["createTime"]);l!=null&&b(n,["createTime"],l);const c=m(t,["startTime"]);c!=null&&b(n,["startTime"],c);const f=m(t,["endTime"]);f!=null&&b(n,["endTime"],f);const d=m(t,["updateTime"]);d!=null&&b(n,["updateTime"],d);const p=m(t,["error"]);p!=null&&b(n,["error"],p);const v=m(t,["description"]);v!=null&&b(n,["description"],v);const _=m(t,["baseModel"]);_!=null&&b(n,["baseModel"],_);const y=m(t,["tunedModel"]);y!=null&&b(n,["tunedModel"],y);const N=m(t,["preTunedModel"]);N!=null&&b(n,["preTunedModel"],N);const A=m(t,["supervisedTuningSpec"]);A!=null&&b(n,["supervisedTuningSpec"],A);const C=m(t,["preferenceOptimizationSpec"]);C!=null&&b(n,["preferenceOptimizationSpec"],C);const T=m(t,["distillationSpec"]);T!=null&&b(n,["distillationSpec"],T);const k=m(t,["tuningDataStats"]);k!=null&&b(n,["tuningDataStats"],k);const U=m(t,["encryptionSpec"]);U!=null&&b(n,["encryptionSpec"],U);const z=m(t,["partnerModelTuningSpec"]);z!=null&&b(n,["partnerModelTuningSpec"],z);const q=m(t,["customBaseModel"]);q!=null&&b(n,["customBaseModel"],q);const J=m(t,["experiment"]);J!=null&&b(n,["experiment"],J);const H=m(t,["labels"]);H!=null&&b(n,["labels"],H);const Z=m(t,["outputUri"]);Z!=null&&b(n,["outputUri"],Z);const W=m(t,["pipelineJob"]);W!=null&&b(n,["pipelineJob"],W);const ae=m(t,["serviceAccount"]);ae!=null&&b(n,["serviceAccount"],ae);const B=m(t,["tunedModelDisplayName"]);B!=null&&b(n,["tunedModelDisplayName"],B);const D=m(t,["veoTuningSpec"]);return D!=null&&b(n,["veoTuningSpec"],D),n}function f6(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const o=m(t,["name"]);o!=null&&b(n,["name"],o);const a=m(t,["metadata"]);a!=null&&b(n,["metadata"],a);const l=m(t,["done"]);l!=null&&b(n,["done"],l);const c=m(t,["error"]);return c!=null&&b(n,["error"],c),n}function op(t,e){const n={},r=m(t,["gcsUri"]);r!=null&&b(n,["validationDatasetUri"],r);const o=m(t,["vertexDatasetResource"]);return o!=null&&b(n,["validationDatasetUri"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class d6 extends Na{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new eu(Ta.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const o={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(o.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:o});return a.baseModel=void 0,await this.tuneInternal(a)}else{const o=Object.assign({},n);return await this.tuneInternal(o)}else{const o=Object.assign({},n),a=await this.tuneMldevInternal(o);let l="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?l=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(l=a.name.split("/operations/")[0]),{name:l,state:Ep.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,o,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=t6(e);return c=ht("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(v=>{const _=v;return _.sdkHttpResponse={headers:p.headers},_})),l.then(p=>Fp(p))}else{const d=e6(e);return c=ht("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(v=>{const _=v;return _.sdkHttpResponse={headers:p.headers},_})),l.then(p=>w5(p))}}async listInternal(e){var n,r,o,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=s6(e);return c=ht("tuningJobs",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(v=>{const _=v;return _.sdkHttpResponse={headers:p.headers},_})),l.then(p=>{const v=a6(p),_=new o2;return Object.assign(_,v),_})}else{const d=r6(e);return c=ht("tunedModels",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(v=>{const _=v;return _.sdkHttpResponse={headers:p.headers},_})),l.then(p=>{const v=o6(p),_=new o2;return Object.assign(_,v),_})}}async cancel(e){var n,r,o,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=JA(e);return c=ht("{name}:cancel",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(v=>{const _=v;return _.sdkHttpResponse={headers:p.headers},_})),l.then(p=>{const v=KA(p),_=new a2;return Object.assign(_,v),_})}else{const d=YA(e);return c=ht("{name}:cancel",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(v=>{const _=v;return _.sdkHttpResponse={headers:p.headers},_})),l.then(p=>{const v=WA(p),_=new a2;return Object.assign(_,v),_})}}async tuneInternal(e){var n,r;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=QA(e,e);return a=ht("tuningJobs",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),o.then(f=>Fp(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=$A(e);return a=ht("tunedModels",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),o.then(f=>f6(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class h6{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const p6=1024*1024*8,m6=3,g6=1e3,v6=2,yd="x-goog-upload-status";async function y6(t,e,n){var r;const o=await x5(t,e,n),a=await(o==null?void 0:o.json());if(((r=o==null?void 0:o.headers)===null||r===void 0?void 0:r[yd])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function b6(t,e,n){var r;const o=await x5(t,e,n),a=await(o==null?void 0:o.json());if(((r=o==null?void 0:o.headers)===null||r===void 0?void 0:r[yd])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=Mv(a),c=new $p;return Object.assign(c,l),c}async function x5(t,e,n){var r,o;let a=0,l=0,c=new Np(new Response),f="upload";for(a=t.size;l<a;){const d=Math.min(p6,a-l),p=t.slice(l,l+d);l+d>=a&&(f+=", finalize");let v=0,_=g6;for(;v<m6&&(c=await n.request({path:"",body:p,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(l),"Content-Length":String(d)}}}),!(!((r=c==null?void 0:c.headers)===null||r===void 0)&&r[yd]));)v++,await w6(_),_=_*v6;if(l+=d,((o=c==null?void 0:c.headers)===null||o===void 0?void 0:o[yd])!=="active")break;if(a<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return c}async function _6(t){return{size:t.size,type:t.type}}function w6(t){return new Promise(e=>setTimeout(e,t))}class x6{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await y6(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await b6(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await _6(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class S6{create(e,n,r){return new A6(e,n,r)}}class A6{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const D2="x-goog-api-key";class E6{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(D2)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(D2,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const T6="gl-node/";class N6{get interactions(){var e;if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const n=this.httpOptions;n!=null&&n.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const r=new Wi({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:n==null?void 0:n.timeout,maxRetries:(e=n==null?void 0:n.retryOptions)===null||e===void 0?void 0:e.attempts});return this._interactions=r.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=m3(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const o=new E6(this.apiKey);this.apiClient=new _S({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:T6+"web",uploader:new x6,downloader:new h6}),this.models=new BS(this.apiClient),this.live=new kS(this.apiClient,o,new S6),this.batches=new j_(this.apiClient),this.chats=new Tw(this.models,this.apiClient),this.caches=new Sw(this.apiClient),this.files=new Fw(this.apiClient),this.operations=new zS(this.apiClient),this.authTokens=new nA(this.apiClient),this.tunings=new d6(this.apiClient),this.fileSearchStores=new cA(this.apiClient)}}const Cr={GEMINI:"rvc_gemini_api_key",GEMINI_ENDPOINT:"rvc_gemini_endpoint",GEMINI_TEXT_MODEL:"rvc_gemini_text_model",GEMINI_IMAGE_MODEL:"rvc_gemini_image_model",FAL:"rvc_fal_api_key"},Ea=t=>localStorage.getItem(t)??"",Jc=(t,e)=>e?localStorage.setItem(t,e):localStorage.removeItem(t),ud=()=>Ea(Cr.GEMINI),C6=()=>Ea(Cr.GEMINI_ENDPOINT),xl=()=>{const t=Ea(Cr.GEMINI_TEXT_MODEL);return t&&t!=="gemini-3-pro-preview"?t:"gemini-3-pro-high"},ic=()=>{const t=Ea(Cr.GEMINI_IMAGE_MODEL);return t&&t!=="gemini-3-pro-image-preview"?t:"gemini-3-pro-high"},P2=()=>({geminiApiKey:Ea(Cr.GEMINI),geminiEndpoint:Ea(Cr.GEMINI_ENDPOINT),geminiTextModel:Ea(Cr.GEMINI_TEXT_MODEL),geminiImageModel:Ea(Cr.GEMINI_IMAGE_MODEL),falApiKey:Ea(Cr.FAL)}),L6=t=>{Jc(Cr.GEMINI,t.geminiApiKey),Jc(Cr.GEMINI_ENDPOINT,t.geminiEndpoint),Jc(Cr.GEMINI_TEXT_MODEL,t.geminiTextModel),Jc(Cr.GEMINI_IMAGE_MODEL,t.geminiImageModel),Jc(Cr.FAL,t.falApiKey)},I6=()=>{Object.values(Cr).forEach(t=>localStorage.removeItem(t))},jo=()=>{const t=ud();if(!t)throw new Error("   Gemini API Key");const e=C6(),n={apiKey:t};return e&&(n.httpOptions={baseUrl:e}),new N6(n)};async function tu(t,e=4,n=2e3){var r,o,a,l,c;try{return await t()}catch(f){const d=(f==null?void 0:f.status)===503||(f==null?void 0:f.code)===503||((r=f==null?void 0:f.message)==null?void 0:r.toLowerCase().includes("overloaded"))||((o=f==null?void 0:f.message)==null?void 0:o.toLowerCase().includes("unavailable")),p=(f==null?void 0:f.status)===429||(f==null?void 0:f.code)===429||((a=f==null?void 0:f.message)==null?void 0:a.includes("429"))||((l=f==null?void 0:f.message)==null?void 0:l.toLowerCase().includes("resource_exhausted"))||((c=f==null?void 0:f.message)==null?void 0:c.toLowerCase().includes("quota"));if(e>0&&(d||p)){const v=p?Math.max(n,3e3):n;return console.warn(`${p?"429 ":"503 "}${v}ms  ${e} `),await new Promise(_=>setTimeout(_,v)),tu(t,e-1,n*2)}throw f}}async function Id(t,e=1500){const n=[];for(let r=0;r<t.length;r++)r>0&&await new Promise(o=>setTimeout(o,e)),n.push(await t[r]());return n}const rc=t=>{var e,n,r;return((r=(n=(e=t.candidates)==null?void 0:e[0])==null?void 0:n.content)==null?void 0:r.parts)||[]},o0=(t,e)=>{if(t!=="custom")return t;if(!e||e.width===0||e.height===0)return"1:1";const n=e.width/e.height,r=[{id:"1:1",value:1},{id:"16:9",value:16/9},{id:"9:16",value:9/16},{id:"4:3",value:4/3},{id:"3:4",value:3/4}];let o="1:1",a=Number.MAX_VALUE;for(const l of r){const c=Math.abs(n-l.value);c<a&&(a=c,o=l.id)}return o},Qc=t=>{try{return JSON.parse(t)}catch{try{const n=t.match(/```(?:json)?\s*([\s\S]*?)\s*```/);if(n)return JSON.parse(n[1]);const r=t.indexOf("{"),o=t.lastIndexOf("}"),a=t.indexOf("["),l=t.lastIndexOf("]");let c=-1,f=-1;const d=r!==-1&&o>r,p=a!==-1&&l>a;if(d&&p?r<a?(c=r,f=o):(c=a,f=l):d?(c=r,f=o):p&&(c=a,f=l),c!==-1&&f!==-1)return JSON.parse(t.substring(c,f+1))}catch{console.error("Failed to parse JSON:",t)}throw new Error("Invalid JSON response from API")}},M6={extremeWideShot:"Extreme Wide Shot",mediumCloseUp:"Medium Close-up",pov:"POV",birdsEyeView:"Bird's Eye View",wormsEyeView:"Worm's Eye View",trackingShot:"Tracking Shot",closeUp:"Close-up",nearView:"Near View",midView:"Mid View",farView:"Far View",heroShot:"Hero Shot",knolling:"Knolling",dutchAngle:"Dutch Angle",overShoulder:"Over-the-Shoulder",frontView:"Front View",topDown:"Top-down",lowAngle:"Low-Angle Shot",sideView:"Side View",upperBody:"Upper Body",lowerBody:"Lower Body",product_frontView:"Product: Front View",product_threeQuarterLeft:"Product: Three-Quarter Left",product_threeQuarterRight:"Product: Three-Quarter Right",product_profileLeft:"Product: Profile Left",product_profileRight:"Product: Profile Right",product_backView:"Product: Back View",product_topDown:"Product: Top-Down",product_bottomUp:"Product: Bottom-Up",product_45degreeAbove:"Product: 45 Above",product_macroShot:"Product: Macro Shot"},R6={fuji_classic_chrome:"Fuji Classic Chrome: Subdued colors, high contrast, documentary feel.",fuji_classic_negative:"Fuji Classic Negative: Nostalgic, muted but rich colors.",fuji_provia_velvia:"Fuji Provia / Velvia: Vibrant colors, cinematic atmosphere.",fuji_acros:"Fuji Acros: High-contrast monochrome, fine grain.",kodak_portra_400:"Kodak Portra: Warm skin tones, professional film look.",kodak_gold_200:"Kodak Gold 200: Warm nostalgic vintage vibe.",kodak_kodachrome:"Kodachrome: Saturated colors, legendary 70s look.",leica_look:"Leica Look: High dynamic range, sharp, European aesthetic.",cinematic_teal_orange:"Teal & Orange: Blockbuster movie grade.",cinematic_wes_anderson:"Wes Anderson: Symmetrical, pastel, whimsical.",cinematic_cyberpunk:"Cyberpunk: Neon blues and purples, noir.",social_vsco:"VSCO A4/A6: Clean, faded highlights, trendy minimalist.",social_huji:"Huji Cam: 90s disposable look, light leaks.",social_gingham:"Gingham: Soft washed-out look, warm haze.",moody_dark:"Moody Dark: Low saturation, deep shadows.",soft_pastel:"Soft Pastel: Clean bright tones, ethereal.",street_gritty:"Street Gritty: Cool tones, raw authentic texture.",bw_ilford_hp5:"Ilford HP5: Classic photojournalism monochrome.",bw_tri_x:"Kodak Tri-X: High contrast gritty grain.",bw_noir:"Film Noir: High contrast chiaroscuro lighting.",art_vaporwave:"Vaporwave: Neon grid, retro 80s glitch.",art_dreamcore:"Dreamcore: Surreal liminality, soft focus.",art_oil_painting:"Oil Painting: Classical brush stroke texture.",fashion_voguestyle:"Vogue Editorial: Bold, high-end studio polish.",fashion_high_key:"High Key Studio: Bright, commercial, minimal shadow."},S5={authenticity:"Authentic, relatable, UGC feel.",humor:"Humorous, playful, witty voice.",niche:"Niche focused, specialized language.",ai_collab:"Transparent AI co-creation tone.",fast_paced:"High energy, Reels/TikTok hooks.",educational:"Knowledgeable expert guide tone.",bts:"Behind-the-scenes storytelling.",ugc:"Community-focused, celebratory user voice."},sc=t=>{if(!t)return{en:"No description available.",cn:""};try{const e=t.replace(/```json/g,"").replace(/```/g,"").trim(),n=JSON.parse(e);return{en:n.en||"...",cn:n.cn||"..."}}catch{return{en:t.substring(0,150)+"...",cn:""}}},oc=`

Finally, provide a short one-sentence descriptive caption in both English and Chinese. Format as JSON: {"en": "...", "cn": "..."}.`;async function A5(t,e){const n=jo(),r={inlineData:{data:t.base64,mimeType:t.mimeType}},o=`Expert copywriter persona. Analyze image for product: ${e.name}. Create engaging post. 
    RETURN ONLY RAW JSON. NO MARKDOWN.
    Format: {"english_post": "...", "chinese_post": "..."}`,a=await n.models.generateContent({model:xl(),contents:{parts:[r,{text:o}]}}),l=Qc(a.text||"{}");return{en:l.english_post,cn:l.chinese_post}}async function k6(t,e,n,r,o,a){const l=jo(),{lifestyleScene:c,selectedSocialStrategies:f,consistencyMode:d,sensualMode:p,ugcMode:v,styleFilter:_,creativityBoost:y,targetRegion:N,targetAudience:A,selectedFocusSubjects:C}=o,T=xl();console.log(`[Gemini Service] Generating creative prompts using model: ${T}`);const k=[...c.atmosphere,a.atmosphere].filter(Boolean).join(", "),U=_?R6[_]:"Clean professional photography",z=f.length>0?f.map(B=>S5[B]).join(`
`):"Standard professional.",q=C&&C.length>0?C.join(", "):"Whole Product",J=v?`
        *** SPECIAL STYLE MODE: LO-FI AUTHENTICITY (UGC) ***
        The user wants to evoke "Digital Imperfection" to build trust, but implies different types of authenticity.
        DO NOT simply apply a "bad quality" filter to everything.
        
        Generate a variety of authentic "snapshot" styles across the different angles:
        
        1. "The Party Flash": Hard direct flash, high contrast, dark background (snapshot aesthetic).
        2. "The Daylight Casual": Soft, slightly blown-out window light, messy real-life background (lifestyle vlog aesthetic).
        3. "The Textural Crop": High ISO, visible grain/noise, focus on product texture, slightly soft focus (artsy amateur aesthetic).
        4. "The Quick Snap": Slightly off-center composition, motion blur on background elements, uncurated environment (candid aesthetic).
        
        General rules for this mode:
        - Avoid "studio perfection", "perfect bokeh", or "artificial softbox lighting".
        - Use "shot on iPhone", "posted on Snapchat", "raw photo", "no filter" as style guides.
        - Ensure the product remains the clear focus, even if the vibe is "messy".
        `:"",H=`Visual Director Persona. 
    Product: ${n.name}. 
    User Goal: ${r}. 
    Atmosphere: ${k}. 
    Style: ${U}. 
    
    ${J}
    
    Strategy: ${z}. 
    Creativity: ${y?"High":"Standard"}. 
    Consistency: ${d?"Strict":"Off"}. 
    Sensual: ${p?"High-end boudoir":"Off"}.
    Target Region: ${N||"Global"}.
    Target Audience: ${A||"General"}.
    Emphasis/Focus Details: ${q}.
    
    Write rich prompts for each angle below. Ensure the "Emphasis/Focus Details" are highlighted in the prompt for every angle if applicable.
    ${v?"Ensure every single prompt adheres to the Lo-Fi/UGC aesthetic instructions above, varying the specific type of authenticity (flash vs daylight vs texture).":""}
    
    Output JSON: { "perspectives": [ { "imagePrompt": "...", "veoPrompt": "..." } ] } 
    Angles: ${e.map(B=>B.angle).join(`
`)}
    
    RETURN ONLY RAW JSON. NO MARKDOWN.`,Z=await l.models.generateContent({model:xl(),contents:{parts:[...t,{text:H}]}});console.log("Gemini Raw Response:",Z.text);let W={};try{W=Qc(Z.text||"{}")}catch(B){throw console.error("JSON Parse Failed, Raw Text:",Z.text),B}const ae=Array.isArray(W)?W:W.perspectives||W.angles||[];if(!ae||!Array.isArray(ae)||ae.length===0)throw new Error("Invalid/Empty perspectives array in response");return ae.map((B,D)=>{var X,I;return{...B,originalAngleId:((X=e[D])==null?void 0:X.id)||"unknown",variationIndex:((I=e[D])==null?void 0:I.index)||1}})}async function D6(t,e){const n=jo(),r={inlineData:{data:t.base64,mimeType:t.mimeType}},o=`Analyze product: ${e.name}. Suggest 3 creative high-impact camera angles. 
    RETURN ONLY RAW JSON. NO MARKDOWN.
    JSON: { "angles": ["Idea 1", "..."] }`,a=await n.models.generateContent({model:xl(),contents:{parts:[r,{text:o}]}});return Qc(a.text||"{}").angles||[]}const P6=async(t,e,n,r,o,a,l,c,f)=>{f("Analysing images & creative direction...");const d=jo(),p={inlineData:{data:t.base64,mimeType:t.mimeType}},v=e.map(ae=>({inlineData:{data:ae.base64,mimeType:ae.mimeType}})),_=r.map(ae=>({inlineData:{data:ae.base64,mimeType:ae.mimeType}})),y=[p,...v,..._];f("Crafting social strategy & copy...");const{selectedSocialPlatforms:N,selectedSocialStrategies:A,selectedAngles:C,generateSocialCopy:T,aspectRatio:k,customDimensions:U,imagesPerAngle:z=1}=a,q=o0(k||"1:1",U);let J={};try{const ae=A.length>0?`Tone/Strategy: ${A.map(I=>S5[I]).join(", ")}`:"",B=`Social Manager Persona. Copy for: ${N.join(", ")}. Product: ${o.name}. ${ae}. Goal: ${c}.
        RETURN ONLY RAW JSON. NO MARKDOWN.
        Format: { "facebook": "...", "instagram": "...", ... }`,D=await d.models.generateContent({model:xl(),contents:{parts:[...y,{text:B}]}});console.log(`[Gemini Service] Social copy generated using model: ${xl()}`);const X=Qc(D.text||"{}");N.forEach(I=>{const ce=I.toLowerCase();X[ce]&&(J[ce]=X[ce])})}catch{}f("Designing perspectives...");const H=[];C.forEach(ae=>{for(let B=0;B<z;B++)H.push({angle:z>1?`${ae} (Var ${B+1})`:ae,id:ae,index:B+1})});let Z=[];try{Z=await k6([p,..._],H,o,c,a,l)}catch(ae){console.error(" generateCreativeImagePrompts failed:",ae),console.error("Stack trace:",ae.stack),ae.response&&console.error("API Error Response:",JSON.stringify(ae.response,null,2)),Z=H.map(B=>({imagePrompt:`Pro shot of ${o.name||"product"}, ${B.angle}.`,veoPrompt:`Cinematic video of ${o.name||"product"}, ${B.angle}.`,originalAngleId:B.id,variationIndex:B.index}))}f("Rendering images (Nano Banana Pro)...");let W=[];try{const ae=Z.map(D=>()=>(async()=>{const{originalAngleId:X,variationIndex:I,imagePrompt:ce,veoPrompt:oe}=D,le=[...y];n&&le.push({inlineData:{data:n.base64,mimeType:n.mimeType}}),le.push({text:`Generate image: "${ce}". ${oc}`});const me=await tu(()=>d.models.generateContent({model:ic(),contents:{parts:le},config:{imageConfig:{aspectRatio:q,imageSize:"1K"}}})),ge=rc(me),Ne=ge.find(Se=>Se.inlineData),Y=ge.find(Se=>Se.text);if(!Ne||!Ne.inlineData)return null;const R=Ne.inlineData.data,G=Ne.inlineData.mimeType,K=`data:${G};base64,${R}`,ie=sc(Y==null?void 0:Y.text);let ve=X.startsWith("custom:")?X.substring(7):M6[X]||X;z>1&&(ve=`${ve} #${I}`);const we={id:`${X}-${I}-${Date.now()}`,label:ve,prompt:ce,veoPrompt:oe,mainImage:{src:K,label:ve,description:ie}};if(T)try{we.socialCopy=await A5({base64:R,mimeType:G},o)}catch{}return we})());W=(await Id(ae)).filter(D=>D!==null)}catch(ae){throw new Error(`Image generation failed: ${ae.message}`)}return{socialPosts:J,perspectives:W}},U6=async(t,e,n,r,o,a,l)=>{var A,C;const c=jo(),f=[{inlineData:{data:e.base64,mimeType:e.mimeType}},...n.map(T=>({inlineData:{data:T.base64,mimeType:T.mimeType}})),...o.map(T=>({inlineData:{data:T.base64,mimeType:T.mimeType}}))];r&&f.push({inlineData:{data:r.base64,mimeType:r.mimeType}}),f.push({text:t+oc});const d=o0(a||"1:1",l),p=await tu(()=>c.models.generateContent({model:ic(),contents:{parts:f},config:{imageConfig:{aspectRatio:d,imageSize:"1K"}}})),v=rc(p),_=v.find(T=>T.inlineData),y=v.find(T=>T.text);if(_&&_.inlineData)return{src:`data:${_.inlineData.mimeType};base64,${_.inlineData.data}`,label:"Regenerated",description:sc(y==null?void 0:y.text)};const N=((C=(A=p.candidates)==null?void 0:A[0])==null?void 0:C.finishReason)||"UNKNOWN";throw N==="SAFETY"?new Error("Image was blocked by safety filters. Try a different angle or less suggestive prompt."):new Error(`Image regeneration failed. (Reason: ${N})`)},O6=async(t,e,n,r,o,a,l,c,f,d)=>{const p=jo();d("Using Gemini 3.0 to create new creative angles...");const v={inlineData:{data:t.base64,mimeType:t.mimeType}},_=e.map(H=>({inlineData:{data:H.base64,mimeType:H.mimeType}})),y=r.map(H=>({inlineData:{data:H.base64,mimeType:H.mimeType}})),N=c.map(H=>({inlineData:{data:H.mainImage.src.split(",")[1],mimeType:H.mainImage.src.split(";")[0].split(":")[1]}})),{generateSocialCopy:A,aspectRatio:C,customDimensions:T}=a,k=o0(C||"1:1",T),U=`Continuing photoshoot for ${o.name}. Goal: "${f}".`,z=[v,..._,...y,...N];n&&z.push({inlineData:{data:n.base64,mimeType:n.mimeType}}),d("Rendering expanded images...");const q=[1,2].map(H=>()=>(async()=>{const Z=[...z,{text:U+`
`+oc}],W=await tu(()=>p.models.generateContent({model:ic(),contents:{parts:Z},config:{imageConfig:{aspectRatio:k,imageSize:"1K"}}})),ae=rc(W),B=ae.find(X=>X.inlineData),D=ae.find(X=>X.text);if(B&&B.inlineData){const X=`data:${B.inlineData.mimeType};base64,${B.inlineData.data}`,I={id:`expansion-${Date.now()}-${H}`,label:f.substring(0,15)+`... (${H})`,prompt:U,veoPrompt:"Cinematic video.",mainImage:{src:X,label:"Expansion",description:sc(D==null?void 0:D.text)}};if(A)try{I.socialCopy=await A5({base64:B.inlineData.data,mimeType:B.inlineData.mimeType},o)}catch{}return I}return null})());return(await Id(q)).filter(H=>H!==null)},F6=async(t,e)=>{const n=jo(),r=await tu(()=>n.models.generateContent({model:ic(),contents:{parts:[{inlineData:{data:t.base64,mimeType:t.mimeType}},{text:`Refine image: "${e}". ${oc}`}]},config:{imageConfig:{aspectRatio:"1:1",imageSize:"1K"}}})),o=rc(r),a=o.find(c=>c.inlineData),l=o.find(c=>c.text);if(a&&a.inlineData)return{src:`data:${a.inlineData.mimeType};base64,${a.inlineData.data}`,label:"Refined",description:sc(l==null?void 0:l.text)};throw new Error("Image refinement failed.")},B6=async t=>{const e=jo(),n=[1,2,3].map(()=>()=>tu(()=>e.models.generateContent({model:ic(),contents:{parts:[{inlineData:{data:t.base64,mimeType:t.mimeType}},{text:`Generate variation. ${oc}`}]},config:{imageConfig:{aspectRatio:"1:1",imageSize:"1K"}}})));return(await Id(n)).map(o=>{const a=rc(o),l=a.find(f=>f.inlineData),c=a.find(f=>f.text);return l&&l.inlineData?{src:`data:${l.inlineData.mimeType};base64,${l.inlineData.data}`,label:"Variation",description:sc(c==null?void 0:c.text)}:null}).filter(o=>o!==null)},z6=async t=>{const e=jo(),n={inlineData:{data:t.base64,mimeType:t.mimeType}},o=[{p:"Zoom out.",l:"Zoom Out"},{p:"Extend left.",l:"Pan Left"},{p:"Extend up.",l:"Tilt Up"},{p:"Extend right.",l:"Pan Right"}].map(({p:f,l:d})=>()=>tu(()=>e.models.generateContent({model:ic(),contents:{parts:[n,{text:f+oc}]},config:{imageConfig:{aspectRatio:"1:1",imageSize:"1K"}}})).then(p=>{const v=rc(p),_=v.find(N=>N.inlineData),y=v.find(N=>N.text);if(_&&_.inlineData)return{src:`data:${_.inlineData.mimeType};base64,${_.inlineData.data}`,label:d,description:sc(y==null?void 0:y.text)};throw new Error("Fail")})),a=e.models.generateContent({model:xl(),contents:{parts:[n,{text:'Provide transition text. RETURN ONLY RAW JSON. NO MARKDOWN. Format: { "en": "...", "cn": "..." }'}]}}).then(f=>Qc(f.text||"{}")),[l,c]=await Promise.all([Id(o),a]);return{extendedImages:l,transitionText:c}},q6=async t=>(await jo().models.generateContent({model:xl(),contents:{parts:[{inlineData:{data:t.base64,mimeType:t.mimeType}},{text:"Detailed visual analysis covering composition, lighting, color, subject, and atmosphere."}]}})).text,G6=t=>({base64:t.split(",")[1],mimeType:t.split(";")[0].split(":")[1]}),H6=({isOpen:t,onClose:e,originalImage:n,onReplace:r})=>{const[o,a]=lt.useState([]),[l,c]=lt.useState(!1),[f,d]=lt.useState(null);lt.useEffect(()=>{t&&n&&(async()=>{c(!0),d(null),a([]);try{const _=G6(n.src),y=await B6(_);a(y)}catch(_){d(_ instanceof Error?`Failed to generate variations. The API responded: ${_.message}`:"Failed to generate variations.")}finally{c(!1)}})()},[t,n]);const p=v=>{r(v),e()};return t?M.jsx("div",{className:"fixed inset-0 bg-slate-900/70 flex items-center justify-center z-50 p-4 backdrop-blur-sm",onClick:e,children:M.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-xl shadow-2xl p-6 w-full max-w-4xl text-slate-200 space-y-4 animate-fade-in",onClick:v=>v.stopPropagation(),children:[M.jsxs("div",{className:"flex justify-between items-start",children:[M.jsxs("div",{children:[M.jsx("h2",{className:"text-2xl font-bold text-white",children:"Generate Variations"}),M.jsx("p",{className:"text-slate-400 text-sm",children:"Choose a variation to replace the original image."})]}),M.jsx("button",{onClick:e,className:"p-1.5 bg-slate-800 rounded-full text-slate-300 hover:bg-red-500 hover:text-white transition-colors","aria-label":"Close",children:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-center",children:[M.jsxs("div",{className:"md:col-span-1",children:[M.jsx("h3",{className:"text-center font-semibold mb-2 text-slate-400",children:"Original"}),M.jsx("img",{src:n.src,alt:"Original",className:"w-full aspect-square object-cover rounded-lg ring-2 ring-lime-400"})]}),M.jsxs("div",{className:"md:col-span-3",children:[M.jsx("h3",{className:"text-center font-semibold mb-2 text-slate-300",children:"New Variations"}),l&&M.jsx("div",{className:"grid grid-cols-3 gap-4",children:[...Array(3)].map((v,_)=>M.jsx("div",{className:"aspect-square bg-slate-800 rounded-lg flex items-center justify-center animate-pulse",children:M.jsx("svg",{className:"w-8 h-8 text-slate-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14"})})},_))}),f&&M.jsx("div",{className:"text-red-300 text-sm bg-red-900/50 p-3 rounded-md text-center",children:f}),!l&&!f&&M.jsx("div",{className:"grid grid-cols-3 gap-4",children:o.map((v,_)=>M.jsxs("div",{className:"group relative",children:[M.jsx("img",{src:v.src,alt:`Variation ${_+1}`,className:"w-full aspect-square object-cover rounded-lg"}),M.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/60 p-2 text-xs text-center text-white truncate rounded-b-lg",children:v.label}),M.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:M.jsx("button",{onClick:()=>p(v),className:"bg-lime-500 text-black font-bold px-4 py-2 rounded-lg text-sm hover:bg-lime-600",children:"Replace"})})]},_))})]})]})]})}):null},bd=({className:t})=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t||"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h5M20 20v-5h-5M4 4l1.5 1.5A9 9 0 0120.5 16l-1.5 1.5M20 20l-1.5-1.5A9 9 0 003.5 8l1.5-1.5"})}),V6=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.5L15.232 5.232z"})}),j6=t=>({base64:t.split(",")[1],mimeType:t.split(";")[0].split(":")[1]}),Y6=({isOpen:t,onClose:e,originalImage:n,onSave:r})=>{const[o,a]=lt.useState(""),[l,c]=lt.useState(!1),[f,d]=lt.useState(null),p=async()=>{if(!o.trim()){d("Please provide a prompt to refine the image.");return}c(!0),d(null);try{const v=j6(n.src),_=await F6(v,o);r(_),e()}catch(v){console.error(v),d(v instanceof Error?`Refinement failed. The API responded: ${v.message}`:"An error occurred during refinement.")}finally{c(!1)}};return t?M.jsx("div",{className:"fixed inset-0 bg-slate-900/70 flex items-center justify-center z-50 p-4 backdrop-blur-sm",onClick:e,children:M.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-xl shadow-2xl p-6 w-full max-w-md text-slate-200 space-y-4 animate-fade-in",onClick:v=>v.stopPropagation(),children:[M.jsxs("div",{className:"flex justify-between items-center",children:[M.jsx("h2",{className:"text-2xl font-bold text-white",children:"Refine Image"}),M.jsx("button",{onClick:e,className:"p-1.5 bg-slate-800 rounded-full text-slate-300 hover:bg-red-500 hover:text-white transition-colors","aria-label":"Close",children:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),M.jsx("div",{className:"w-full aspect-square",children:M.jsx("img",{src:n.src,alt:"Original to refine",className:"w-full h-full object-cover rounded-lg"})}),M.jsxs("div",{children:[M.jsx("label",{htmlFor:"refinePrompt",className:"block text-sm font-medium text-slate-300",children:"Refinement Instruction"}),M.jsx("textarea",{id:"refinePrompt",value:o,onChange:v=>a(v.target.value),rows:3,placeholder:"e.g., Change the background to a sandy beach with blue skies...",className:"mt-1 block w-full bg-slate-800 border border-slate-700 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-lime-400 focus:border-lime-400 text-slate-100",disabled:l})]}),f&&M.jsx("div",{className:"text-red-300 text-sm bg-red-900/50 p-2 rounded-md",children:f}),M.jsxs("div",{className:"flex justify-end gap-4",children:[M.jsx("button",{onClick:e,disabled:l,className:"px-4 py-2 bg-slate-700 text-slate-200 rounded-lg hover:bg-slate-600 transition-colors disabled:opacity-50",children:"Cancel"}),M.jsxs("button",{onClick:p,disabled:l,className:"px-4 py-2 bg-lime-500 text-black font-bold rounded-lg hover:bg-lime-600 transition-colors disabled:opacity-50 disabled:cursor-wait flex items-center gap-2",children:[l&&M.jsx(bd,{className:"h-4 w-4 animate-spin"}),l?"Refining...":"Generate"]})]})]})}):null},E5=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),J6=()=>M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 512 512",fill:"currentColor",children:[M.jsx("path",{fill:"#3777e3",d:"M377.152 352.112l104.576-181.12c2.816-4.864 2.816-10.88 0-15.744l-104.576-181.12c-2.816-4.864-8.32-7.872-14.144-7.872H148.832c-5.824 0-11.328 3.008-14.144 7.872L30.112 155.248c-2.816 4.864-2.816 10.88 0 15.744l104.576 181.12c2.816 4.864 8.32 7.872 14.144 7.872h214.176c5.824 0 11.328-3.008 14.144-7.872z"}),M.jsx("path",{fill:"#ffc107",d:"M110.88 393.408l-54.208-93.888 104.576-181.12h140.8l54.208 93.888-104.576 181.12z"}),M.jsx("path",{fill:"#10a662",d:"M485.44 159.296l-108.352 1.344-142.976 247.616h-90.88l142.976-247.616L400.768 15.68h90.88c5.824 0 11.328 3.008 14.144 7.872l-20.352 35.232z"})]});var T5={};const Bp=T5.GOOGLE_DRIVE_API_KEY,zp=T5.GOOGLE_DRIVE_CLIENT_ID,W6="https://www.googleapis.com/auth/drive.file",K6=()=>!!Bp&&!!zp;let cd=null,U2=!1,O2=!1,nd=null;const X6=()=>nd||(nd=new Promise((t,e)=>{const n=()=>{window.gapi&&window.gapi.client?window.gapi.load("client",{callback:()=>{if(!Bp)return e(new Error("Google Drive API Key is not configured."));window.gapi.client.init({apiKey:Bp,discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"]}).then(()=>{U2=!0,O2&&t()}).catch(e)},onerror:e}):setTimeout(n,100)},r=()=>{if(window.google&&window.google.accounts&&window.google.accounts.oauth2){if(!zp)return e(new Error("Google Drive Client ID is not configured."));try{cd=window.google.accounts.oauth2.initTokenClient({client_id:zp,scope:W6,callback:()=>{}}),O2=!0,U2&&t()}catch(o){e(o)}}else setTimeout(r,100)};n(),r()}),nd),Z6=(t,e="",n=512)=>{const r=atob(t),o=[];for(let a=0;a<r.length;a+=n){const l=r.slice(a,a+n),c=new Array(l.length);for(let d=0;d<l.length;d++)c[d]=l.charCodeAt(d);const f=new Uint8Array(c);o.push(f)}return new Blob(o,{type:e})},$6=()=>new Promise((t,e)=>{if(!cd)return e(new Error("Google Identity client not initialized."));const n=window.gapi.client.getToken();if(n&&n.access_token)return t();cd.callback=r=>{if(r.error)return e(new Error(`Google Authentication failed. Please ensure pop-ups are allowed and try again. Error: ${r.error}`));window.gapi.client.setToken(r),t()},cd.requestAccessToken({prompt:"consent"})}),F2=async(t,e)=>{try{let n=`mimeType='application/vnd.google-apps.folder' and name='${t}' and trashed=false`;e&&(n+=` and '${e}' in parents`);const r=await window.gapi.client.drive.files.list({q:n,fields:"files(id, name)"});if(r.result.files&&r.result.files.length>0)return r.result.files[0].id;{const o={name:t,mimeType:"application/vnd.google-apps.folder",...e&&{parents:[e]}};return(await window.gapi.client.drive.files.create({resource:o,fields:"id"})).result.id}}catch(n){throw new Error(`Failed to create or find folder '${t}' in Google Drive. Error: ${n.message}`)}},B2=async(t,e,n)=>{const r={name:n,parents:[t]},o=new FormData;o.append("metadata",new Blob([JSON.stringify(r)],{type:"application/json"})),o.append("file",e);const a=await fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart",{method:"POST",headers:{Authorization:`Bearer ${window.gapi.client.getToken().access_token}`},body:o});if(!a.ok){const l=await a.json();throw new Error(`Failed to upload ${n} to Google Drive. The server responded with: ${l.error.message}`)}},Q6=async(t,e,n)=>{var r;try{n("Initializing Google services..."),await X6(),n("Authenticating with Google Drive..."),await $6(),n("Creating folder in Google Drive...");const o=await F2("Content Catalyst Engine Exports"),a=await F2(e,o),l=t.perspectives.flatMap(d=>[{image:d.mainImage,prompt:d.prompt,label:d.label},...(d.extendedFrames||[]).map(p=>({image:p,prompt:d.prompt,label:`${d.label}-${p.label}`}))]);for(let d=0;d<l.length;d++){const{image:p,prompt:v,label:_}=l[d];n(`Uploading image ${d+1}/${l.length}: ${_}...`);const{src:y}=p,N=((r=y.match(/data:([a-zA-Z0-9]+\/[a-zA-Z0-9-.+]+).*,.*/))==null?void 0:r[1])||"image/png",A=N.split("/")[1],C=y.split(",")[1],T=Z6(C,N);let k=_.replace(/\s+/g,"-");v&&v.length>5&&(k=v.replace(/[^a-z0-9\s-]/gi,"").trim().replace(/\s+/g,"-").substring(0,60).toLowerCase());const U=`${k}.${A}`;await B2(a,T,U)}n("Uploading text content...");let c=`AI Generated Content for: ${e}

`;c+=`====================
`,c+=`PERSPECTIVE PROMPTS & VISUAL DIRECTION
`,c+=`====================

`,t.perspectives.forEach((d,p)=>{c+=`Perspective ${p+1}: ${d.label}
`,c+=`Image Prompt: ${d.prompt}
`,d.veoPrompt&&(c+=`Veo Video Prompt: ${d.veoPrompt}
`),d.mainImage.description&&(c+=`Description (EN): ${d.mainImage.description.en}
`,c+=`Description (CN): ${d.mainImage.description.cn}
`),c+=`
`}),Object.entries(t.socialPosts).forEach(([d,p])=>{c+=`====================
`,c+=`${d.toUpperCase()} POST
`,c+=`====================

${p}


`});const f=new Blob([c],{type:"text/plain"});await B2(a,f,"social-media-content.txt"),n("Successfully saved to Google Drive!")}catch(o){const a=o instanceof Error?o.message:"An unknown error occurred during the Google Drive export.";throw n(`Error: ${a}`),new Error(a)}},qp=({textToCopy:t,className:e})=>{const[n,r]=lt.useState(!1),o=()=>{navigator.clipboard.writeText(t),r(!0),setTimeout(()=>r(!1),2e3)};return M.jsx("button",{onClick:o,className:e||"absolute top-3 right-3 p-2 bg-slate-800 rounded-lg hover:bg-slate-700 transition-colors","aria-label":"Copy to clipboard",children:n?M.jsx("span",{className:"text-xs text-lime-400 px-1",children:"Copied!"}):M.jsx(Zy,{})})},Gp=(t,e)=>!t||t.length<5?e:t.replace(/[^a-z0-9\s-]/gi,"").trim().replace(/\s+/g,"-").substring(0,60).toLowerCase(),eE=({perspective:t,campaignName:e,onImageClick:n,onVariationsClick:r,onRefineClick:o,onExtendFrame:a,onRegenerate:l,onClearError:c})=>{var p;const f=(v,_)=>{var T;const y=document.createElement("a"),N=(T=v.match(/data:([a-zA-Z0-9]+\/[a-zA-Z0-9-.+]+).*,.*/))==null?void 0:T[1],A=N?N.split("/")[1]:"png",C=e&&e.trim()?`${e.trim()}-${_}`:_;y.href=v,y.download=`${C}.${A}`,document.body.appendChild(y),y.click(),document.body.removeChild(y)},d=Gp(t.prompt,t.label);return M.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-sm border border-slate-700/50 p-4 rounded-xl shadow-lg flex flex-col",children:[M.jsx("h3",{className:"text-lg font-bold text-white truncate mb-3",children:t.label}),M.jsxs("div",{className:"flex-grow space-y-3",children:[M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[M.jsxs("div",{className:"relative aspect-square group",children:[t.isRegenerating?M.jsxs("div",{className:"w-full h-full bg-slate-800 rounded-lg flex flex-col items-center justify-center animate-pulse",children:[M.jsx(bd,{className:"h-8 w-8 text-slate-600 animate-spin"}),M.jsx("span",{className:"text-xs text-slate-500 mt-2",children:"Regenerating..."})]}):M.jsxs(M.Fragment,{children:[M.jsx("img",{src:t.mainImage.src,alt:((p=t.mainImage.description)==null?void 0:p.en)||t.mainImage.label,className:"w-full h-full object-cover rounded-lg shadow-md"}),M.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[M.jsx("button",{onClick:()=>n(t.mainImage.src,t.id),className:"text-white bg-slate-800/80 p-2 rounded-full hover:bg-slate-700",title:"Zoom",children:"Zoom"}),M.jsx("button",{onClick:()=>f(t.mainImage.src,d),className:"text-white bg-slate-800/80 p-2 rounded-full hover:bg-slate-700",title:"Download Image",children:M.jsx(Rg,{})})]})]}),M.jsxs("div",{className:"absolute top-2 right-2 flex flex-col gap-2",children:[M.jsx("button",{onClick:()=>l(t.id),disabled:t.isRegenerating,className:"p-2 bg-slate-900/70 rounded-full text-white hover:bg-lime-500/80 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Regenerate",children:M.jsx(bd,{})}),M.jsx("button",{onClick:()=>r(t.mainImage,t.id),disabled:t.isRegenerating,className:"p-2 bg-slate-900/70 rounded-full text-white hover:bg-lime-500/80 transition-colors disabled:opacity-50",title:"Variations",children:M.jsx(e3,{})}),M.jsx("button",{onClick:()=>o(t.mainImage,t.id),disabled:t.isRegenerating,className:"p-2 bg-slate-900/70 rounded-full text-white hover:bg-lime-500/80 transition-colors disabled:opacity-50",title:"Edit/Refine",children:M.jsx(V6,{})})]})]}),M.jsxs("div",{className:"space-y-2",children:[M.jsxs("div",{className:"flex justify-between items-center",children:[M.jsx("h4",{className:"font-semibold text-slate-300",children:"For Video"}),M.jsxs("button",{onClick:()=>a(t.id),disabled:t.isExtending,className:"flex items-center gap-1.5 text-xs bg-slate-800 hover:bg-slate-700 text-slate-300 px-2 py-1 rounded-md transition-colors disabled:opacity-50",children:[M.jsx(t3,{})," ",t.extendedFrames?"Re-Extend":"Extend Frame"]})]}),t.isExtending?M.jsx("div",{className:"grid grid-cols-2 gap-2",children:[...Array(4)].map((v,_)=>M.jsx("div",{className:"aspect-square bg-slate-800 rounded-lg animate-pulse"},_))}):t.extendedFrames?M.jsx("div",{className:"grid grid-cols-2 gap-2",children:t.extendedFrames.map((v,_)=>{const y=Gp(`${t.prompt}-extend-${_}`,`${t.label}-${v.label}`);return M.jsxs("div",{className:"relative aspect-square group",children:[M.jsx("img",{src:v.src,alt:v.label,className:"w-full h-full object-cover rounded-lg"}),M.jsx("div",{className:"absolute bottom-1 right-1",children:M.jsx("button",{onClick:()=>f(v.src,y),className:"p-1.5 bg-slate-900/60 rounded-full text-white hover:bg-lime-500/80 transition-colors opacity-0 group-hover:opacity-100",title:"Download",children:M.jsx(Rg,{})})}),M.jsx("div",{className:"absolute top-0 left-0 bg-black/60 text-white text-xs px-1.5 py-0.5 rounded-br-md rounded-tl-lg",children:v.label})]},_)})}):M.jsx("div",{className:"aspect-video bg-slate-800/50 border-2 border-dashed border-slate-700 rounded-lg flex items-center justify-center text-center p-2",children:M.jsx("p",{className:"text-xs text-slate-500",children:'Click "Extend Frame" to generate video assets'})})]})]}),M.jsxs("div",{className:"bg-slate-800/60 border border-fuchsia-500/30 p-3 rounded-lg relative mt-2",children:[M.jsxs("div",{className:"flex items-center gap-2 mb-1 text-fuchsia-300 font-semibold text-xs uppercase tracking-wider",children:[M.jsx(E5,{}),M.jsx("span",{children:"Image-to-Video Prompt (Veo/Kling)"})]}),M.jsx("p",{className:"text-xs text-slate-300 pr-10 leading-relaxed font-mono bg-slate-900/50 p-2 rounded",children:t.veoPrompt||"Detailed prompt not available for this image."}),M.jsx(qp,{textToCopy:t.veoPrompt||"",className:"absolute top-3 right-3 p-1.5 bg-slate-700/80 rounded-md hover:bg-fuchsia-600 transition-colors text-white"})]}),M.jsxs("div",{className:"bg-slate-800/60 border border-lime-500/30 p-3 rounded-lg relative mt-2",children:[M.jsxs("div",{className:"flex items-center gap-2 mb-1 text-lime-300 font-semibold text-xs uppercase tracking-wider",children:[M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),M.jsx("span",{children:"Artistic Direction (Image Prompt)"})]}),M.jsx("p",{className:"text-xs text-slate-300 pr-10 leading-relaxed font-mono bg-slate-900/50 p-2 rounded max-h-24 overflow-y-auto custom-scrollbar",children:t.prompt||"Prompt details unavailable."}),M.jsx(qp,{textToCopy:t.prompt||"",className:"absolute top-3 right-3 p-1.5 bg-slate-700/80 rounded-md hover:bg-lime-600 transition-colors text-white"})]})]})]})},tE=({data:t,onPerspectiveImageUpdate:e,productName:n,campaignName:r,onExpand:o,isExpanding:a,onRegenerate:l,onExtendFrame:c,onClearPerspectiveError:f})=>{const{socialPosts:d,perspectives:p}=t,[v,_]=lt.useState(""),[y,N]=lt.useState(""),[A,C]=lt.useState(!1),[T,k]=lt.useState(!1),[U,z]=lt.useState(!1),[q,J]=lt.useState(null),[H,Z]=lt.useState(!1),[W,ae]=lt.useState(""),B=K6(),X=[{name:"Instagram",icon:M.jsx(nv,{}),contentKey:"instagram"},{name:"Facebook",icon:M.jsx(rv,{}),contentKey:"facebook"},{name:"TikTok",icon:M.jsx(iv,{}),contentKey:"tiktok"},{name:"YouTube",icon:M.jsx(sv,{}),contentKey:"youtube"},{name:"Pinterest",icon:M.jsx(ov,{}),contentKey:"pinterest"},{name:"X",icon:M.jsx(Cv,{}),contentKey:"x"},{name:"Blog",icon:M.jsx(Lv,{}),contentKey:"blog"}].filter(G=>d[G.contentKey]);lt.useEffect(()=>{X.length>0&&!v&&_(X[0].name)},[d]);const I=(G,K)=>{J({image:{src:G,label:""},id:K}),C(!0)},ce=(G,K)=>{J({image:G,id:K}),k(!0)},oe=(G,K)=>{J({image:G,id:K}),z(!0)},le=G=>{q!==null&&e(q.id,G)},me=async()=>{await o(y),N("")},ge=async()=>{var ve;const G=new eb;for(const Te of p){const{mainImage:we}=Te,Se=Gp(Te.prompt,we.label),We=r&&r.trim()?`${r.trim()}-${Se}`:Se,Ye=(ve=we.src.match(/data:([a-zA-Z0-9]+\/[a-zA-Z0-9-.+]+).*,.*/))==null?void 0:ve[1],st=Ye?Ye.split("/")[1]:"png",ot=we.src.split(",")[1];G.file(`${We}.${st}`,ot,{base64:!0})}const K=await G.generateAsync({type:"blob"}),ie=document.createElement("a");ie.href=URL.createObjectURL(K),ie.download=`${r||"generated"}-images.zip`,document.body.appendChild(ie),ie.click(),document.body.removeChild(ie)},Ne=()=>{const G=new kt;let K=20;const ie=20,Te=G.internal.pageSize.getWidth()-ie*2,we=G.internal.pageSize.getHeight(),Se=Ye=>K+Ye>we-ie?(G.addPage(),K=ie,!0):!1;((Ye,st=10,ot=!1)=>{G.setFontSize(st),G.setFont("helvetica",ot?"bold":"normal");const F=G.splitTextToSize(Ye,Te),ye=F.length*(st*.5);Se(ye),G.text(F,ie,K),K+=ye+5})(`Campaign: ${r||"AI Content"}`,18,!0),G.save(`${r||"generated"}-content.pdf`)},Y=async()=>{Z(!0),ae("Initializing...");try{await Q6(t,r||`Campaign ${new Date().toLocaleDateString()}`,ae),ae("Saved!"),setTimeout(()=>{Z(!1),ae("")},3e3)}catch(G){console.error(G);const K=G instanceof Error?G.message:"Failed to save";ae("Failed"),alert(`Error saving to Google Drive: ${K}`),setTimeout(()=>{Z(!1),ae("")},3e3)}},R=d[v.toLowerCase()]||"";return M.jsxs("div",{className:"space-y-8 animate-fade-in",children:[q&&M.jsxs(M.Fragment,{children:[M.jsx(n3,{isOpen:A,onClose:()=>C(!1),imageSrc:q.image.src}),M.jsx(H6,{isOpen:T,onClose:()=>k(!1),originalImage:q.image,onReplace:le}),M.jsx(Y6,{isOpen:U,onClose:()=>z(!1),originalImage:q.image,onSave:le})]}),M.jsxs("div",{className:"bg-slate-900/50 p-6 rounded-xl border border-slate-700/50 backdrop-blur-sm",children:[M.jsx("h2",{className:"text-2xl font-monument mb-4 text-white uppercase tracking-tight",children:"Export Suite"}),M.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[M.jsxs("button",{onClick:ge,className:"flex items-center gap-2 bg-slate-800 hover:bg-slate-700 text-slate-200 font-semibold py-2.5 px-5 rounded-lg transition-all border border-slate-600 shadow-sm hover:scale-[1.02]",children:[M.jsx(kg,{}),"Export Images (.zip)"]}),M.jsxs("button",{onClick:Ne,className:"flex items-center gap-2 bg-slate-800 hover:bg-slate-700 text-slate-200 font-semibold py-2.5 px-5 rounded-lg transition-all border border-slate-600 shadow-sm hover:scale-[1.02]",children:[M.jsx(kg,{}),"Export PDF"]}),M.jsx("button",{onClick:Y,disabled:H||!B,title:B?"Save to Google Drive":"Google Drive API Key or Client ID not configured",className:`flex items-center gap-2 font-semibold py-2.5 px-5 rounded-lg transition-all border shadow-sm hover:scale-[1.02] ${H?"bg-blue-900/50 border-blue-500/50 text-blue-200 cursor-wait":B?"bg-slate-800 hover:bg-slate-700 text-slate-200 border-slate-600":"bg-slate-800 text-slate-500 border-slate-700 cursor-not-allowed opacity-60"}`,children:H?M.jsxs(M.Fragment,{children:[M.jsx("div",{className:"w-4 h-4 border-2 border-blue-400 border-t-transparent rounded-full animate-spin"}),M.jsx("span",{className:"text-sm",children:W||"Saving..."})]}):M.jsxs(M.Fragment,{children:[M.jsx(J6,{}),"Save to Drive"]})})]})]}),M.jsxs("div",{children:[M.jsxs("h2",{className:"text-2xl font-monument mb-6 text-white uppercase tracking-tight flex items-center gap-3",children:[M.jsx("div",{className:"w-1.5 h-8 bg-lime-400"}),"Visual Deck"]}),M.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:p==null?void 0:p.map(G=>M.jsx(eE,{perspective:G,campaignName:r,onImageClick:I,onVariationsClick:ce,onRefineClick:oe,onExtendFrame:c,onRegenerate:l,onClearError:f},G.id))})]}),M.jsxs("div",{className:"border-t border-slate-700 pt-8",children:[M.jsxs("h2",{className:"text-2xl font-monument mb-6 text-white uppercase tracking-tight flex items-center gap-3",children:[M.jsx("div",{className:"w-1.5 h-8 bg-indigo-500"}),"Append Visuals"]}),M.jsxs("div",{className:"bg-slate-900/50 p-6 rounded-xl border border-slate-700/50 backdrop-blur-sm space-y-4",children:[M.jsx("textarea",{value:y,onChange:G=>N(G.target.value),rows:2,placeholder:"Describe additional shots or story points to add to your collection...",className:"block w-full bg-slate-800 border border-slate-700 text-slate-100 rounded-lg shadow-sm py-3 px-4 focus:outline-none focus:ring-1 focus:ring-indigo-400 focus:border-indigo-400 transition-all",disabled:a}),M.jsx("div",{className:"flex justify-end",children:M.jsx("button",{onClick:me,disabled:a||!y.trim(),className:"bg-indigo-600 text-white font-bold py-2.5 px-8 rounded-lg shadow-lg hover:bg-indigo-500 transition-all disabled:bg-slate-800 disabled:text-slate-500 flex items-center gap-2",children:a?M.jsx(bd,{className:"w-4 h-4 animate-spin"}):" Expand Deck"})})]})]}),X.length>0&&M.jsxs("div",{children:[M.jsxs("h2",{className:"text-2xl font-monument mb-6 text-white uppercase tracking-tight flex items-center gap-3",children:[M.jsx("div",{className:"w-1.5 h-8 bg-cyan-500"}),"Copy Distribution"]}),M.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-xl shadow-lg overflow-hidden",children:[M.jsx("div",{className:"bg-slate-800/50 border-b border-slate-700",children:M.jsx("nav",{className:"flex overflow-x-auto no-scrollbar","aria-label":"Tabs",children:X.map(G=>M.jsxs("button",{onClick:()=>_(G.name),className:`flex-shrink-0 px-6 py-4 text-center border-b-2 font-bold text-xs uppercase tracking-widest flex items-center justify-center gap-2 transition-all duration-200 ${v===G.name?"border-cyan-400 text-cyan-400 bg-cyan-400/5":"border-transparent text-slate-500 hover:text-slate-300 hover:bg-white/5"}`,children:[G.icon,M.jsx("span",{children:G.name})]},G.name))})}),M.jsxs("div",{className:"relative p-8 min-h-[220px] bg-slate-950/50",children:[M.jsx("div",{className:"prose prose-invert max-w-none",children:M.jsx("p",{className:"text-slate-300 whitespace-pre-wrap font-light leading-relaxed text-lg italic pr-12",children:R})}),M.jsx(qp,{textToCopy:R,className:"absolute top-6 right-6 p-2.5 bg-slate-800 rounded-xl hover:bg-cyan-600 transition-all text-white border border-slate-700"})]})]})]})]})},nE=({message:t})=>M.jsx("div",{className:"fixed bottom-6 right-6 z-50 animate-slide-in-right",children:M.jsxs("div",{className:"flex items-center gap-4 bg-slate-900/95 p-4 pr-6 rounded-xl border border-slate-700 shadow-2xl backdrop-blur-md",children:[M.jsxs("div",{className:"relative",children:[M.jsx("div",{className:"w-10 h-10 border-3 border-slate-700 rounded-full"}),M.jsx("div",{className:"absolute top-0 left-0 w-10 h-10 border-3 border-lime-400 border-t-transparent rounded-full animate-spin"})]}),M.jsxs("div",{className:"flex flex-col",children:[M.jsx("span",{className:"text-sm font-bold text-white tracking-wide",children:"GENERATING CONTENT"}),M.jsx("span",{className:"text-xs text-slate-400 font-mono",children:t||"Processing..."})]})]})}),iE=({isOpen:t,onClose:e,analysisText:n})=>{if(!t)return null;const r=o=>o?o.split(`
`).map((a,l)=>{if(a.startsWith("### "))return M.jsx("h3",{className:"text-lg font-bold text-white mt-4 mb-2",children:a.replace("### ","")},l);if(a.startsWith("## "))return M.jsx("h2",{className:"text-xl font-bold text-lime-400 mt-6 mb-3 border-b border-slate-700 pb-1",children:a.replace("## ","")},l);if(a.startsWith("**")&&!a.endsWith("**")){const f=a.replace(/^\*\*\s*/,"");return M.jsxs("li",{className:"mb-1 text-slate-300",children:[M.jsx("strong",{className:"text-white",children:f.split("**")[0]}),f.split("**")[1]]},l)}const c=a.split(/(\*\*.*?\*\*)/g);return M.jsx("p",{className:"mb-2 text-slate-300 leading-relaxed",children:c.map((f,d)=>f.startsWith("**")&&f.endsWith("**")?M.jsx("strong",{className:"text-lime-300 font-semibold",children:f.slice(2,-2)},d):f)},l)}):M.jsx("p",{className:"text-slate-400 italic",children:"No analysis available."});return M.jsx("div",{className:"fixed inset-0 bg-slate-900/80 flex items-center justify-center z-50 p-4 backdrop-blur-sm animate-fade-in",onClick:e,children:M.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-xl shadow-2xl p-6 w-full max-w-2xl max-h-[85vh] flex flex-col",onClick:o=>o.stopPropagation(),children:[M.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-slate-700 pb-4",children:[M.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[M.jsx("span",{className:"text-lime-400",children:""})," AI Visual Analysis"]}),M.jsx("button",{onClick:e,className:"p-1.5 bg-slate-800 rounded-full text-slate-300 hover:bg-red-500 hover:text-white transition-colors",children:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),M.jsx("div",{className:"flex-1 overflow-y-auto pr-2 custom-scrollbar bg-slate-950/30 p-4 rounded-lg border border-slate-800/50",children:r(n)}),M.jsx("div",{className:"mt-6 pt-4 border-t border-slate-700 flex justify-end",children:M.jsx("button",{onClick:e,className:"px-6 py-2 bg-lime-600 hover:bg-lime-500 text-white font-bold rounded-lg transition-colors shadow-lg",children:"Close Report"})})]})})};function Xc(t){let e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}function Hp(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function rE(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function z2(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function q2(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function sE(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function oE(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function ap(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function aE(t,e){let n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2];return Math.sqrt(n*n+r*r+o*o)}function lE(t,e){let n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2];return n*n+r*r+o*o}function G2(t){let e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function uE(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function cE(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function Vp(t,e){let n=e[0],r=e[1],o=e[2],a=n*n+r*r+o*o;return a>0&&(a=1/Math.sqrt(a)),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t}function N5(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function H2(t,e,n){let r=e[0],o=e[1],a=e[2],l=n[0],c=n[1],f=n[2];return t[0]=o*f-a*c,t[1]=a*l-r*f,t[2]=r*c-o*l,t}function fE(t,e,n,r){let o=e[0],a=e[1],l=e[2];return t[0]=o+r*(n[0]-o),t[1]=a+r*(n[1]-a),t[2]=l+r*(n[2]-l),t}function dE(t,e,n,r,o){const a=Math.exp(-r*o);let l=e[0],c=e[1],f=e[2];return t[0]=n[0]+(l-n[0])*a,t[1]=n[1]+(c-n[1])*a,t[2]=n[2]+(f-n[2])*a,t}function hE(t,e,n){let r=e[0],o=e[1],a=e[2],l=n[3]*r+n[7]*o+n[11]*a+n[15];return l=l||1,t[0]=(n[0]*r+n[4]*o+n[8]*a+n[12])/l,t[1]=(n[1]*r+n[5]*o+n[9]*a+n[13])/l,t[2]=(n[2]*r+n[6]*o+n[10]*a+n[14])/l,t}function pE(t,e,n){let r=e[0],o=e[1],a=e[2],l=n[3]*r+n[7]*o+n[11]*a+n[15];return l=l||1,t[0]=(n[0]*r+n[4]*o+n[8]*a)/l,t[1]=(n[1]*r+n[5]*o+n[9]*a)/l,t[2]=(n[2]*r+n[6]*o+n[10]*a)/l,t}function mE(t,e,n){let r=e[0],o=e[1],a=e[2];return t[0]=r*n[0]+o*n[3]+a*n[6],t[1]=r*n[1]+o*n[4]+a*n[7],t[2]=r*n[2]+o*n[5]+a*n[8],t}function gE(t,e,n){let r=e[0],o=e[1],a=e[2],l=n[0],c=n[1],f=n[2],d=n[3],p=c*a-f*o,v=f*r-l*a,_=l*o-c*r,y=c*_-f*v,N=f*p-l*_,A=l*v-c*p,C=d*2;return p*=C,v*=C,_*=C,y*=2,N*=2,A*=2,t[0]=r+p+y,t[1]=o+v+N,t[2]=a+_+A,t}const vE=(function(){const t=[0,0,0],e=[0,0,0];return function(n,r){Hp(t,n),Hp(e,r),Vp(t,t),Vp(e,e);let o=N5(t,e);return o>1?0:o<-1?Math.PI:Math.acos(o)}})();function yE(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}class Us extends Array{constructor(e=0,n=e,r=e){return super(e,n,r),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this[0]=e}set y(e){this[1]=e}set z(e){this[2]=e}set(e,n=e,r=e){return e.length?this.copy(e):(rE(this,e,n,r),this)}copy(e){return Hp(this,e),this}add(e,n){return n?z2(this,e,n):z2(this,this,e),this}sub(e,n){return n?q2(this,e,n):q2(this,this,e),this}multiply(e){return e.length?sE(this,this,e):ap(this,this,e),this}divide(e){return e.length?oE(this,this,e):ap(this,this,1/e),this}inverse(e=this){return cE(this,e),this}len(){return Xc(this)}distance(e){return e?aE(this,e):Xc(this)}squaredLen(){return G2(this)}squaredDistance(e){return e?lE(this,e):G2(this)}negate(e=this){return uE(this,e),this}cross(e,n){return n?H2(this,e,n):H2(this,this,e),this}scale(e){return ap(this,this,e),this}normalize(){return Vp(this,this),this}dot(e){return N5(this,e)}equals(e){return yE(this,e)}applyMatrix3(e){return mE(this,this,e),this}applyMatrix4(e){return hE(this,this,e),this}scaleRotateMatrix4(e){return pE(this,this,e),this}applyQuaternion(e){return gE(this,this,e),this}angle(e){return vE(this,e)}lerp(e,n){return fE(this,this,e,n),this}smoothLerp(e,n,r){return dE(this,this,e,n,r),this}clone(){return new Us(this[0],this[1],this[2])}fromArray(e,n=0){return this[0]=e[n],this[1]=e[n+1],this[2]=e[n+2],this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e}transformDirection(e){const n=this[0],r=this[1],o=this[2];return this[0]=e[0]*n+e[4]*r+e[8]*o,this[1]=e[1]*n+e[5]*r+e[9]*o,this[2]=e[2]*n+e[6]*r+e[10]*o,this.normalize()}}const V2=new Us;let bE=1,_E=1,j2=!1;class wE{constructor(e,n={}){e.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=e,this.attributes=n,this.id=bE++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let r in n)this.addAttribute(r,n[r])}addAttribute(e,n){if(this.attributes[e]=n,n.id=_E++,n.size=n.size||1,n.type=n.type||(n.data.constructor===Float32Array?this.gl.FLOAT:n.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),n.target=e==="index"?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,n.normalized=n.normalized||!1,n.stride=n.stride||0,n.offset=n.offset||0,n.count=n.count||(n.stride?n.data.byteLength/n.stride:n.data.length/n.size),n.divisor=n.instanced||0,n.needsUpdate=!1,n.usage=n.usage||this.gl.STATIC_DRAW,n.buffer||this.updateAttribute(n),n.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==n.count*n.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,n.count*n.divisor);this.instancedCount=n.count*n.divisor}else e==="index"?this.drawRange.count=n.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,n.count))}updateAttribute(e){const n=!e.buffer;n&&(e.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==e.buffer&&(this.gl.bindBuffer(e.target,e.buffer),this.glState.boundBuffer=e.buffer),n?this.gl.bufferData(e.target,e.data,e.usage):this.gl.bufferSubData(e.target,0,e.data),e.needsUpdate=!1}setIndex(e){this.addAttribute("index",e)}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}setInstancedCount(e){this.instancedCount=e}createVAO(e){this.VAOs[e.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.bindAttributes(e)}bindAttributes(e){e.attributeLocations.forEach((n,{name:r,type:o})=>{if(!this.attributes[r]){console.warn(`active attribute ${r} not being supplied`);return}const a=this.attributes[r];this.gl.bindBuffer(a.target,a.buffer),this.glState.boundBuffer=a.buffer;let l=1;o===35674&&(l=2),o===35675&&(l=3),o===35676&&(l=4);const c=a.size/l,f=l===1?0:l*l*4,d=l===1?0:l*4;for(let p=0;p<l;p++)this.gl.vertexAttribPointer(n+p,c,a.type,a.normalized,a.stride+f,a.offset+p*d),this.gl.enableVertexAttribArray(n+p),this.gl.renderer.vertexAttribDivisor(n+p,a.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:e,mode:n=this.gl.TRIANGLES}){var o;this.gl.renderer.currentGeometry!==`${this.id}_${e.attributeOrder}`&&(this.VAOs[e.attributeOrder]||this.createVAO(e),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${e.attributeOrder}`),e.attributeLocations.forEach((a,{name:l})=>{const c=this.attributes[l];c.needsUpdate&&this.updateAttribute(c)});let r=2;((o=this.attributes.index)==null?void 0:o.type)===this.gl.UNSIGNED_INT&&(r=4),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(n,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*r,this.instancedCount):this.gl.renderer.drawArraysInstanced(n,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(n,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*r):this.gl.drawArrays(n,this.drawRange.start,this.drawRange.count)}getPosition(){const e=this.attributes.position;if(e.data)return e;if(!j2)return console.warn("No position buffer data found to compute bounds"),j2=!0}computeBoundingBox(e){e||(e=this.getPosition());const n=e.data,r=e.size;this.bounds||(this.bounds={min:new Us,max:new Us,center:new Us,scale:new Us,radius:1/0});const o=this.bounds.min,a=this.bounds.max,l=this.bounds.center,c=this.bounds.scale;o.set(1/0),a.set(-1/0);for(let f=0,d=n.length;f<d;f+=r){const p=n[f],v=n[f+1],_=n[f+2];o.x=Math.min(p,o.x),o.y=Math.min(v,o.y),o.z=Math.min(_,o.z),a.x=Math.max(p,a.x),a.y=Math.max(v,a.y),a.z=Math.max(_,a.z)}c.sub(a,o),l.add(o,a).divide(2)}computeBoundingSphere(e){e||(e=this.getPosition());const n=e.data,r=e.size;this.bounds||this.computeBoundingBox(e);let o=0;for(let a=0,l=n.length;a<l;a+=r)V2.fromArray(n,a),o=Math.max(o,this.bounds.center.squaredDistance(V2));this.bounds.radius=Math.sqrt(o)}remove(){for(let e in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[e]),delete this.VAOs[e];for(let e in this.attributes)this.gl.deleteBuffer(this.attributes[e].buffer),delete this.attributes[e]}}let xE=1;const Y2={};class SE{constructor(e,{vertex:n,fragment:r,uniforms:o={},transparent:a=!1,cullFace:l=e.BACK,frontFace:c=e.CCW,depthTest:f=!0,depthWrite:d=!0,depthFunc:p=e.LEQUAL}={}){e.canvas||console.error("gl not passed as first argument to Program"),this.gl=e,this.uniforms=o,this.id=xE++,n||console.warn("vertex shader not supplied"),r||console.warn("fragment shader not supplied"),this.transparent=a,this.cullFace=l,this.frontFace=c,this.depthTest=f,this.depthWrite=d,this.depthFunc=p,this.blendFunc={},this.blendEquation={},this.stencilFunc={},this.stencilOp={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),this.vertexShader=e.createShader(e.VERTEX_SHADER),this.fragmentShader=e.createShader(e.FRAGMENT_SHADER),this.program=e.createProgram(),e.attachShader(this.program,this.vertexShader),e.attachShader(this.program,this.fragmentShader),this.setShaders({vertex:n,fragment:r})}setShaders({vertex:e,fragment:n}){if(e&&(this.gl.shaderSource(this.vertexShader,e),this.gl.compileShader(this.vertexShader),this.gl.getShaderInfoLog(this.vertexShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.vertexShader)}
Vertex Shader
${J2(e)}`)),n&&(this.gl.shaderSource(this.fragmentShader,n),this.gl.compileShader(this.fragmentShader),this.gl.getShaderInfoLog(this.fragmentShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.fragmentShader)}
Fragment Shader
${J2(n)}`)),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))return console.warn(this.gl.getProgramInfoLog(this.program));this.uniformLocations=new Map;let r=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let l=0;l<r;l++){let c=this.gl.getActiveUniform(this.program,l);this.uniformLocations.set(c,this.gl.getUniformLocation(this.program,c.name));const f=c.name.match(/(\w+)/g);c.uniformName=f[0],c.nameComponents=f.slice(1)}this.attributeLocations=new Map;const o=[],a=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let l=0;l<a;l++){const c=this.gl.getActiveAttrib(this.program,l),f=this.gl.getAttribLocation(this.program,c.name);f!==-1&&(o[f]=c.name,this.attributeLocations.set(c,f))}this.attributeOrder=o.join("")}setBlendFunc(e,n,r,o){this.blendFunc.src=e,this.blendFunc.dst=n,this.blendFunc.srcAlpha=r,this.blendFunc.dstAlpha=o,e&&(this.transparent=!0)}setBlendEquation(e,n){this.blendEquation.modeRGB=e,this.blendEquation.modeAlpha=n}setStencilFunc(e,n,r){this.stencilRef=n,this.stencilFunc.func=e,this.stencilFunc.ref=n,this.stencilFunc.mask=r}setStencilOp(e,n,r){this.stencilOp.stencilFail=e,this.stencilOp.depthFail=n,this.stencilOp.depthPass=r}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha),this.stencilFunc.func||this.stencilOp.stencilFail?this.gl.renderer.enable(this.gl.STENCIL_TEST):this.gl.renderer.disable(this.gl.STENCIL_TEST),this.gl.renderer.setStencilFunc(this.stencilFunc.func,this.stencilFunc.ref,this.stencilFunc.mask),this.gl.renderer.setStencilOp(this.stencilOp.stencilFail,this.stencilOp.depthFail,this.stencilOp.depthPass)}use({flipFaces:e=!1}={}){let n=-1;this.gl.renderer.state.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((o,a)=>{let l=this.uniforms[a.uniformName];for(const c of a.nameComponents){if(!l)break;if(c in l)l=l[c];else{if(Array.isArray(l.value))break;l=void 0;break}}if(!l)return W2(`Active uniform ${a.name} has not been supplied`);if(l&&l.value===void 0)return W2(`${a.name} uniform is missing a value parameter`);if(l.value.texture)return n=n+1,l.value.update(n),lp(this.gl,a.type,o,n);if(l.value.length&&l.value[0].texture){const c=[];return l.value.forEach(f=>{n=n+1,f.update(n),c.push(n)}),lp(this.gl,a.type,o,c)}lp(this.gl,a.type,o,l.value)}),this.applyState(),e&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function lp(t,e,n,r){r=r.length?AE(r):r;const o=t.renderer.state.uniformLocations.get(n);if(r.length)if(o===void 0||o.length!==r.length)t.renderer.state.uniformLocations.set(n,r.slice(0));else{if(EE(o,r))return;o.set?o.set(r):TE(o,r),t.renderer.state.uniformLocations.set(n,o)}else{if(o===r)return;t.renderer.state.uniformLocations.set(n,r)}switch(e){case 5126:return r.length?t.uniform1fv(n,r):t.uniform1f(n,r);case 35664:return t.uniform2fv(n,r);case 35665:return t.uniform3fv(n,r);case 35666:return t.uniform4fv(n,r);case 35670:case 5124:case 35678:case 36306:case 35680:case 36289:return r.length?t.uniform1iv(n,r):t.uniform1i(n,r);case 35671:case 35667:return t.uniform2iv(n,r);case 35672:case 35668:return t.uniform3iv(n,r);case 35673:case 35669:return t.uniform4iv(n,r);case 35674:return t.uniformMatrix2fv(n,!1,r);case 35675:return t.uniformMatrix3fv(n,!1,r);case 35676:return t.uniformMatrix4fv(n,!1,r)}}function J2(t){let e=t.split(`
`);for(let n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join(`
`)}function AE(t){const e=t.length,n=t[0].length;if(n===void 0)return t;const r=e*n;let o=Y2[r];o||(Y2[r]=o=new Float32Array(r));for(let a=0;a<e;a++)o.set(t[a],a*n);return o}function EE(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function TE(t,e){for(let n=0,r=t.length;n<r;n++)t[n]=e[n]}let up=0;function W2(t){up>100||(console.warn(t),up++,up>100&&console.warn("More than 100 program warnings - stopping logs."))}const cp=new Us;let NE=1;class CE{constructor({canvas:e=document.createElement("canvas"),width:n=300,height:r=150,dpr:o=1,alpha:a=!1,depth:l=!0,stencil:c=!1,antialias:f=!1,premultipliedAlpha:d=!1,preserveDrawingBuffer:p=!1,powerPreference:v="default",autoClear:_=!0,webgl:y=2}={}){const N={alpha:a,depth:l,stencil:c,antialias:f,premultipliedAlpha:d,preserveDrawingBuffer:p,powerPreference:v};this.dpr=o,this.alpha=a,this.color=!0,this.depth=l,this.stencil=c,this.premultipliedAlpha=d,this.autoClear=_,this.id=NE++,y===2&&(this.gl=e.getContext("webgl2",N)),this.isWebgl2=!!this.gl,this.gl||(this.gl=e.getContext("webgl",N)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(n,r),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=!1,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LEQUAL,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(e,n){this.width=e,this.height=n,this.gl.canvas.width=e*this.dpr,this.gl.canvas.height=n*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:e+"px",height:n+"px"})}setViewport(e,n,r=0,o=0){this.state.viewport.width===e&&this.state.viewport.height===n||(this.state.viewport.width=e,this.state.viewport.height=n,this.state.viewport.x=r,this.state.viewport.y=o,this.gl.viewport(r,o,e,n))}setScissor(e,n,r=0,o=0){this.gl.scissor(r,o,e,n)}enable(e){this.state[e]!==!0&&(this.gl.enable(e),this.state[e]=!0)}disable(e){this.state[e]!==!1&&(this.gl.disable(e),this.state[e]=!1)}setBlendFunc(e,n,r,o){this.state.blendFunc.src===e&&this.state.blendFunc.dst===n&&this.state.blendFunc.srcAlpha===r&&this.state.blendFunc.dstAlpha===o||(this.state.blendFunc.src=e,this.state.blendFunc.dst=n,this.state.blendFunc.srcAlpha=r,this.state.blendFunc.dstAlpha=o,r!==void 0?this.gl.blendFuncSeparate(e,n,r,o):this.gl.blendFunc(e,n))}setBlendEquation(e,n){e=e||this.gl.FUNC_ADD,!(this.state.blendEquation.modeRGB===e&&this.state.blendEquation.modeAlpha===n)&&(this.state.blendEquation.modeRGB=e,this.state.blendEquation.modeAlpha=n,n!==void 0?this.gl.blendEquationSeparate(e,n):this.gl.blendEquation(e))}setCullFace(e){this.state.cullFace!==e&&(this.state.cullFace=e,this.gl.cullFace(e))}setFrontFace(e){this.state.frontFace!==e&&(this.state.frontFace=e,this.gl.frontFace(e))}setDepthMask(e){this.state.depthMask!==e&&(this.state.depthMask=e,this.gl.depthMask(e))}setDepthFunc(e){this.state.depthFunc!==e&&(this.state.depthFunc=e,this.gl.depthFunc(e))}setStencilMask(e){this.state.stencilMask!==e&&(this.state.stencilMask=e,this.gl.stencilMask(e))}setStencilFunc(e,n,r){this.state.stencilFunc===e&&this.state.stencilRef===n&&this.state.stencilFuncMask===r||(this.state.stencilFunc=e||this.gl.ALWAYS,this.state.stencilRef=n||0,this.state.stencilFuncMask=r||0,this.gl.stencilFunc(e||this.gl.ALWAYS,n||0,r||0))}setStencilOp(e,n,r){this.state.stencilFail===e&&this.state.stencilDepthFail===n&&this.state.stencilDepthPass===r||(this.state.stencilFail=e,this.state.stencilDepthFail=n,this.state.stencilDepthPass=r,this.gl.stencilOp(e,n,r))}activeTexture(e){this.state.activeTextureUnit!==e&&(this.state.activeTextureUnit=e,this.gl.activeTexture(this.gl.TEXTURE0+e))}bindFramebuffer({target:e=this.gl.FRAMEBUFFER,buffer:n=null}={}){this.state.framebuffer!==n&&(this.state.framebuffer=n,this.gl.bindFramebuffer(e,n))}getExtension(e,n,r){return n&&this.gl[n]?this.gl[n].bind(this.gl):(this.extensions[e]||(this.extensions[e]=this.gl.getExtension(e)),n?this.extensions[e]?this.extensions[e][r].bind(this.extensions[e]):null:this.extensions[e])}sortOpaque(e,n){return e.renderOrder!==n.renderOrder?e.renderOrder-n.renderOrder:e.program.id!==n.program.id?e.program.id-n.program.id:e.zDepth!==n.zDepth?e.zDepth-n.zDepth:n.id-e.id}sortTransparent(e,n){return e.renderOrder!==n.renderOrder?e.renderOrder-n.renderOrder:e.zDepth!==n.zDepth?n.zDepth-e.zDepth:n.id-e.id}sortUI(e,n){return e.renderOrder!==n.renderOrder?e.renderOrder-n.renderOrder:e.program.id!==n.program.id?e.program.id-n.program.id:n.id-e.id}getRenderList({scene:e,camera:n,frustumCull:r,sort:o}){let a=[];if(n&&r&&n.updateFrustum(),e.traverse(l=>{if(!l.visible)return!0;l.draw&&(r&&l.frustumCulled&&n&&!n.frustumIntersectsMesh(l)||a.push(l))}),o){const l=[],c=[],f=[];a.forEach(d=>{d.program.transparent?d.program.depthTest?c.push(d):f.push(d):l.push(d),d.zDepth=0,!(d.renderOrder!==0||!d.program.depthTest||!n)&&(d.worldMatrix.getTranslation(cp),cp.applyMatrix4(n.projectionViewMatrix),d.zDepth=cp.z)}),l.sort(this.sortOpaque),c.sort(this.sortTransparent),f.sort(this.sortUI),a=l.concat(c,f)}return a}render({scene:e,camera:n,target:r=null,update:o=!0,sort:a=!0,frustumCull:l=!0,clear:c}){r===null?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(r),this.setViewport(r.width,r.height)),(c||this.autoClear&&c!==!1)&&(this.depth&&(!r||r.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),(this.stencil||!r||r.stencil)&&(this.enable(this.gl.STENCIL_TEST),this.setStencilMask(255)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),o&&e.updateMatrixWorld(),n&&n.updateMatrixWorld(),this.getRenderList({scene:e,camera:n,frustumCull:l,sort:a}).forEach(d=>{d.draw({camera:n})})}}function LE(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function IE(t,e,n,r,o){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t}function ME(t,e){let n=e[0],r=e[1],o=e[2],a=e[3],l=n*n+r*r+o*o+a*a;return l>0&&(l=1/Math.sqrt(l)),t[0]=n*l,t[1]=r*l,t[2]=o*l,t[3]=a*l,t}function RE(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function kE(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function DE(t,e,n){n=n*.5;let r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function K2(t,e,n){let r=e[0],o=e[1],a=e[2],l=e[3],c=n[0],f=n[1],d=n[2],p=n[3];return t[0]=r*p+l*c+o*d-a*f,t[1]=o*p+l*f+a*c-r*d,t[2]=a*p+l*d+r*f-o*c,t[3]=l*p-r*c-o*f-a*d,t}function PE(t,e,n){n*=.5;let r=e[0],o=e[1],a=e[2],l=e[3],c=Math.sin(n),f=Math.cos(n);return t[0]=r*f+l*c,t[1]=o*f+a*c,t[2]=a*f-o*c,t[3]=l*f-r*c,t}function UE(t,e,n){n*=.5;let r=e[0],o=e[1],a=e[2],l=e[3],c=Math.sin(n),f=Math.cos(n);return t[0]=r*f-a*c,t[1]=o*f+l*c,t[2]=a*f+r*c,t[3]=l*f-o*c,t}function OE(t,e,n){n*=.5;let r=e[0],o=e[1],a=e[2],l=e[3],c=Math.sin(n),f=Math.cos(n);return t[0]=r*f+o*c,t[1]=o*f-r*c,t[2]=a*f+l*c,t[3]=l*f-a*c,t}function FE(t,e,n,r){let o=e[0],a=e[1],l=e[2],c=e[3],f=n[0],d=n[1],p=n[2],v=n[3],_,y,N,A,C;return y=o*f+a*d+l*p+c*v,y<0&&(y=-y,f=-f,d=-d,p=-p,v=-v),1-y>1e-6?(_=Math.acos(y),N=Math.sin(_),A=Math.sin((1-r)*_)/N,C=Math.sin(r*_)/N):(A=1-r,C=r),t[0]=A*o+C*f,t[1]=A*a+C*d,t[2]=A*l+C*p,t[3]=A*c+C*v,t}function BE(t,e){let n=e[0],r=e[1],o=e[2],a=e[3],l=n*n+r*r+o*o+a*a,c=l?1/l:0;return t[0]=-n*c,t[1]=-r*c,t[2]=-o*c,t[3]=a*c,t}function zE(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function qE(t,e){let n=e[0]+e[4]+e[8],r;if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{let o=0;e[4]>e[0]&&(o=1),e[8]>e[o*3+o]&&(o=2);let a=(o+1)%3,l=(o+2)%3;r=Math.sqrt(e[o*3+o]-e[a*3+a]-e[l*3+l]+1),t[o]=.5*r,r=.5/r,t[3]=(e[a*3+l]-e[l*3+a])*r,t[a]=(e[a*3+o]+e[o*3+a])*r,t[l]=(e[l*3+o]+e[o*3+l])*r}return t}function GE(t,e,n="YXZ"){let r=Math.sin(e[0]*.5),o=Math.cos(e[0]*.5),a=Math.sin(e[1]*.5),l=Math.cos(e[1]*.5),c=Math.sin(e[2]*.5),f=Math.cos(e[2]*.5);return n==="XYZ"?(t[0]=r*l*f+o*a*c,t[1]=o*a*f-r*l*c,t[2]=o*l*c+r*a*f,t[3]=o*l*f-r*a*c):n==="YXZ"?(t[0]=r*l*f+o*a*c,t[1]=o*a*f-r*l*c,t[2]=o*l*c-r*a*f,t[3]=o*l*f+r*a*c):n==="ZXY"?(t[0]=r*l*f-o*a*c,t[1]=o*a*f+r*l*c,t[2]=o*l*c+r*a*f,t[3]=o*l*f-r*a*c):n==="ZYX"?(t[0]=r*l*f-o*a*c,t[1]=o*a*f+r*l*c,t[2]=o*l*c-r*a*f,t[3]=o*l*f+r*a*c):n==="YZX"?(t[0]=r*l*f+o*a*c,t[1]=o*a*f+r*l*c,t[2]=o*l*c-r*a*f,t[3]=o*l*f-r*a*c):n==="XZY"&&(t[0]=r*l*f-o*a*c,t[1]=o*a*f-r*l*c,t[2]=o*l*c+r*a*f,t[3]=o*l*f+r*a*c),t}const HE=LE,VE=IE,jE=RE,YE=ME;class JE extends Array{constructor(e=0,n=0,r=0,o=1){super(e,n,r,o),this.onChange=()=>{},this._target=this;const a=["0","1","2","3"];return new Proxy(this,{set(l,c){const f=Reflect.set(...arguments);return f&&a.includes(c)&&l.onChange(),f}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set w(e){this._target[3]=e,this.onChange()}identity(){return kE(this._target),this.onChange(),this}set(e,n,r,o){return e.length?this.copy(e):(VE(this._target,e,n,r,o),this.onChange(),this)}rotateX(e){return PE(this._target,this._target,e),this.onChange(),this}rotateY(e){return UE(this._target,this._target,e),this.onChange(),this}rotateZ(e){return OE(this._target,this._target,e),this.onChange(),this}inverse(e=this._target){return BE(this._target,e),this.onChange(),this}conjugate(e=this._target){return zE(this._target,e),this.onChange(),this}copy(e){return HE(this._target,e),this.onChange(),this}normalize(e=this._target){return YE(this._target,e),this.onChange(),this}multiply(e,n){return n?K2(this._target,e,n):K2(this._target,this._target,e),this.onChange(),this}dot(e){return jE(this._target,e)}fromMatrix3(e){return qE(this._target,e),this.onChange(),this}fromEuler(e,n){return GE(this._target,e,e.order),n||this.onChange(),this}fromAxisAngle(e,n){return DE(this._target,e,n),this.onChange(),this}slerp(e,n){return FE(this._target,this._target,e,n),this.onChange(),this}fromArray(e,n=0){return this._target[0]=e[n],this._target[1]=e[n+1],this._target[2]=e[n+2],this._target[3]=e[n+3],this.onChange(),this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e[n+3]=this[3],e}}const WE=1e-6;function KE(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function XE(t,e,n,r,o,a,l,c,f,d,p,v,_,y,N,A,C){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=a,t[5]=l,t[6]=c,t[7]=f,t[8]=d,t[9]=p,t[10]=v,t[11]=_,t[12]=y,t[13]=N,t[14]=A,t[15]=C,t}function ZE(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function $E(t,e){let n=e[0],r=e[1],o=e[2],a=e[3],l=e[4],c=e[5],f=e[6],d=e[7],p=e[8],v=e[9],_=e[10],y=e[11],N=e[12],A=e[13],C=e[14],T=e[15],k=n*c-r*l,U=n*f-o*l,z=n*d-a*l,q=r*f-o*c,J=r*d-a*c,H=o*d-a*f,Z=p*A-v*N,W=p*C-_*N,ae=p*T-y*N,B=v*C-_*A,D=v*T-y*A,X=_*T-y*C,I=k*X-U*D+z*B+q*ae-J*W+H*Z;return I?(I=1/I,t[0]=(c*X-f*D+d*B)*I,t[1]=(o*D-r*X-a*B)*I,t[2]=(A*H-C*J+T*q)*I,t[3]=(_*J-v*H-y*q)*I,t[4]=(f*ae-l*X-d*W)*I,t[5]=(n*X-o*ae+a*W)*I,t[6]=(C*z-N*H-T*U)*I,t[7]=(p*H-_*z+y*U)*I,t[8]=(l*D-c*ae+d*Z)*I,t[9]=(r*ae-n*D-a*Z)*I,t[10]=(N*J-A*z+T*k)*I,t[11]=(v*z-p*J-y*k)*I,t[12]=(c*W-l*B-f*Z)*I,t[13]=(n*B-r*W+o*Z)*I,t[14]=(A*U-N*q-C*k)*I,t[15]=(p*q-v*U+_*k)*I,t):null}function C5(t){let e=t[0],n=t[1],r=t[2],o=t[3],a=t[4],l=t[5],c=t[6],f=t[7],d=t[8],p=t[9],v=t[10],_=t[11],y=t[12],N=t[13],A=t[14],C=t[15],T=e*l-n*a,k=e*c-r*a,U=e*f-o*a,z=n*c-r*l,q=n*f-o*l,J=r*f-o*c,H=d*N-p*y,Z=d*A-v*y,W=d*C-_*y,ae=p*A-v*N,B=p*C-_*N,D=v*C-_*A;return T*D-k*B+U*ae+z*W-q*Z+J*H}function X2(t,e,n){let r=e[0],o=e[1],a=e[2],l=e[3],c=e[4],f=e[5],d=e[6],p=e[7],v=e[8],_=e[9],y=e[10],N=e[11],A=e[12],C=e[13],T=e[14],k=e[15],U=n[0],z=n[1],q=n[2],J=n[3];return t[0]=U*r+z*c+q*v+J*A,t[1]=U*o+z*f+q*_+J*C,t[2]=U*a+z*d+q*y+J*T,t[3]=U*l+z*p+q*N+J*k,U=n[4],z=n[5],q=n[6],J=n[7],t[4]=U*r+z*c+q*v+J*A,t[5]=U*o+z*f+q*_+J*C,t[6]=U*a+z*d+q*y+J*T,t[7]=U*l+z*p+q*N+J*k,U=n[8],z=n[9],q=n[10],J=n[11],t[8]=U*r+z*c+q*v+J*A,t[9]=U*o+z*f+q*_+J*C,t[10]=U*a+z*d+q*y+J*T,t[11]=U*l+z*p+q*N+J*k,U=n[12],z=n[13],q=n[14],J=n[15],t[12]=U*r+z*c+q*v+J*A,t[13]=U*o+z*f+q*_+J*C,t[14]=U*a+z*d+q*y+J*T,t[15]=U*l+z*p+q*N+J*k,t}function QE(t,e,n){let r=n[0],o=n[1],a=n[2],l,c,f,d,p,v,_,y,N,A,C,T;return e===t?(t[12]=e[0]*r+e[4]*o+e[8]*a+e[12],t[13]=e[1]*r+e[5]*o+e[9]*a+e[13],t[14]=e[2]*r+e[6]*o+e[10]*a+e[14],t[15]=e[3]*r+e[7]*o+e[11]*a+e[15]):(l=e[0],c=e[1],f=e[2],d=e[3],p=e[4],v=e[5],_=e[6],y=e[7],N=e[8],A=e[9],C=e[10],T=e[11],t[0]=l,t[1]=c,t[2]=f,t[3]=d,t[4]=p,t[5]=v,t[6]=_,t[7]=y,t[8]=N,t[9]=A,t[10]=C,t[11]=T,t[12]=l*r+p*o+N*a+e[12],t[13]=c*r+v*o+A*a+e[13],t[14]=f*r+_*o+C*a+e[14],t[15]=d*r+y*o+T*a+e[15]),t}function eT(t,e,n){let r=n[0],o=n[1],a=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*o,t[5]=e[5]*o,t[6]=e[6]*o,t[7]=e[7]*o,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function tT(t,e,n,r){let o=r[0],a=r[1],l=r[2],c=Math.hypot(o,a,l),f,d,p,v,_,y,N,A,C,T,k,U,z,q,J,H,Z,W,ae,B,D,X,I,ce;return Math.abs(c)<WE?null:(c=1/c,o*=c,a*=c,l*=c,f=Math.sin(n),d=Math.cos(n),p=1-d,v=e[0],_=e[1],y=e[2],N=e[3],A=e[4],C=e[5],T=e[6],k=e[7],U=e[8],z=e[9],q=e[10],J=e[11],H=o*o*p+d,Z=a*o*p+l*f,W=l*o*p-a*f,ae=o*a*p-l*f,B=a*a*p+d,D=l*a*p+o*f,X=o*l*p+a*f,I=a*l*p-o*f,ce=l*l*p+d,t[0]=v*H+A*Z+U*W,t[1]=_*H+C*Z+z*W,t[2]=y*H+T*Z+q*W,t[3]=N*H+k*Z+J*W,t[4]=v*ae+A*B+U*D,t[5]=_*ae+C*B+z*D,t[6]=y*ae+T*B+q*D,t[7]=N*ae+k*B+J*D,t[8]=v*X+A*I+U*ce,t[9]=_*X+C*I+z*ce,t[10]=y*X+T*I+q*ce,t[11]=N*X+k*I+J*ce,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function nT(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function L5(t,e){let n=e[0],r=e[1],o=e[2],a=e[4],l=e[5],c=e[6],f=e[8],d=e[9],p=e[10];return t[0]=Math.hypot(n,r,o),t[1]=Math.hypot(a,l,c),t[2]=Math.hypot(f,d,p),t}function iT(t){let e=t[0],n=t[1],r=t[2],o=t[4],a=t[5],l=t[6],c=t[8],f=t[9],d=t[10];const p=e*e+n*n+r*r,v=o*o+a*a+l*l,_=c*c+f*f+d*d;return Math.sqrt(Math.max(p,v,_))}const I5=(function(){const t=[1,1,1];return function(e,n){let r=t;L5(r,n);let o=1/r[0],a=1/r[1],l=1/r[2],c=n[0]*o,f=n[1]*a,d=n[2]*l,p=n[4]*o,v=n[5]*a,_=n[6]*l,y=n[8]*o,N=n[9]*a,A=n[10]*l,C=c+v+A,T=0;return C>0?(T=Math.sqrt(C+1)*2,e[3]=.25*T,e[0]=(_-N)/T,e[1]=(y-d)/T,e[2]=(f-p)/T):c>v&&c>A?(T=Math.sqrt(1+c-v-A)*2,e[3]=(_-N)/T,e[0]=.25*T,e[1]=(f+p)/T,e[2]=(y+d)/T):v>A?(T=Math.sqrt(1+v-c-A)*2,e[3]=(y-d)/T,e[0]=(f+p)/T,e[1]=.25*T,e[2]=(_+N)/T):(T=Math.sqrt(1+A-c-v)*2,e[3]=(f-p)/T,e[0]=(y+d)/T,e[1]=(_+N)/T,e[2]=.25*T),e}})();function rT(t,e,n,r){let o=Xc([t[0],t[1],t[2]]);const a=Xc([t[4],t[5],t[6]]),l=Xc([t[8],t[9],t[10]]);C5(t)<0&&(o=-o),n[0]=t[12],n[1]=t[13],n[2]=t[14];const f=t.slice(),d=1/o,p=1/a,v=1/l;f[0]*=d,f[1]*=d,f[2]*=d,f[4]*=p,f[5]*=p,f[6]*=p,f[8]*=v,f[9]*=v,f[10]*=v,I5(e,f),r[0]=o,r[1]=a,r[2]=l}function sT(t,e,n,r){const o=t,a=e[0],l=e[1],c=e[2],f=e[3],d=a+a,p=l+l,v=c+c,_=a*d,y=a*p,N=a*v,A=l*p,C=l*v,T=c*v,k=f*d,U=f*p,z=f*v,q=r[0],J=r[1],H=r[2];return o[0]=(1-(A+T))*q,o[1]=(y+z)*q,o[2]=(N-U)*q,o[3]=0,o[4]=(y-z)*J,o[5]=(1-(_+T))*J,o[6]=(C+k)*J,o[7]=0,o[8]=(N+U)*H,o[9]=(C-k)*H,o[10]=(1-(_+A))*H,o[11]=0,o[12]=n[0],o[13]=n[1],o[14]=n[2],o[15]=1,o}function oT(t,e){let n=e[0],r=e[1],o=e[2],a=e[3],l=n+n,c=r+r,f=o+o,d=n*l,p=r*l,v=r*c,_=o*l,y=o*c,N=o*f,A=a*l,C=a*c,T=a*f;return t[0]=1-v-N,t[1]=p+T,t[2]=_-C,t[3]=0,t[4]=p-T,t[5]=1-d-N,t[6]=y+A,t[7]=0,t[8]=_+C,t[9]=y-A,t[10]=1-d-v,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function aT(t,e,n,r,o){let a=1/Math.tan(e/2),l=1/(r-o);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(o+r)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*o*r*l,t[15]=0,t}function lT(t,e,n,r,o,a,l){let c=1/(e-n),f=1/(r-o),d=1/(a-l);return t[0]=-2*c,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*f,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*d,t[11]=0,t[12]=(e+n)*c,t[13]=(o+r)*f,t[14]=(l+a)*d,t[15]=1,t}function uT(t,e,n,r){let o=e[0],a=e[1],l=e[2],c=r[0],f=r[1],d=r[2],p=o-n[0],v=a-n[1],_=l-n[2],y=p*p+v*v+_*_;y===0?_=1:(y=1/Math.sqrt(y),p*=y,v*=y,_*=y);let N=f*_-d*v,A=d*p-c*_,C=c*v-f*p;return y=N*N+A*A+C*C,y===0&&(d?c+=1e-6:f?d+=1e-6:f+=1e-6,N=f*_-d*v,A=d*p-c*_,C=c*v-f*p,y=N*N+A*A+C*C),y=1/Math.sqrt(y),N*=y,A*=y,C*=y,t[0]=N,t[1]=A,t[2]=C,t[3]=0,t[4]=v*C-_*A,t[5]=_*N-p*C,t[6]=p*A-v*N,t[7]=0,t[8]=p,t[9]=v,t[10]=_,t[11]=0,t[12]=o,t[13]=a,t[14]=l,t[15]=1,t}function Z2(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function $2(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function cT(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}class _d extends Array{constructor(e=1,n=0,r=0,o=0,a=0,l=1,c=0,f=0,d=0,p=0,v=1,_=0,y=0,N=0,A=0,C=1){return super(e,n,r,o,a,l,c,f,d,p,v,_,y,N,A,C),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(e){this[12]=e}set y(e){this[13]=e}set z(e){this[14]=e}set w(e){this[15]=e}set(e,n,r,o,a,l,c,f,d,p,v,_,y,N,A,C){return e.length?this.copy(e):(XE(this,e,n,r,o,a,l,c,f,d,p,v,_,y,N,A,C),this)}translate(e,n=this){return QE(this,n,e),this}rotate(e,n,r=this){return tT(this,r,e,n),this}scale(e,n=this){return eT(this,n,typeof e=="number"?[e,e,e]:e),this}add(e,n){return n?Z2(this,e,n):Z2(this,this,e),this}sub(e,n){return n?$2(this,e,n):$2(this,this,e),this}multiply(e,n){return e.length?n?X2(this,e,n):X2(this,this,e):cT(this,this,e),this}identity(){return ZE(this),this}copy(e){return KE(this,e),this}fromPerspective({fov:e,aspect:n,near:r,far:o}={}){return aT(this,e,n,r,o),this}fromOrthogonal({left:e,right:n,bottom:r,top:o,near:a,far:l}){return lT(this,e,n,r,o,a,l),this}fromQuaternion(e){return oT(this,e),this}setPosition(e){return this.x=e[0],this.y=e[1],this.z=e[2],this}inverse(e=this){return $E(this,e),this}compose(e,n,r){return sT(this,e,n,r),this}decompose(e,n,r){return rT(this,e,n,r),this}getRotation(e){return I5(e,this),this}getTranslation(e){return nT(e,this),this}getScaling(e){return L5(e,this),this}getMaxScaleOnAxis(){return iT(this)}lookAt(e,n,r){return uT(this,e,n,r),this}determinant(){return C5(this)}fromArray(e,n=0){return this[0]=e[n],this[1]=e[n+1],this[2]=e[n+2],this[3]=e[n+3],this[4]=e[n+4],this[5]=e[n+5],this[6]=e[n+6],this[7]=e[n+7],this[8]=e[n+8],this[9]=e[n+9],this[10]=e[n+10],this[11]=e[n+11],this[12]=e[n+12],this[13]=e[n+13],this[14]=e[n+14],this[15]=e[n+15],this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e[n+3]=this[3],e[n+4]=this[4],e[n+5]=this[5],e[n+6]=this[6],e[n+7]=this[7],e[n+8]=this[8],e[n+9]=this[9],e[n+10]=this[10],e[n+11]=this[11],e[n+12]=this[12],e[n+13]=this[13],e[n+14]=this[14],e[n+15]=this[15],e}}function fT(t,e,n="YXZ"){return n==="XYZ"?(t[1]=Math.asin(Math.min(Math.max(e[8],-1),1)),Math.abs(e[8])<.99999?(t[0]=Math.atan2(-e[9],e[10]),t[2]=Math.atan2(-e[4],e[0])):(t[0]=Math.atan2(e[6],e[5]),t[2]=0)):n==="YXZ"?(t[0]=Math.asin(-Math.min(Math.max(e[9],-1),1)),Math.abs(e[9])<.99999?(t[1]=Math.atan2(e[8],e[10]),t[2]=Math.atan2(e[1],e[5])):(t[1]=Math.atan2(-e[2],e[0]),t[2]=0)):n==="ZXY"?(t[0]=Math.asin(Math.min(Math.max(e[6],-1),1)),Math.abs(e[6])<.99999?(t[1]=Math.atan2(-e[2],e[10]),t[2]=Math.atan2(-e[4],e[5])):(t[1]=0,t[2]=Math.atan2(e[1],e[0]))):n==="ZYX"?(t[1]=Math.asin(-Math.min(Math.max(e[2],-1),1)),Math.abs(e[2])<.99999?(t[0]=Math.atan2(e[6],e[10]),t[2]=Math.atan2(e[1],e[0])):(t[0]=0,t[2]=Math.atan2(-e[4],e[5]))):n==="YZX"?(t[2]=Math.asin(Math.min(Math.max(e[1],-1),1)),Math.abs(e[1])<.99999?(t[0]=Math.atan2(-e[9],e[5]),t[1]=Math.atan2(-e[2],e[0])):(t[0]=0,t[1]=Math.atan2(e[8],e[10]))):n==="XZY"&&(t[2]=Math.asin(-Math.min(Math.max(e[4],-1),1)),Math.abs(e[4])<.99999?(t[0]=Math.atan2(e[6],e[5]),t[1]=Math.atan2(e[8],e[0])):(t[0]=Math.atan2(-e[9],e[10]),t[1]=0)),t}const Q2=new _d;class dT extends Array{constructor(e=0,n=e,r=e,o="YXZ"){super(e,n,r),this.order=o,this.onChange=()=>{},this._target=this;const a=["0","1","2"];return new Proxy(this,{set(l,c){const f=Reflect.set(...arguments);return f&&a.includes(c)&&l.onChange(),f}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set(e,n=e,r=e){return e.length?this.copy(e):(this._target[0]=e,this._target[1]=n,this._target[2]=r,this.onChange(),this)}copy(e){return this._target[0]=e[0],this._target[1]=e[1],this._target[2]=e[2],this.onChange(),this}reorder(e){return this._target.order=e,this.onChange(),this}fromRotationMatrix(e,n=this.order){return fT(this._target,e,n),this.onChange(),this}fromQuaternion(e,n=this.order,r){return Q2.fromQuaternion(e),this._target.fromRotationMatrix(Q2,n),r||this.onChange(),this}fromArray(e,n=0){return this._target[0]=e[n],this._target[1]=e[n+1],this._target[2]=e[n+2],this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e}}class hT{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new _d,this.worldMatrix=new _d,this.matrixAutoUpdate=!0,this.worldMatrixNeedsUpdate=!1,this.position=new Us,this.quaternion=new JE,this.scale=new Us(1),this.rotation=new dT,this.up=new Us(0,1,0),this.rotation._target.onChange=()=>this.quaternion.fromEuler(this.rotation,!0),this.quaternion._target.onChange=()=>this.rotation.fromQuaternion(this.quaternion,void 0,!0)}setParent(e,n=!0){this.parent&&e!==this.parent&&this.parent.removeChild(this,!1),this.parent=e,n&&e&&e.addChild(this,!1)}addChild(e,n=!0){~this.children.indexOf(e)||this.children.push(e),n&&e.setParent(this,!1)}removeChild(e,n=!0){~this.children.indexOf(e)&&this.children.splice(this.children.indexOf(e),1),n&&e.setParent(null,!1)}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||e)&&(this.parent===null?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,e=!0);for(let n=0,r=this.children.length;n<r;n++)this.children[n].updateMatrixWorld(e)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(e){if(!e(this))for(let n=0,r=this.children.length;n<r;n++)this.children[n].traverse(e)}decompose(){this.matrix.decompose(this.quaternion._target,this.position,this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(e,n=!1){n?this.matrix.lookAt(this.position,e,this.up):this.matrix.lookAt(e,this.position,this.up),this.matrix.getRotation(this.quaternion._target),this.rotation.fromQuaternion(this.quaternion)}}function pT(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function mT(t,e){let n=e[0],r=e[1],o=e[2],a=e[3],l=n+n,c=r+r,f=o+o,d=n*l,p=r*l,v=r*c,_=o*l,y=o*c,N=o*f,A=a*l,C=a*c,T=a*f;return t[0]=1-v-N,t[3]=p-T,t[6]=_+C,t[1]=p+T,t[4]=1-d-N,t[7]=y-A,t[2]=_-C,t[5]=y+A,t[8]=1-d-v,t}function gT(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function vT(t,e,n,r,o,a,l,c,f,d){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=a,t[5]=l,t[6]=c,t[7]=f,t[8]=d,t}function yT(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function bT(t,e){let n=e[0],r=e[1],o=e[2],a=e[3],l=e[4],c=e[5],f=e[6],d=e[7],p=e[8],v=p*l-c*d,_=-p*a+c*f,y=d*a-l*f,N=n*v+r*_+o*y;return N?(N=1/N,t[0]=v*N,t[1]=(-p*r+o*d)*N,t[2]=(c*r-o*l)*N,t[3]=_*N,t[4]=(p*n-o*f)*N,t[5]=(-c*n+o*a)*N,t[6]=y*N,t[7]=(-d*n+r*f)*N,t[8]=(l*n-r*a)*N,t):null}function ev(t,e,n){let r=e[0],o=e[1],a=e[2],l=e[3],c=e[4],f=e[5],d=e[6],p=e[7],v=e[8],_=n[0],y=n[1],N=n[2],A=n[3],C=n[4],T=n[5],k=n[6],U=n[7],z=n[8];return t[0]=_*r+y*l+N*d,t[1]=_*o+y*c+N*p,t[2]=_*a+y*f+N*v,t[3]=A*r+C*l+T*d,t[4]=A*o+C*c+T*p,t[5]=A*a+C*f+T*v,t[6]=k*r+U*l+z*d,t[7]=k*o+U*c+z*p,t[8]=k*a+U*f+z*v,t}function _T(t,e,n){let r=e[0],o=e[1],a=e[2],l=e[3],c=e[4],f=e[5],d=e[6],p=e[7],v=e[8],_=n[0],y=n[1];return t[0]=r,t[1]=o,t[2]=a,t[3]=l,t[4]=c,t[5]=f,t[6]=_*r+y*l+d,t[7]=_*o+y*c+p,t[8]=_*a+y*f+v,t}function wT(t,e,n){let r=e[0],o=e[1],a=e[2],l=e[3],c=e[4],f=e[5],d=e[6],p=e[7],v=e[8],_=Math.sin(n),y=Math.cos(n);return t[0]=y*r+_*l,t[1]=y*o+_*c,t[2]=y*a+_*f,t[3]=y*l-_*r,t[4]=y*c-_*o,t[5]=y*f-_*a,t[6]=d,t[7]=p,t[8]=v,t}function xT(t,e,n){let r=n[0],o=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=o*e[3],t[4]=o*e[4],t[5]=o*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function ST(t,e){let n=e[0],r=e[1],o=e[2],a=e[3],l=e[4],c=e[5],f=e[6],d=e[7],p=e[8],v=e[9],_=e[10],y=e[11],N=e[12],A=e[13],C=e[14],T=e[15],k=n*c-r*l,U=n*f-o*l,z=n*d-a*l,q=r*f-o*c,J=r*d-a*c,H=o*d-a*f,Z=p*A-v*N,W=p*C-_*N,ae=p*T-y*N,B=v*C-_*A,D=v*T-y*A,X=_*T-y*C,I=k*X-U*D+z*B+q*ae-J*W+H*Z;return I?(I=1/I,t[0]=(c*X-f*D+d*B)*I,t[1]=(f*ae-l*X-d*W)*I,t[2]=(l*D-c*ae+d*Z)*I,t[3]=(o*D-r*X-a*B)*I,t[4]=(n*X-o*ae+a*W)*I,t[5]=(r*ae-n*D-a*Z)*I,t[6]=(A*H-C*J+T*q)*I,t[7]=(C*z-N*H-T*U)*I,t[8]=(N*J-A*z+T*k)*I,t):null}class AT extends Array{constructor(e=1,n=0,r=0,o=0,a=1,l=0,c=0,f=0,d=1){return super(e,n,r,o,a,l,c,f,d),this}set(e,n,r,o,a,l,c,f,d){return e.length?this.copy(e):(vT(this,e,n,r,o,a,l,c,f,d),this)}translate(e,n=this){return _T(this,n,e),this}rotate(e,n=this){return wT(this,n,e),this}scale(e,n=this){return xT(this,n,e),this}multiply(e,n){return n?ev(this,e,n):ev(this,this,e),this}identity(){return yT(this),this}copy(e){return gT(this,e),this}fromMatrix4(e){return pT(this,e),this}fromQuaternion(e){return mT(this,e),this}fromBasis(e,n,r){return this.set(e[0],e[1],e[2],n[0],n[1],n[2],r[0],r[1],r[2]),this}inverse(e=this){return bT(this,e),this}getNormalMatrix(e){return ST(this,e),this}}let ET=0;class TT extends hT{constructor(e,{geometry:n,program:r,mode:o=e.TRIANGLES,frustumCulled:a=!0,renderOrder:l=0}={}){super(),e.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=e,this.id=ET++,this.geometry=n,this.program=r,this.mode=o,this.frustumCulled=a,this.renderOrder=l,this.modelViewMatrix=new _d,this.normalMatrix=new AT,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(e){return this.beforeRenderCallbacks.push(e),this}onAfterRender(e){return this.afterRenderCallbacks.push(e),this}draw({camera:e}={}){e&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=e.projectionMatrix,this.program.uniforms.cameraPosition.value=e.worldPosition,this.program.uniforms.viewMatrix.value=e.viewMatrix,this.modelViewMatrix.multiply(e.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix),this.beforeRenderCallbacks.forEach(r=>r&&r({mesh:this,camera:e}));let n=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:n}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(r=>r&&r({mesh:this,camera:e}))}}class NT extends wE{constructor(e,{attributes:n={}}={}){Object.assign(n,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),super(e,n)}}function CT({hue:t=0,hoverIntensity:e=.2,rotateOnHover:n=!0,forceHoverState:r=!1}){const o=lt.useRef(null),a=`
    precision highp float;
    attribute vec2 position;
    attribute vec2 uv;
    varying vec2 vUv;
    void main() {
      vUv = uv;
      gl_Position = vec4(position, 0.0, 1.0);
    }
  `,l=`
    precision highp float;

    uniform float iTime;
    uniform vec3 iResolution;
    uniform float hue;
    uniform float hover;
    uniform float rot;
    uniform float hoverIntensity;
    varying vec2 vUv;

    vec3 rgb2yiq(vec3 c) {
      float y = dot(c, vec3(0.299, 0.587, 0.114));
      float i = dot(c, vec3(0.596, -0.274, -0.322));
      float q = dot(c, vec3(0.211, -0.523, 0.312));
      return vec3(y, i, q);
    }
    
    vec3 yiq2rgb(vec3 c) {
      float r = c.x + 0.956 * c.y + 0.621 * c.z;
      float g = c.x - 0.272 * c.y - 0.647 * c.z;
      float b = c.x - 1.106 * c.y + 1.703 * c.z;
      return vec3(r, g, b);
    }
    
    vec3 adjustHue(vec3 color, float hueDeg) {
      float hueRad = hueDeg * 3.14159265 / 180.0;
      vec3 yiq = rgb2yiq(color);
      float cosA = cos(hueRad);
      float sinA = sin(hueRad);
      float i = yiq.y * cosA - yiq.z * sinA;
      float q = yiq.y * sinA + yiq.z * cosA;
      yiq.y = i;
      yiq.z = q;
      return yiq2rgb(yiq);
    }

    vec3 hash33(vec3 p3) {
      p3 = fract(p3 * vec3(0.1031, 0.11369, 0.13787));
      p3 += dot(p3, p3.yxz + 19.19);
      return -1.0 + 2.0 * fract(vec3(
        p3.x + p3.y,
        p3.x + p3.z,
        p3.y + p3.z
      ) * p3.zyx);
    }

    float snoise3(vec3 p) {
      const float K1 = 0.333333333;
      const float K2 = 0.166666667;
      vec3 i = floor(p + (p.x + p.y + p.z) * K1);
      vec3 d0 = p - (i - (i.x + i.y + i.z) * K2);
      vec3 e = step(vec3(0.0), d0 - d0.yzx);
      vec3 i1 = e * (1.0 - e.zxy);
      vec3 i2 = 1.0 - e.zxy * (1.0 - e);
      vec3 d1 = d0 - (i1 - K2);
      vec3 d2 = d0 - (i2 - K1);
      vec3 d3 = d0 - 0.5;
      vec4 h = max(0.6 - vec4(
        dot(d0, d0),
        dot(d1, d1),
        dot(d2, d2),
        dot(d3, d3)
      ), 0.0);
      vec4 n = h * h * h * h * vec4(
        dot(d0, hash33(i)),
        dot(d1, hash33(i + i1)),
        dot(d2, hash33(i + i2)),
        dot(d3, hash33(i + 1.0))
      );
      return dot(vec4(31.316), n);
    }

    vec4 extractAlpha(vec3 colorIn) {
      float a = max(max(colorIn.r, colorIn.g), colorIn.b);
      return vec4(colorIn.rgb / (a + 1e-5), a);
    }

    const vec3 baseColor1 = vec3(0.611765, 0.262745, 0.996078);
    const vec3 baseColor2 = vec3(0.298039, 0.760784, 0.913725);
    const vec3 baseColor3 = vec3(0.062745, 0.078431, 0.600000);
    const float innerRadius = 0.6;
    const float noiseScale = 0.65;

    float light1(float intensity, float attenuation, float dist) {
      return intensity / (1.0 + dist * attenuation);
    }
    float light2(float intensity, float attenuation, float dist) {
      return intensity / (1.0 + dist * dist * attenuation);
    }

    vec4 draw(vec2 uv) {
      vec3 color1 = adjustHue(baseColor1, hue);
      vec3 color2 = adjustHue(baseColor2, hue);
      vec3 color3 = adjustHue(baseColor3, hue);
      
      float ang = atan(uv.y, uv.x);
      float len = length(uv);
      float invLen = len > 0.0 ? 1.0 / len : 0.0;
      
      float n0 = snoise3(vec3(uv * noiseScale, iTime * 0.5)) * 0.5 + 0.5;
      float r0 = mix(mix(innerRadius, 1.0, 0.4), mix(innerRadius, 1.0, 0.6), n0);
      float d0 = distance(uv, (r0 * invLen) * uv);
      float v0 = light1(1.0, 10.0, d0);
      v0 *= smoothstep(r0 * 1.05, r0, len);
      float cl = cos(ang + iTime * 2.0) * 0.5 + 0.5;
      
      float a = iTime * -1.0;
      vec2 pos = vec2(cos(a), sin(a)) * r0;
      float d = distance(uv, pos);
      float v1 = light2(1.5, 5.0, d);
      v1 *= light1(1.0, 50.0, d0);
      
      float v2 = smoothstep(1.0, mix(innerRadius, 1.0, n0 * 0.5), len);
      float v3 = smoothstep(innerRadius, mix(innerRadius, 1.0, 0.5), len);
      
      vec3 col = mix(color1, color2, cl);
      col = mix(color3, col, v0);
      col = (col + v1) * v2 * v3;
      col = clamp(col, 0.0, 1.0);
      
      return extractAlpha(col);
    }

    vec4 mainImage(vec2 fragCoord) {
      vec2 center = iResolution.xy * 0.5;
      float size = min(iResolution.x, iResolution.y);
      vec2 uv = (fragCoord - center) / size * 2.0;
      
      float angle = rot;
      float s = sin(angle);
      float c = cos(angle);
      uv = vec2(c * uv.x - s * uv.y, s * uv.x + c * uv.y);
      
      uv.x += hover * hoverIntensity * 0.1 * sin(uv.y * 10.0 + iTime);
      uv.y += hover * hoverIntensity * 0.1 * sin(uv.x * 10.0 + iTime);
      
      return draw(uv);
    }

    void main() {
      vec2 fragCoord = vUv * iResolution.xy;
      vec4 col = mainImage(fragCoord);
      gl_FragColor = vec4(col.rgb * col.a, col.a);
    }
  `;return lt.useEffect(()=>{const c=o.current;if(!c)return;const f=new CE({alpha:!0,premultipliedAlpha:!1}),d=f.gl;d.clearColor(0,0,0,0),c.appendChild(d.canvas);const p=new NT(d),v=new SE(d,{vertex:a,fragment:l,uniforms:{iTime:{value:0},iResolution:{value:new Us(d.canvas.width,d.canvas.height,d.canvas.width/d.canvas.height)},hue:{value:t},hover:{value:0},rot:{value:0},hoverIntensity:{value:e}}}),_=new TT(d,{geometry:p,program:v});function y(){if(!c)return;const J=window.devicePixelRatio||1,H=c.clientWidth,Z=c.clientHeight;f.setSize(H*J,Z*J),d.canvas.style.width=H+"px",d.canvas.style.height=Z+"px",v.uniforms.iResolution.value.set(d.canvas.width,d.canvas.height,d.canvas.width/d.canvas.height)}window.addEventListener("resize",y),y();let N=0,A=0,C=0;const T=.3,k=J=>{if(!c)return;const H=c.getBoundingClientRect(),Z=J.clientX-H.left,W=J.clientY-H.top,ae=H.width,B=H.height,D=Math.min(ae,B),X=ae/2,I=B/2,ce=(Z-X)/D*2,oe=(W-I)/D*2;Math.sqrt(ce*ce+oe*oe)<.8?N=1:N=0},U=()=>{N=0};window.addEventListener("mousemove",k),window.addEventListener("mouseleave",U);let z;const q=J=>{z=requestAnimationFrame(q);const H=(J-A)*.001;A=J,v.uniforms.iTime.value=J*.001,v.uniforms.hue.value=t,v.uniforms.hoverIntensity.value=e;const Z=r?1:N;v.uniforms.hover.value+=(Z-v.uniforms.hover.value)*.1,n&&Z>.5&&(C+=H*T),v.uniforms.rot.value=C,f.render({scene:_})};return z=requestAnimationFrame(q),()=>{var J;cancelAnimationFrame(z),window.removeEventListener("resize",y),window.removeEventListener("mousemove",k),window.removeEventListener("mouseleave",U),c&&d.canvas&&c.contains(d.canvas)&&c.removeChild(d.canvas),(J=d.getExtension("WEBGL_lose_context"))==null||J.loseContext()}},[t,e,n,r]),M.jsx("div",{ref:o,className:"orb-container"})}const tv=({isOpen:t,onClose:e})=>{const[n,r]=lt.useState(P2()),[o,a]=lt.useState(!1),[l,c]=lt.useState(!1);if(lt.useEffect(()=>{t&&(r(P2()),c(!1))},[t]),!t)return null;const f=(y,N)=>{r(A=>({...A,[y]:N})),c(!1)},d=()=>{L6(n),c(!0),setTimeout(()=>e(),600)},p=()=>{I6(),r({geminiApiKey:"",geminiEndpoint:"",geminiTextModel:"",geminiImageModel:"",falApiKey:""}),c(!1)},v="w-full bg-slate-800 border border-slate-600 rounded-lg px-3 py-2 text-sm text-slate-200 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-lime-500/50 focus:border-lime-500 transition-colors",_="block text-xs font-medium text-slate-400 mb-1";return M.jsx("div",{className:"fixed inset-0 z-[100] bg-black/70 backdrop-blur-sm flex items-center justify-center animate-fade-in",onClick:e,children:M.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl shadow-2xl w-full max-w-lg mx-4 overflow-hidden",onClick:y=>y.stopPropagation(),children:[M.jsxs("div",{className:"px-6 py-4 border-b border-slate-700 flex items-center justify-between",children:[M.jsxs("div",{children:[M.jsx("h2",{className:"text-lg font-bold text-white",children:"API Configuration"}),M.jsx("p",{className:"text-xs text-slate-400 mt-0.5",children:"Keys are stored locally in your browser"})]}),M.jsx("button",{onClick:e,className:"text-slate-400 hover:text-white transition-colors p-1",children:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:M.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),M.jsxs("div",{className:"px-6 py-5 space-y-4 max-h-[60vh] overflow-y-auto",children:[M.jsxs("div",{children:[M.jsxs("label",{className:_,children:["Gemini API Key ",M.jsx("span",{className:"text-red-400",children:"*"})]}),M.jsxs("div",{className:"relative",children:[M.jsx("input",{type:o?"text":"password",value:n.geminiApiKey,onChange:y=>f("geminiApiKey",y.target.value),placeholder:"AIzaSy... or sk-...",className:v}),M.jsx("button",{onClick:()=>a(!o),className:"absolute right-2 top-1/2 -translate-y-1/2 text-xs text-slate-500 hover:text-lime-400 transition-colors",children:o?"Hide":"Show"})]})]}),M.jsxs("div",{children:[M.jsxs("label",{className:_,children:["API Endpoint ",M.jsx("span",{className:"text-slate-600",children:"(optional)"})]}),M.jsx("input",{type:"text",value:n.geminiEndpoint,onChange:y=>f("geminiEndpoint",y.target.value),placeholder:"/gemini-proxy or https://your-proxy.dev",className:v}),M.jsx("p",{className:"text-[10px] text-slate-500 mt-1",children:"Leave empty to use official Google endpoint"})]}),M.jsxs("div",{children:[M.jsxs("label",{className:_,children:["Text Model Name ",M.jsx("span",{className:"text-slate-600",children:"(optional)"})]}),M.jsx("input",{type:"text",value:n.geminiTextModel,onChange:y=>f("geminiTextModel",y.target.value),placeholder:"Default: gemini-3-pro-preview",className:v})]}),M.jsxs("div",{children:[M.jsxs("label",{className:_,children:["Image Model Name ",M.jsx("span",{className:"text-slate-600",children:"(optional)"})]}),M.jsx("input",{type:"text",value:n.geminiImageModel,onChange:y=>f("geminiImageModel",y.target.value),placeholder:"Default: gemini-3-pro-image-preview",className:v})]}),M.jsxs("div",{className:"border-t border-slate-700 pt-4",children:[M.jsxs("label",{className:_,children:["FAL API Key ",M.jsx("span",{className:"text-slate-600",children:"(for video)"})]}),M.jsx("input",{type:"password",value:n.falApiKey,onChange:y=>f("falApiKey",y.target.value),placeholder:"fal.ai API Key",className:v})]})]}),M.jsxs("div",{className:"px-6 py-4 border-t border-slate-700 flex items-center justify-between bg-slate-900/50",children:[M.jsx("button",{onClick:p,className:"text-sm text-red-400 hover:text-red-300 transition-colors",children:"Clear All"}),M.jsxs("div",{className:"flex items-center gap-3",children:[l&&M.jsx("span",{className:"text-xs text-lime-400 animate-pulse",children:" Saved"}),M.jsx("button",{onClick:e,className:"px-4 py-2 text-sm text-slate-400 hover:text-white transition-colors",children:"Cancel"}),M.jsx("button",{onClick:d,disabled:!n.geminiApiKey.trim(),className:"px-5 py-2 bg-lime-600 hover:bg-lime-500 disabled:bg-slate-700 disabled:text-slate-500 text-white font-semibold text-sm rounded-lg transition-colors shadow-lg shadow-lime-900/30",children:"Save"})]})]})]})})},fp=(t,e)=>new Promise((n,r)=>{const o=new Image;o.src=t,o.onload=()=>{const a=document.createElement("canvas");a.width=e.width,a.height=e.height;const l=a.getContext("2d");if(!l)return r(new Error("Could not get canvas context"));l.drawImage(o,e.x,e.y,e.width,e.height,0,0,e.width,e.height),n(a.toDataURL("image/png"))},o.onerror=a=>r(a)}),LT=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5v4m0 0h-4m4 0l-5-5"})}),IT=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})}),MT=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7"})}),RT=({src:t,focusArea:e,onChange:n})=>{const[r,o]=lt.useState(!1),[a,l]=lt.useState(1),c=lt.useRef(null),[f,d]=lt.useState(!1),[p,v]=lt.useState(null),[_,y]=lt.useState(null),N=(q,J)=>{const H=J.getBoundingClientRect();return{x:q.clientX-H.left,y:q.clientY-H.top}},A=q=>{if(!c.current)return;q.preventDefault(),d(!0);const J=N(q,c.current);v(J),y({x:J.x,y:J.y,width:0,height:0})};lt.useEffect(()=>{const q=H=>{if(!f||!p||!c.current)return;const Z=N(H,c.current),W=Z.x,ae=Z.y,B=c.current.getBoundingClientRect(),D=B.width,X=B.height,I=Math.max(0,Math.min(p.x,W)),ce=Math.max(0,Math.min(p.y,ae)),oe=Math.min(Math.abs(W-p.x),D-I),le=Math.min(Math.abs(ae-p.y),X-ce);y({x:I,y:ce,width:oe,height:le})},J=()=>{if(!(!f||!c.current)){if(d(!1),_&&_.width>10&&_.height>10){const H=c.current,Z=H.getBoundingClientRect(),W=H.naturalWidth/Z.width,ae=H.naturalHeight/Z.height,B={x:Math.round(_.x*W),y:Math.round(_.y*ae),width:Math.round(_.width*W),height:Math.round(_.height*ae)};n(B)}else _&&_.width<10&&n(null);y(null),v(null)}};return f&&(window.addEventListener("mousemove",q),window.addEventListener("mouseup",J)),()=>{window.removeEventListener("mousemove",q),window.removeEventListener("mouseup",J)}},[f,p,_,n]);const C=()=>{if(!e||!c.current)return null;const q=c.current,J=q.getBoundingClientRect(),H=J.width/q.naturalWidth,Z=J.height/q.naturalHeight;return{x:e.x*H,y:e.y*Z,width:e.width*H,height:e.height*Z}},[T,k]=lt.useState(0);lt.useEffect(()=>{const q=new ResizeObserver(()=>k(J=>J+1));return c.current&&q.observe(c.current),()=>q.disconnect()},[]);const U=f?_:C(),z=q=>M.jsxs("div",{className:`relative inline-block select-none ${q?"":"w-full h-full"}`,style:q?{width:`${a*100}%`}:{},children:[M.jsx("img",{ref:c,src:t,alt:"Focus Subject",draggable:!1,onMouseDown:A,onLoad:()=>k(J=>J+1),className:`block ${q?"w-full h-auto":"w-full h-full object-contain bg-slate-900"}`,style:{cursor:"crosshair"}}),U&&M.jsxs(M.Fragment,{children:[M.jsx("div",{className:"absolute bg-black/50 pointer-events-none",style:{top:0,left:0,width:"100%",height:U.y}}),M.jsx("div",{className:"absolute bg-black/50 pointer-events-none",style:{top:U.y+U.height,left:0,width:"100%",bottom:0}}),M.jsx("div",{className:"absolute bg-black/50 pointer-events-none",style:{top:U.y,left:0,width:U.x,height:U.height}}),M.jsx("div",{className:"absolute bg-black/50 pointer-events-none",style:{top:U.y,left:U.x+U.width,right:0,height:U.height}}),M.jsxs("div",{className:"absolute border-2 border-lime-400 pointer-events-none shadow-[0_0_10px_rgba(0,0,0,0.5)]",style:{left:U.x,top:U.y,width:U.width,height:U.height},children:[M.jsx("div",{className:"absolute -top-1 -left-1 w-2 h-2 bg-lime-400 border border-black"}),M.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-lime-400 border border-black"}),M.jsx("div",{className:"absolute -bottom-1 -left-1 w-2 h-2 bg-lime-400 border border-black"}),M.jsx("div",{className:"absolute -bottom-1 -right-1 w-2 h-2 bg-lime-400 border border-black"})]})]})]});return M.jsxs(M.Fragment,{children:[M.jsxs("div",{className:"relative w-full h-full group bg-slate-950 rounded-lg overflow-hidden border border-slate-700",children:[z(!1),M.jsx("div",{className:"absolute top-2 right-2 flex flex-col gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:M.jsx("button",{onClick:()=>o(!0),className:"p-1.5 bg-slate-900/80 text-white rounded-md hover:bg-lime-600 transition-colors shadow-lg border border-slate-600",title:"Precision Focus (Expand)",children:M.jsx(LT,{})})}),e&&M.jsx("div",{className:"absolute bottom-2 left-2 bg-lime-900/80 text-lime-100 text-xs px-2 py-1 rounded backdrop-blur-sm border border-lime-500/30 pointer-events-none",children:"Focus Set"})]}),r&&M.jsxs("div",{className:"fixed inset-0 z-50 bg-slate-950/95 backdrop-blur-sm flex flex-col animate-fade-in",children:[M.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-800 bg-slate-900",children:[M.jsxs("div",{className:"flex items-center gap-4",children:[M.jsx("h3",{className:"text-white font-semibold text-lg",children:"Precision Focus Selection"}),M.jsxs("div",{className:"flex items-center gap-2 bg-slate-800 rounded-lg p-1 border border-slate-700",children:[M.jsx("button",{onClick:()=>l(Math.max(.5,a-.25)),className:"p-1 hover:bg-slate-700 text-slate-300 rounded",children:M.jsx(MT,{})}),M.jsxs("span",{className:"text-xs font-mono text-lime-400 min-w-[3rem] text-center",children:[Math.round(a*100),"%"]}),M.jsx("button",{onClick:()=>l(Math.min(4,a+.25)),className:"p-1 hover:bg-slate-700 text-slate-300 rounded",children:M.jsx(IT,{})})]}),M.jsx("input",{type:"range",min:"0.5",max:"4",step:"0.1",value:a,onChange:q=>l(parseFloat(q.target.value)),className:"w-32 accent-lime-500"})]}),M.jsxs("div",{className:"flex gap-3",children:[M.jsx("button",{onClick:()=>n(null),className:"px-3 py-1.5 text-sm text-slate-400 hover:text-white hover:bg-slate-800 rounded transition-colors",children:"Clear Focus"}),M.jsx("button",{onClick:()=>o(!1),className:"px-4 py-1.5 bg-lime-600 hover:bg-lime-500 text-white font-bold rounded transition-colors shadow-lg shadow-lime-900/20",children:"Done"})]})]}),M.jsx("div",{className:"flex-1 overflow-auto flex items-center justify-center p-8 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEgMWgydjJIMUMxeiIgZmlsbD0iIzMzMyIgZmlsbC1vcGFjaXR5PSIwLjEiLz48L3N2Zz4=')]",children:M.jsx("div",{className:`relative shadow-2xl border-2 border-slate-700 ${a<1,""}`,children:z(!0)})}),M.jsx("div",{className:"bg-slate-900 p-2 text-center text-xs text-slate-500 border-t border-slate-800",children:"Use the zoom controls to get closer. Drag on the image to set focus."})]})]})},zo=({onClick:t,isSelected:e,children:n})=>M.jsx("button",{onClick:t,className:`w-full text-left text-sm px-3 py-2 rounded-lg border transition-all duration-200 flex items-start gap-2 ${e?"bg-lime-900/50 border-lime-400 text-lime-300 ring-2 ring-lime-400/50 shadow-lg":"bg-slate-800/60 border-slate-700 text-slate-300 hover:bg-slate-700/80 hover:border-slate-500"}`,children:n}),Ps=({title:t,isOpen:e,onToggle:n,children:r,titleClassName:o})=>M.jsxs("div",{className:"border-t border-slate-700",children:[M.jsxs("button",{onClick:n,className:"w-full flex justify-between items-center py-3 font-semibold text-slate-200",children:[M.jsx("span",{className:o,children:t}),M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 transition-transform ${e?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e&&M.jsx("div",{className:"pb-4 space-y-4",children:r})]}),vl=({text:t})=>{const e=t.match(/^(.*?)\s*\((.*?)\)\s*(.*)$/);if(e){const[,n,r,o]=e;return M.jsxs("div",{children:[M.jsx("span",{className:"font-semibold block text-lime-300",children:`${n.trim()} ${o.trim()}`.trim()}),M.jsx("span",{className:"text-xs text-slate-400 block font-normal",children:r.trim()})]})}return M.jsx("span",{className:"font-semibold",children:t})},kT=({text:t})=>{const e=t.match(/^(.*?)\s*\((.*?)\)\s*$/);if(e){const[,n,r]=e;return M.jsxs(M.Fragment,{children:[M.jsx("span",{className:"font-semibold block text-lime-300",children:n.trim()}),M.jsx("span",{className:"text-xs text-slate-400 block font-normal -mt-1",children:r.trim()})]})}return M.jsx("span",{className:"font-semibold block text-lime-300",children:t})},gs=16,DT=()=>{const[t,e]=lt.useState([]),[n,r]=lt.useState([]),[o,a]=lt.useState(null),[l,c]=lt.useState(""),[f,d]=lt.useState(""),[p,v]=lt.useState(""),[_,y]=lt.useState(""),[N,A]=lt.useState(""),[C,T]=lt.useState(!1),[k,U]=lt.useState(!1),[z,q]=lt.useState(""),[J,H]=lt.useState(null),[Z,W]=lt.useState(null),[ae,B]=lt.useState([]),[D,X]=lt.useState([]),[I,ce]=lt.useState([]),[oe,le]=lt.useState([]),[me,ge]=lt.useState(""),[Ne,Y]=lt.useState(!1),[R,G]=lt.useState(!1),[K,ie]=lt.useState(!1),[ve,Te]=lt.useState(!1),[we,Se]=lt.useState(!1),[We,Ye]=lt.useState(!1),[st,ot]=lt.useState(!1),[F,ye]=lt.useState(""),[$,ue]=lt.useState(""),[se,he]=lt.useState(!1),[Ce,Re]=lt.useState("perspectives"),[be,ze]=lt.useState(""),[He,Ve]=lt.useState({scene:"",action:"",style:"",cameraMovement:"Static",composition:"",atmosphere:""}),[it,gt]=lt.useState("1:1"),[ft,vt]=lt.useState(1024),[Ct,at]=lt.useState(1024),[Vt,_t]=lt.useState(1),[cn,Bt]=lt.useState(!1),[Lt,di]=lt.useState(!1),[en,Ir]=lt.useState(!1),[mn,si]=lt.useState(""),[Fn,Jt]=lt.useState(!1),[xt,Yt]=lt.useState({scene:[],props:[],atmosphere:[],audience:[],closeUpDetails:[]}),[Oi,Zn]=lt.useState({props:"",atmosphere:"",audience:""}),[oi,Li]=lt.useState([]),[St,Ki]=lt.useState(["Instagram","Facebook","TikTok"]),[hi,pi]=lt.useState(""),[_n,wn]=lt.useState([]),mi=lt.useRef(null),ys=lt.useRef(null);lt.useEffect(()=>{Bt(!!ud())},[]),lt.useEffect(()=>{try{const de=localStorage.getItem("contentCatalystPresets");if(de){const Ze=JSON.parse(de);Array.isArray(Ze)?wn(Ze):wn([])}}catch(de){console.error("Failed to load presets from localStorage",de),localStorage.removeItem("contentCatalystPresets")}},[]);const gi=[{id:"extremeWideShot",label:"Extreme Wide Shot (/) "},{id:"farView",label:"Wide / Far View () "},{id:"midView",label:"Mid View () "},{id:"mediumCloseUp",label:"Medium Close-up () "},{id:"closeUp",label:"Close-up () "},{id:"pov",label:"Point of View (POV) () "},{id:"heroShot",label:"Hero Shot () "},{id:"knolling",label:"Knolling / Flat Lay () "},{id:"dutchAngle",label:"Dutch Angle () "},{id:"overShoulder",label:"Over-the-Shoulder () "},{id:"birdsEyeView",label:"Bird's Eye View () "},{id:"wormsEyeView",label:"Worm's Eye View () "},{id:"trackingShot",label:"Tracking Shot () "},{id:"lowAngle",label:"Low-Angle () "}],gn=[{id:"fullBody",label:"Full Body () "},{id:"hand",label:"Hand () "},{id:"fingers",label:"Fingers () "},{id:"feet",label:"Feet () "},{id:"upperBody",label:"Upper Body () "},{id:"lowerBody",label:"Lower Body () "}],Tn=[{id:"product_frontView",label:"Front View ()"},{id:"product_threeQuarterLeft",label:"Three-Quarter Left (3/4)"},{id:"product_threeQuarterRight",label:"Three-Quarter Right (3/4)"},{id:"product_profileLeft",label:"Profile Left ()"},{id:"product_topDown",label:"Top-Down / Flat Lay (/)"},{id:"product_macroShot",label:"Detailed Macro ()"}],vi=["Static ()","Dolly In ()","Dolly Out ()","Pan Left ()","Pan Right ()","Tilt Up ()","Tilt Down ()","Crane Up ()","Crane Down ()","Handheld ()","Orbital ()","Tracking ()","Zoom In ()","Zoom Out ()","360 Spin (360)"],tr=["Cinematic ()","Animation ()","Stop-motion ()","Documentary ()","Vintage Film ()","Hyper-realistic ()","Sci-Fi ()","Minimalist ()"],nr=[{id:"hair_blowing",label:"Hair Blowing () "},{id:"gentle_breathing",label:"Gentle Breathing () "},{id:"eye_blink",label:"Soft Blink () "},{id:"liquid_ripples",label:"Liquid Ripples () "},{id:"dust_motes",label:"Floating Dust () "},{id:"shimmering_light",label:"Shimmering Light () "},{id:"leaves_rustling",label:"Leaves Rustling () "},{id:"slow_rotation",label:"Product Rotation () "},{id:"steam_rising",label:"Steam Rising () "},{id:"lens_flare",label:"Lens Flare () "},{id:"clothes_swaying",label:"Clothes Swaying () "},{id:"raindrops",label:"Raindrops Falling () "},{id:"snow_fluttering",label:"Snow Fluttering () "},{id:"bokeh_shifting",label:"Bokeh Shifting () "},{id:"shadow_movement",label:"Shadow Movement () "}],Mr=[{id:"cyberpunk",label:"Cyberpunk Neon () "},{id:"mediterranean",label:"Mediterranean () "},{id:"white_studio",label:"Minimalist Studio () "},{id:"rainforest",label:"Tropical Forest () "},{id:"marble_luxury",label:"Luxury Marble () "},{id:"golden_hour",label:"Golden Hour Beach () "},{id:"misty_morning",label:"Misty Morning () "},{id:"hitech_lab",label:"High-Tech Lab () "},{id:"autumn_cabin",label:"Autumn Cabin () "},{id:"space_station",label:"Space Station () "},{id:"vintage_diner",label:"50s Diner () "},{id:"zen_garden",label:"Zen Garden () "},{id:"warehouse",label:"Industrial Warehouse () "},{id:"cloudscape",label:"Dreamy Cloudscape () "},{id:"french_balcony",label:"French Balcony () "}],ir={scene:[{id:"Coffee Shop Table",label:"Coffee Shop Table () "},{id:"Street Style / Outdoor",label:"Street Style / Outdoor (/) "},{id:"Dressing Table / Vanity",label:"Dressing Table / Vanity () "},{id:"Gift Box / Packaging",label:"Gift Box / Packaging (/) "},{id:"Living Room / Sofa",label:"Living Room / Sofa (/) "},{id:"Bedroom / Bedside Table",label:"Bedroom / Bedside (/) "},{id:"Office Desk",label:"Office Desk () "},{id:"Travel / Airport",label:"Travel / Airport (/) "},{id:"Event / Party",label:"Event / Party (/) "}],props:[{id:"Hand + Bag",label:"Hand + Bag (+) "},{id:"Coffee Cup",label:"Coffee Cup () "},{id:"Flowers",label:"Flowers () "},{id:"Gift Box",label:"Gift Box () "},{id:"Book / Notebook",label:"Book / Notebook (/) "},{id:"Laptop / Phone",label:"Laptop / Phone (/) "},{id:"Candle / Jewelry Tray",label:"Candle / Jewelry Tray (/) "},{id:"Food / Dessert",label:"Food / Dessert (/) "},{id:"Holiday Decor",label:"Holiday Decor () "}],atmosphere:[{id:"Cozy / Warm",label:"Cozy / Warm () "},{id:"Exquisite / Premium",label:"Exquisite / Premium (/) "},{id:"Playful",label:"Playful () "},{id:"Festive",label:"Festive () "},{id:"Minimalist",label:"Minimalist () "},{id:"Relaxed / Casual",label:"Relaxed / Casual (/) "},{id:"Romantic",label:"Romantic () "},{id:"Vibrant / Energetic",label:"Vibrant / Energetic (/) "}],audience:[{id:"Young Woman (20-30, fashion/lifestyle)",label:"Young Woman (20-30, fashion/lifestyle) ()"},{id:"Mom (family, gift angle)",label:"Mom (family, gift angle) ()"},{id:"Couple (romantic, anniversary, Valentines)",label:"Couple (romantic, anniversary) ()"},{id:"Friends (sharing, gifting, social hangout)",label:"Friends (sharing, gifting) ()"}],closeUpDetails:[{id:"Texture Detail",label:"Texture Detail () "},{id:"On Hand",label:"On Hand () "},{id:"Reflection",label:"Reflection () "},{id:"In Flat Lay",label:"In Flat Lay () "},{id:"Peeking Out",label:"Peeking Out () "}]},Rr=[{category:"Fuji Series ()",filters:[{id:"fuji_classic_chrome",label:"Classic Chrome",description:""},{id:"fuji_classic_negative",label:"Classic Negative",description:""},{id:"fuji_provia_velvia",label:"Provia / Velvia",description:"Provia Velvia  and "},{id:"fuji_acros",label:"Acros",description:""}]},{category:"Kodak Series",filters:[{id:"kodak_portra_400",label:"Kodak Portra 400/800",description:""},{id:"kodak_gold_200",label:"Kodak Gold 200",description:" vibe"},{id:"kodak_kodachrome",label:"Kodachrome",description:" 6070 "}]},{category:"Monochrome & Noir ( & )",filters:[{id:"bw_ilford_hp5",label:"Ilford HP5 Plus",description:""},{id:"bw_tri_x",label:"Kodak Tri-X 400",description:""},{id:"bw_noir",label:"Film Noir / Chiaroscuro",description:""}]},{category:"Leica & Cinematic Styles ( & )",filters:[{id:"leica_look",label:"Leica Look",description:""},{id:"cinematic_teal_orange",label:"Teal & Orange",description:"/"},{id:"cinematic_wes_anderson",label:"Wes Anderson Palette",description:"/"},{id:"cinematic_cyberpunk",label:"Blade Runner / Cyberpunk",description:"+"}]},{category:"Art & Experimental ( & )",filters:[{id:"art_vaporwave",label:"Vaporwave / Synthwave",description:"80Lo-fi "},{id:"art_dreamcore",label:"Dreamcore / Ethereal",description:""},{id:"art_oil_painting",label:"Oil Painting Texture",description:""}]},{category:"High-End Editorial ()",filters:[{id:"fashion_voguestyle",label:"Vogue Editorial",description:""},{id:"fashion_high_key",label:"High Key Studio",description:""}]},{category:"Social Media & Moody Styles ( & )",filters:[{id:"social_vsco",label:"VSCO A4 / A6",description:""},{id:"social_huji",label:"Huji Cam",description:" 90  vibe"},{id:"social_gingham",label:"Instagram Gingham",description:""},{id:"moody_dark",label:"Moody Dark Tone",description:""},{id:"soft_pastel",label:"Soft Pastel",description:""},{id:"street_gritty",label:"Street Gritty",description:"+"}]}],bs=[{id:"Instagram",icon:M.jsx(nv,{})},{id:"Facebook",icon:M.jsx(rv,{})},{id:"TikTok",icon:M.jsx(iv,{})},{id:"YouTube",icon:M.jsx(sv,{})},{id:"Pinterest",icon:M.jsx(ov,{})},{id:"X",icon:M.jsx(Cv,{})},{id:"Blog",icon:M.jsx(Lv,{})}],vr=[{id:"authenticity",label:"Authentic & Relatable (/)",description:"Focus on behind-the-scenes, everyday moments, and a UGC feel."},{id:"humor",label:"Humorous & Playful (/)",description:"Use memes, puns, and a witty, self-aware brand voice. The persona is relaxed, down-to-earth, and maybe a bit self-deprecating or exaggerated. Aim for surprise and delight, but be mindful of brand consistency and avoid being offensive."},{id:"niche",label:"Niche & Personalized (/)",description:"Target a specific community with inside jokes and specialized language."},{id:"ai_collab",label:"AI Co-created (AI )",description:"A transparent, meta, and slightly experimental tone acknowledging the AI partnership."},{id:"fast_paced",label:"Short Video / Quick Bite (/)",description:"Content optimized for Reels/TikTok with a strong hook and high energy."},{id:"educational",label:"Educational & Informative (/)",description:"Teach the audience something useful about the product or industry."},{id:"bts",label:"Behind-the-Scenes (eces)",description:"Showcase the making-of process, the people, or the story behind the product."},{id:"ugc",label:"UGC Showcase ()",description:"Feature content from customers to build community and social proof."}],ti=ae.length+D.length+I.length,is=ti*Vt,_s=()=>{di(!0)},Vn=de=>{const Ze=ae.includes(de),At=(Ze?ti-1:ti+1)*Vt;if(!Ze&&At>gs){W(`Total images cannot exceed ${gs}. Decrease "Images per Perspective" or deselect other angles.`);return}W(null),B(Ze?Gt=>Gt.filter(an=>an!==de):Gt=>[...Gt,de])},Bs=de=>{oe.includes(de)?le(Ze=>Ze.filter(Xe=>Xe!==de)):le(Ze=>[...Ze,de])},Yo=de=>{const Ze=D.includes(de),At=(Ze?ti-1:ti+1)*Vt;if(!Ze&&At>gs){W(`Total images cannot exceed ${gs}. Decrease "Images per Perspective" or deselect other angles.`);return}W(null),X(Ze?Gt=>Gt.filter(an=>an!==de):Gt=>[...Gt,de])},kr=()=>{const de=me.trim();if(de&&!I.includes(de)){if((ti+1)*Vt>gs){W(`Total images cannot exceed ${gs}. Decrease "Images per Perspective" or deselect other angles.`);return}W(null),ce([...I,de]),ge("")}},Dr=de=>{ce(I.filter(Ze=>Ze!==de))},Al=de=>{de.key==="Enter"&&(de.preventDefault(),kr())},Jo=async()=>{if(t.length===0){W("Please upload a main image first for the AI to analyze.");return}U(!0),W(null);try{const de=t[0],Ze={base64:de.split(",")[1],mimeType:de.split(";")[0].split(":")[1]},Xe=await D6(Ze,{name:f,sellingPoints:p,link:""});Xe&&Xe.length>0&&ce(At=>{const Gt=Math.floor((gs-(ae.length+D.length)*Vt)/Vt);return Gt<=0?(W("Please deselect some standard angles or reduce quantity to make room for brainstormed ideas."),At):[...At,...Xe].slice(0,Gt)})}catch(de){W("Failed to brainstorm angles. Please try again."),console.error(de)}finally{U(!1)}},La=async()=>{if(t.length===0){W("Please upload an image first.");return}Jt(!0),W(null);try{const de=t[0],Ze={base64:de.split(",")[1],mimeType:de.split(";")[0].split(":")[1]},Xe=await q6(Ze);si(Xe),Ir(!0)}catch(de){W("Failed to analyze image. Please try again."),console.error(de)}finally{Jt(!1)}},Pr=(de,Ze)=>{Yt(Xe=>{const At=Xe[de],Gt=At.includes(Ze)?At.filter(an=>an!==Ze):[...At,Ze];return{...Xe,[de]:Gt}})},ws=(de,Ze)=>{Zn(Xe=>({...Xe,[de]:Ze}))},Nn=de=>{Li(Ze=>Ze.includes(de)?Ze.filter(Xe=>Xe!==de):[...Ze,de])},rr=de=>{Ki(Ze=>Ze.includes(de)?Ze.filter(Xe=>Xe!==de):[...Ze,de])},yi=de=>{if(ti*de>gs){W(`Cannot set quantity to ${de}. Total images would exceed ${gs} (${ti} angles x ${de}). Please deselect some angles first.`);return}W(null),_t(de)},Wo=de=>{if(!de)return;Array.from(de).slice(0,3-t.length).forEach(Xe=>{const At=new FileReader;At.onloadend=()=>{e(Gt=>[...Gt,At.result])},At.readAsDataURL(Xe)}),H(null),W(null)},Ko=de=>{e(Ze=>Ze.filter((Xe,At)=>At!==de)),de===0&&a(null)},Xo=de=>{if(!de)return;Array.from(de).slice(0,3-n.length).forEach(Xe=>{const At=new FileReader;At.onloadend=()=>{r(Gt=>[...Gt,At.result])},At.readAsDataURL(Xe)})},sr=de=>{r(Ze=>Ze.filter((Xe,At)=>At!==de))},rs=de=>{a(de)},Fi=(de,Ze)=>{if(!J)return;const Xe=J.perspectives.map(At=>At.id===de?{...At,mainImage:Ze}:At);H({...J,perspectives:Xe})},bi=de=>{J&&H(Ze=>Ze?{...Ze,perspectives:[...Ze.perspectives,...de]}:null)},co=()=>{const de=window.prompt("Enter a name for your preset:");if(de&&de.trim()){const Ze=de.trim();if(_n.some(Gt=>Gt.name===Ze)){alert(`A preset with the name "${Ze}" already exists. Please choose a different name.`);return}const Xe={name:Ze,settings:{selectedAngles:ae,selectedProductStudioAngles:D,selectedFocusSubjects:oe,customAngles:I,generateMultiPerson:Ne,generateScene:R,consistencyMode:we,sensualMode:We,ugcMode:st,lifestyleScene:xt,customLifestyle:Oi,targetRegion:F,targetAudience:$,selectedSocialStrategies:oi,selectedSocialPlatforms:St,selectedStyleFilter:hi,referenceImages:n,aspectRatio:it,customDimensions:{width:ft,height:Ct},imagesPerAngle:Vt,videoPromptConfig:He}},At=[..._n,Xe];wn(At),localStorage.setItem("contentCatalystPresets",JSON.stringify(At)),alert(`Preset "${Ze}" saved!`)}},Ia=de=>{const Ze=_n.find(Xe=>Xe.name===de);if(Ze){const{settings:Xe}=Ze;B(Xe.selectedAngles),X(Xe.selectedProductStudioAngles||[]),le(Xe.selectedFocusSubjects||[]),ce(Xe.customAngles||[]),Y(Xe.generateMultiPerson),G(Xe.generateScene),Se(Xe.consistencyMode||!1),Ye(Xe.sensualMode||!1),ot(Xe.ugcMode||!1),Yt(Xe.lifestyleScene),Zn(Xe.customLifestyle),ye(Xe.targetRegion||""),ue(Xe.targetAudience||""),Li(Xe.selectedSocialStrategies),Ki(Xe.selectedSocialPlatforms),pi(Xe.selectedStyleFilter),r(Xe.referenceImages||[]),Xe.aspectRatio&&gt(Xe.aspectRatio),Xe.customDimensions&&(vt(Xe.customDimensions.width),at(Xe.customDimensions.height)),Xe.imagesPerAngle&&_t(Xe.imagesPerAngle),Xe.videoPromptConfig&&Ve(Xe.videoPromptConfig),alert(`Preset "${de}" loaded!`)}},fo=de=>{if(window.confirm(`Are you sure you want to delete the preset "${de}"?`)){const Ze=_n.filter(Xe=>Xe.name!==de);wn(Ze),localStorage.setItem("contentCatalystPresets",JSON.stringify(Ze)),alert(`Preset "${de}" deleted.`)}},xs=lt.useCallback(async()=>{if(t.length===0){W("Please upload at least one main image.");return}const de=[...ae,...D];if(I.length>0&&I.forEach(Xe=>{de.push(`custom:${Xe.trim()}`)}),de.length===0){W("Please select at least one perspective (Shot & Angle) to generate.");return}const Ze=de.length*Vt;if(Ze>gs){W(`You are attempting to generate ${Ze} images. The maximum allowed is ${gs}. Please reduce angles or quantity.`);return}T(!0),H(null),W(null);try{q("Preparing images...");const[Xe,...At]=t,Gt={base64:Xe.split(",")[1],mimeType:Xe.split(";")[0].split(":")[1]},an=At.map(yr=>({base64:yr.split(",")[1],mimeType:yr.split(";")[0].split(":")[1]})),Kt=n.map(yr=>({base64:yr.split(",")[1],mimeType:yr.split(";")[0].split(":")[1]}));let Or=null;if(o&&Xe){const yr=await fp(Xe,o);Or={base64:yr.split(",")[1],mimeType:yr.split(";")[0].split(":")[1]}}const Bn=await P6(Gt,an,Or,Kt,{name:f,sellingPoints:p,link:_},{selectedAngles:de,selectedFocusSubjects:oe,generateMultiPerson:Ne,generateScene:R,consistencyMode:we,sensualMode:We,ugcMode:st,generateSocialCopy:K,creativityBoost:ve,lifestyleScene:xt,selectedSocialPlatforms:St,selectedSocialStrategies:oi,styleFilter:hi,targetRegion:F,targetAudience:$,aspectRatio:it,customDimensions:{width:ft,height:Ct},imagesPerAngle:Vt,videoPromptConfig:He},Oi,N,q);H(Bn)}catch(Xe){console.error(Xe),W(Xe instanceof Error?Xe.message:"An unknown error occurred.")}finally{T(!1),q("")}},[t,n,o,f,p,_,ae,D,I,oe,Ne,R,we,We,st,K,ve,xt,St,Oi,N,hi,oi,F,$,it,ft,Ct,Vt,He]),Zo=lt.useCallback(async de=>{if(!de.trim()||!J){W("Please enter a prompt to expand on the results.");return}he(!0),W(null);try{const[Ze,...Xe]=t,At={base64:Ze.split(",")[1],mimeType:Ze.split(";")[0].split(":")[1]},Gt=Xe.map(Bn=>({base64:Bn.split(",")[1],mimeType:Bn.split(";")[0].split(":")[1]})),an=n.map(Bn=>({base64:Bn.split(",")[1],mimeType:Bn.split(";")[0].split(":")[1]}));let Kt=null;if(o&&Ze){const Bn=await fp(Ze,o);Kt={base64:Bn.split(",")[1],mimeType:Bn.split(";")[0].split(":")[1]}}const mt=await O6(At,Gt,Kt,an,{name:f,sellingPoints:p,link:_},{selectedAngles:[],selectedFocusSubjects:[],generateMultiPerson:Ne,generateScene:R,consistencyMode:we,sensualMode:We,ugcMode:st,generateSocialCopy:K,creativityBoost:ve,lifestyleScene:xt,selectedSocialPlatforms:St,selectedSocialStrategies:oi,styleFilter:hi,targetRegion:F,targetAudience:$,aspectRatio:it,customDimensions:{width:ft,height:Ct},imagesPerAngle:1,videoPromptConfig:He},Oi,J.perspectives,de,q);bi(mt)}catch(Ze){console.error(Ze),W(Ze instanceof Error?`An unknown error occurred while expanding: ${Ze.message}`:"An unknown error occurred while expanding.")}finally{he(!1)}},[J,t,n,o,f,p,_,Ne,R,we,We,st,K,ve,xt,St,Oi,hi,oi,F,$,it,ft,Ct,He]),Ma=async de=>{if(!J)return;const Ze=J.perspectives.find(Xe=>Xe.id===de);if(Ze){H(Xe=>Xe?{...Xe,perspectives:Xe.perspectives.map(At=>At.id===de?{...At,isRegenerating:!0,error:void 0}:At)}:null);try{const[Xe,...At]=t,Gt={base64:Xe.split(",")[1],mimeType:Xe.split(";")[0].split(":")[1]},an=At.map(mt=>({base64:mt.split(",")[1],mimeType:mt.split(";")[0].split(":")[1]})),Kt=n.map(mt=>({base64:mt.split(",")[1],mimeType:mt.split(";")[0].split(":")[1]}));let Or=null;if(o&&Xe){const mt=await fp(Xe,o);Or={base64:mt.split(",")[1],mimeType:mt.split(";")[0].split(":")[1]}}const Ss=await U6(Ze.prompt,Gt,an,Or,Kt,it,{width:ft,height:Ct});H(mt=>mt?{...mt,perspectives:mt.perspectives.map(Bn=>Bn.id===de?{...Bn,mainImage:Ss,isRegenerating:!1}:Bn)}:null)}catch(Xe){console.error("Regeneration failed:",Xe);const At=Xe instanceof Error?Xe.message:"An unknown error occurred during regeneration.";H(Gt=>Gt?{...Gt,perspectives:Gt.perspectives.map(an=>an.id===de?{...an,isRegenerating:!1,error:At}:an)}:null)}}},Ur=async de=>{if(!J)return;const Ze=J.perspectives.find(Xe=>Xe.id===de);if(Ze){H(Xe=>Xe?{...Xe,perspectives:Xe.perspectives.map(At=>At.id===de?{...At,isExtending:!0,error:void 0}:At)}:null);try{const Xe={base64:Ze.mainImage.src.split(",")[1],mimeType:Ze.mainImage.src.split(";")[0].split(":")[1]},{extendedImages:At,transitionText:Gt}=await z6(Xe);H(an=>an?{...an,perspectives:an.perspectives.map(Kt=>Kt.id===de?{...Kt,extendedFrames:At,transitionText:Gt,isExtending:!1}:Kt)}:null)}catch(Xe){console.error("Frame extension failed:",Xe);const At=Xe instanceof Error?Xe.message:"An unknown error occurred during frame extension.";H(Gt=>Gt?{...Gt,perspectives:Gt.perspectives.map(an=>an.id===de?{...an,isExtending:!1,error:At}:an)}:null)}}},El=de=>{J&&H(Ze=>Ze?{...Ze,perspectives:Ze.perspectives.map(Xe=>Xe.id===de?{...Xe,error:void 0}:Xe)}:null)};return cn?M.jsxs("div",{className:"min-h-screen main-container text-slate-200 font-sans relative",children:[M.jsx(CT,{hue:200,hoverIntensity:.1}),M.jsxs("main",{className:"container mx-auto px-4 py-8 relative z-10",children:[M.jsxs("header",{className:"text-center mb-12 relative",children:[M.jsx("h1",{className:"text-4xl md:text-6xl font-monument tracking-tighter drop-shadow-sm",children:M.jsx("span",{className:"text-shimmer",children:"RARE VISUAL CATALYST 3.6"})}),M.jsx("button",{onClick:()=>di(!0),className:"absolute top-1 right-0 p-2 text-slate-500 hover:text-lime-400 transition-colors rounded-lg hover:bg-slate-800/50",title:"API ",children:M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"}),M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]}),M.jsx(tv,{isOpen:Lt,onClose:()=>{di(!1),Bt(!!ud())}}),M.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[M.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[M.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-sm border border-slate-700/50 p-6 rounded-xl shadow-lg",children:[M.jsx("div",{className:"flex justify-between items-center mb-4 border-b border-slate-700 pb-2",children:M.jsx("h2",{className:"text-xl font-semibold text-white",children:"1. Upload Images & Select Focus ( & )"})}),M.jsx("input",{type:"file",multiple:!0,accept:"image/*",ref:mi,onChange:de=>Wo(de.target.files),className:"hidden"}),t.length===0?M.jsx("button",{onClick:()=>{var de;return(de=mi.current)==null?void 0:de.click()},className:"w-full h-32 flex items-center justify-center border-2 border-dashed border-slate-700 rounded-md hover:border-lime-400 transition-colors text-slate-500 hover:text-lime-400",children:M.jsxs("div",{className:"text-center",children:[M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),M.jsx("span",{className:"mt-2 block text-sm font-medium",children:"Add Subject Images ()"}),M.jsx("span",{className:"block text-xs",children:"Up to 3 images (3)"})]})}):M.jsxs("div",{className:"space-y-4",children:[M.jsxs("div",{className:"grid grid-cols-3 gap-3 items-start",children:[t.map((de,Ze)=>M.jsxs("div",{className:`relative aspect-square group col-span-1 p-0.5 rounded-lg ${Ze===0?"ring-2 ring-lime-400":""}`,children:[Ze===0?M.jsx(RT,{src:de,focusArea:o,onChange:rs}):M.jsx("img",{src:de,alt:`Reference ${Ze+1}`,className:"w-full h-full object-cover rounded-md shadow-md"}),M.jsx("button",{onClick:()=>Ko(Ze),className:"absolute top-1 right-1 p-1 bg-slate-900/70 rounded-full text-slate-300 hover:bg-red-500 hover:text-white transition-colors opacity-0 group-hover:opacity-100 z-10",children:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),Ze===0&&M.jsx("span",{className:"absolute -bottom-5 left-0 text-xs text-lime-400 font-semibold",children:"Main Image ()"})]},Ze)),t.length<3&&M.jsx("button",{onClick:()=>{var de;return(de=mi.current)==null?void 0:de.click()},className:"aspect-square flex items-center justify-center border-2 border-dashed border-slate-700 rounded-md hover:border-lime-400 transition-colors col-span-1",children:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-slate-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})})})]}),M.jsx("button",{onClick:La,disabled:Fn||t.length===0,className:"w-full mt-4 py-2 px-4 bg-slate-800 hover:bg-slate-700 text-slate-300 font-medium rounded-lg transition-colors flex items-center justify-center gap-2 border border-slate-600",children:Fn?M.jsx("span",{className:"animate-pulse",children:"Analyzing..."}):M.jsxs(M.Fragment,{children:[M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})," Analyze Image (AI )"]})})]}),t.length>0&&M.jsx("p",{className:"text-xs text-slate-500 mt-2 text-center pt-4",children:"The first image is the main subject. Click the expand button for precision focus."}),M.jsxs("div",{className:"mt-6 border-t border-slate-700 pt-4",children:[M.jsx("h3",{className:"text-base font-semibold text-slate-300 mb-3",children:"Style Reference Images ()"}),M.jsx("input",{type:"file",multiple:!0,accept:"image/*",ref:ys,onChange:de=>Xo(de.target.files),className:"hidden"}),M.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[n.map((de,Ze)=>M.jsxs("div",{className:"relative aspect-square group col-span-1",children:[M.jsx("img",{src:de,alt:`Reference ${Ze+1}`,className:"w-full h-full object-cover rounded-md shadow-md"}),M.jsx("button",{onClick:()=>sr(Ze),className:"absolute top-1 right-1 p-1 bg-slate-900/70 rounded-full text-slate-300 hover:bg-red-500 hover:text-white transition-colors opacity-0 group-hover:opacity-100 z-10",children:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},Ze)),n.length<3&&M.jsxs("button",{onClick:()=>{var de;return(de=ys.current)==null?void 0:de.click()},className:"aspect-square flex flex-col items-center justify-center border-2 border-dashed border-slate-700 rounded-md hover:border-lime-400 transition-colors text-slate-600 hover:text-lime-400",children:[M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),M.jsx("span",{className:"text-xs mt-1",children:"Add Style Ref"})]})]}),M.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Upload up to 3 images to guide the AI's style, mood, and color palette."})]}),M.jsxs("div",{className:"mt-6 border-t border-slate-700 pt-4 space-y-4",children:[M.jsxs("div",{children:[M.jsx("label",{htmlFor:"generationDescription",className:"block text-sm font-medium text-slate-300",children:"Overall Content Description ()"}),M.jsx("textarea",{id:"generationDescription",value:N,onChange:de=>A(de.target.value),rows:3,placeholder:"e.g., A professional product shot for an e-commerce website, with a clean white background and soft, natural lighting. (, ...)",className:"mt-1 block w-full bg-slate-800 border border-slate-700 text-slate-100 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-lime-400 focus:border-lime-400"})]}),M.jsxs("div",{className:"space-y-3",children:[M.jsxs("label",{className:"flex items-center space-x-2 text-slate-300",children:[M.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded bg-slate-800 border-slate-600 text-lime-400 focus:ring-lime-400",checked:Ne,onChange:de=>Y(de.target.checked)}),M.jsx("span",{children:"Generate Multi-Person Image ()"})]}),M.jsxs("label",{className:"flex items-center space-x-2 text-slate-300",children:[M.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded bg-slate-800 border-slate-600 text-lime-400 focus:ring-lime-400",checked:R,onChange:de=>G(de.target.checked)}),M.jsx("span",{children:"Generate Scene ()"})]}),M.jsxs("label",{className:"flex items-center space-x-2 text-slate-300",children:[M.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded bg-slate-800 border-slate-600 text-lime-400 focus:ring-lime-400",checked:K,onChange:de=>ie(de.target.checked)}),M.jsx("span",{children:"Generate Social Media Post ()"})]})]}),M.jsxs("div",{children:[M.jsx("label",{htmlFor:"campaignName",className:"block text-sm font-medium text-slate-300",children:"Campaign Name (for downloads) ()"}),M.jsx("input",{type:"text",id:"campaignName",value:l,onChange:de=>c(de.target.value),placeholder:"e.g., Summer Collection 2024 (, 2024)",className:"mt-1 block w-full bg-slate-800 border border-slate-700 text-slate-100 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-lime-400 focus:border-lime-400"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Output Dimensions ()"}),M.jsx("div",{className:"grid grid-cols-4 gap-2 mb-2",children:["1:1","16:9","9:16","custom"].map(de=>M.jsx("button",{onClick:()=>gt(de),className:`px-3 py-2 rounded-lg border text-sm font-medium transition-all ${it===de?"bg-lime-900/50 border-lime-400 text-lime-300 ring-2 ring-lime-400/50":"bg-slate-800 border-slate-700 text-slate-300 hover:bg-slate-700"}`,children:de==="custom"?"Custom":de},de))}),it==="custom"&&M.jsx("div",{className:"bg-slate-800 p-3 rounded-lg border border-slate-700 space-y-3",children:M.jsxs("div",{className:"flex gap-3 items-center",children:[M.jsxs("div",{className:"flex-1",children:[M.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Width (px)"}),M.jsx("input",{type:"number",value:ft,onChange:de=>vt(parseInt(de.target.value)||0),className:"w-full bg-slate-900 border border-slate-700 rounded px-2 py-1.5 text-sm focus:border-lime-400 outline-none text-slate-200"})]}),M.jsx("span",{className:"text-slate-500 pt-4",children:"x"}),M.jsxs("div",{className:"flex-1",children:[M.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Height (px)"}),M.jsx("input",{type:"number",value:Ct,onChange:de=>at(parseInt(de.target.value)||0),className:"w-full bg-slate-900 border border-slate-700 rounded px-2 py-1.5 text-sm focus:border-lime-400 outline-none text-slate-200"})]})]})})]})]})]}),M.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-sm border border-slate-700/50 p-6 rounded-xl shadow-lg",children:[M.jsxs("div",{className:"flex justify-between items-center cursor-pointer",onClick:()=>Re(Ce==="product"?"":"product"),children:[M.jsx("h2",{className:"text-xl font-semibold text-white",children:"2. Add Product & Brand Details ( & )"}),M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 transition-transform text-slate-400 ${Ce==="product"?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),Ce==="product"&&M.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-700 space-y-4",children:[M.jsxs("div",{children:[M.jsx("label",{htmlFor:"productName",className:"block text-sm font-medium text-slate-300",children:"Product Name ()"}),M.jsx("input",{type:"text",id:"productName",value:f,onChange:de=>d(de.target.value),placeholder:"e.g., The Minimalist Watch (, )",className:"mt-1 block w-full bg-slate-800 border border-slate-700 text-slate-100 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-lime-400 focus:border-lime-400"})]}),M.jsxs("div",{children:[M.jsx("label",{htmlFor:"sellingPoints",className:"block text-sm font-medium text-slate-300",children:"Key Selling Points ()"}),M.jsx("textarea",{id:"sellingPoints",value:p,onChange:de=>v(de.target.value),rows:3,placeholder:"e.g., Hand-crafted leather strap, Sapphire crystal glass... (, ...)",className:"mt-1 block w-full bg-slate-800 border border-slate-700 text-slate-100 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-lime-400 focus:border-lime-400"})]}),M.jsxs("div",{children:[M.jsx("label",{htmlFor:"productLink",className:"block text-sm font-medium text-slate-300",children:"Product Link ()"}),M.jsx("input",{type:"text",id:"productLink",value:_,onChange:de=>y(de.target.value),placeholder:"e.g., www.yourstore.com/product (, www.yourstore.com/product)",className:"mt-1 block w-full bg-slate-800 border border-slate-700 text-slate-100 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-lime-400 focus:border-lime-400"})]})]})]}),M.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-sm border border-slate-700/50 p-6 rounded-xl shadow-lg",children:[M.jsx("h2",{className:"text-xl font-semibold mb-4 border-b border-slate-700 pb-2 text-white",children:"3. Select Perspectives ()"}),M.jsxs("div",{className:"space-y-1",children:[M.jsxs(Ps,{title:`Shot Size & Angle ( & ) (Total Output: ${is}/${gs})`,isOpen:Ce==="perspectives",onToggle:()=>Re(Ce==="perspectives"?"":"perspectives"),children:[M.jsxs("div",{className:"mb-4 space-y-4",children:[M.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-3 flex flex-col md:flex-row md:items-center justify-between gap-3",children:[M.jsxs("div",{className:"flex-1",children:[M.jsx("label",{htmlFor:"imagesPerAngle",className:"block text-sm font-medium text-lime-300 mb-1",children:"Images per Perspective ()"}),M.jsx("p",{className:"text-xs text-slate-500",children:"Generate multiple variations for each selected angle."})]}),M.jsxs("div",{className:"flex items-center gap-3 bg-slate-900 rounded-lg p-1 border border-slate-700",children:[M.jsx("button",{onClick:()=>yi(Math.max(1,Vt-1)),className:"p-2 hover:bg-slate-800 text-slate-300 rounded disabled:opacity-50",disabled:Vt<=1,children:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 12H4"})})}),M.jsx("span",{className:"text-lg font-mono font-bold text-white min-w-[2rem] text-center",children:Vt}),M.jsx("button",{onClick:()=>yi(Math.min(10,Vt+1)),className:"p-2 hover:bg-slate-800 text-slate-300 rounded disabled:opacity-50",disabled:Vt>=10,children:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})})})]})]}),M.jsx("button",{onClick:Jo,disabled:k||t.length===0,className:"w-full py-3 px-4 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 text-white font-bold rounded-lg shadow-md flex items-center justify-center gap-2 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:k?M.jsxs(M.Fragment,{children:[M.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[M.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),M.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Brainstorming..."]}):M.jsxs(M.Fragment,{children:[M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:M.jsx("path",{fillRule:"evenodd",d:"M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z",clipRule:"evenodd"})})," Brainstorm Angles (AI )"]})})]}),M.jsxs("div",{className:"space-y-4",children:[M.jsxs("div",{children:[M.jsx("h4",{className:"text-sm font-medium text-slate-400 mb-2",children:"Shot & Angle ( & )"}),M.jsx("div",{className:"grid grid-cols-2 gap-2",children:gi.map(de=>M.jsx(zo,{isSelected:ae.includes(de.id),onClick:()=>Vn(de.id),children:M.jsx(vl,{text:de.label})},de.id))})]}),M.jsxs("div",{children:[M.jsxs("h4",{className:"text-sm font-medium text-slate-400 mb-2",children:["Focus Subject (/) ",M.jsx("span",{className:"text-xs font-normal text-lime-400 ml-1",children:"(Auxiliary optimization only)"})]}),M.jsx("div",{className:"grid grid-cols-2 gap-2",children:gn.map(de=>M.jsx(zo,{isSelected:oe.includes(de.id),onClick:()=>Bs(de.id),children:M.jsx(vl,{text:de.label})},de.id))})]})]}),M.jsxs("div",{className:"mt-4",children:[M.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Other ()"}),M.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[M.jsx("input",{type:"text",value:me,onChange:de=>ge(de.target.value),onKeyDown:Al,placeholder:"e.g., Worm's-eye view, press Enter to add",className:"flex-grow bg-slate-800 border border-slate-700 text-slate-100 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-lime-400 focus:border-lime-400"}),M.jsx("button",{onClick:kr,className:"bg-lime-600 hover:bg-lime-500 text-white font-bold px-4 py-2 rounded-md transition-colors",children:"Add"})]}),M.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:I.map(de=>M.jsxs("div",{className:"flex items-center gap-1 bg-fuchsia-800/50 text-fuchsia-200 text-sm px-2 py-1 rounded-full border border-fuchsia-500/30",children:[M.jsx("span",{children:de}),M.jsx("button",{onClick:()=>Dr(de),className:"p-0.5 hover:bg-fuchsia-600/50 rounded-full",children:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},de))})]})]}),M.jsx(Ps,{title:`Product Studio () (Total Output: ${is}/${gs})`,isOpen:Ce==="productStudio",onToggle:()=>Re(Ce==="productStudio"?"":"productStudio"),children:M.jsxs("div",{className:"space-y-4",children:[M.jsxs("div",{children:[M.jsx("h4",{className:"text-sm font-medium text-slate-400 mb-2",children:"Standard Angles ()"}),M.jsx("div",{className:"grid grid-cols-2 gap-2",children:Tn.map(de=>M.jsx(zo,{isSelected:D.includes(de.id),onClick:()=>Yo(de.id),children:M.jsx(vl,{text:de.label})},de.id))})]}),M.jsx("p",{className:"text-xs text-slate-500 mt-3 p-2 bg-slate-800/50 rounded-md",children:"Tip: These options generate clean product shots on a pure white background, ideal for e-commerce."})]})}),M.jsxs(Ps,{title:"Creative Controls ()",isOpen:Ce==="creative",onToggle:()=>Re(Ce==="creative"?"":"creative"),children:[M.jsxs("div",{className:"bg-slate-800/40 p-4 rounded-xl border border-slate-700/50 mb-6 space-y-4",children:[M.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[M.jsx("span",{className:"text-lime-400 text-lg",children:""}),M.jsx("h4",{className:"font-semibold text-slate-200",children:"Target Audience & Region ( & )"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-2",children:"Target Region ()"}),M.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:["Global","North America","Europe","East Asia","Southeast Asia","Middle East"].map(de=>M.jsx("button",{onClick:()=>ye(de),className:`px-3 py-1.5 rounded-full text-xs font-medium border transition-all ${F===de?"bg-lime-900/50 border-lime-400 text-lime-300":"bg-slate-800 border-slate-600 text-slate-400 hover:border-slate-400"}`,children:de},de))}),M.jsx("input",{type:"text",value:F,onChange:de=>ye(de.target.value),placeholder:"Or type custom region (e.g., Brazil, Nordic Countries)...",className:"w-full bg-slate-900 border border-slate-700 rounded-lg py-2 px-3 text-sm focus:outline-none focus:ring-1 focus:ring-lime-400 focus:border-lime-400 text-slate-200 placeholder-slate-600"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-2",children:"Target Audience ()"}),M.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:["Gen Z","Millennials","Professionals","Parents","Luxury Shoppers","Tech Enthusiasts"].map(de=>M.jsx("button",{onClick:()=>ue(de),className:`px-3 py-1.5 rounded-full text-xs font-medium border transition-all ${$===de?"bg-lime-900/50 border-lime-400 text-lime-300":"bg-slate-800 border-slate-600 text-slate-400 hover:border-slate-400"}`,children:de},de))}),M.jsx("input",{type:"text",value:$,onChange:de=>ue(de.target.value),placeholder:"Describe your audience (e.g., Eco-conscious urban dwellers)...",className:"w-full bg-slate-900 border border-slate-700 rounded-lg py-2 px-3 text-sm focus:outline-none focus:ring-1 focus:ring-lime-400 focus:border-lime-400 text-slate-200 placeholder-slate-600"})]})]}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[M.jsx("div",{className:"p-3 bg-gradient-to-r from-fuchsia-900/30 to-purple-900/30 rounded-lg border border-fuchsia-500/20",children:M.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer group",children:[M.jsxs("div",{className:"relative",children:[M.jsx("input",{type:"checkbox",className:"sr-only peer",checked:ve,onChange:de=>Te(de.target.checked)}),M.jsx("div",{className:"w-10 h-6 bg-slate-700 rounded-full peer peer-focus:ring-4 peer-focus:ring-fuchsia-800 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-fuchsia-600"})]}),M.jsxs("div",{children:[M.jsx("span",{className:"font-semibold text-fuchsia-300 group-hover:text-fuchsia-200 transition-colors",children:" Creativity Boost (Expert Mode)"}),M.jsx("span",{className:"block text-xs text-slate-400",children:"Allow AI to be more avant-garde."})]})]})}),M.jsx("div",{className:"p-3 bg-gradient-to-r from-lime-900/30 to-emerald-900/30 rounded-lg border border-lime-500/20",children:M.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer group",children:[M.jsxs("div",{className:"relative",children:[M.jsx("input",{type:"checkbox",className:"sr-only peer",checked:we,onChange:de=>Se(de.target.checked)}),M.jsx("div",{className:"w-10 h-6 bg-slate-700 rounded-full peer peer-focus:ring-4 peer-focus:ring-lime-800 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-lime-600"})]}),M.jsxs("div",{children:[M.jsx("span",{className:"font-semibold text-lime-300 group-hover:text-lime-200 transition-colors",children:" Series Consistency ()"}),M.jsx("span",{className:"block text-xs text-slate-400",children:"Sync style, scene & lighting across all images."})]})]})}),M.jsx("div",{className:"p-3 bg-gradient-to-r from-rose-900/30 to-red-900/30 rounded-lg border border-rose-500/20",children:M.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer group",children:[M.jsxs("div",{className:"relative",children:[M.jsx("input",{type:"checkbox",className:"sr-only peer",checked:We,onChange:de=>Ye(de.target.checked)}),M.jsx("div",{className:"w-10 h-6 bg-slate-700 rounded-full peer peer-focus:ring-4 peer-focus:ring-rose-800 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-rose-600"})]}),M.jsxs("div",{children:[M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("span",{className:"font-semibold text-rose-300 group-hover:text-rose-200 transition-colors",children:" Sensual Mode (/)"}),M.jsx("span",{className:"animate-pulse px-1.5 py-0.5 rounded text-[10px] bg-rose-600 text-white font-bold uppercase",children:"HOT"})]}),M.jsx("span",{className:"block text-xs text-slate-400",children:"Enable boudoir aesthetics, provocative poses, and seductive lighting."})]})]})}),M.jsx("div",{className:"p-3 bg-gradient-to-r from-amber-900/30 to-orange-900/30 rounded-lg border border-amber-500/20",children:M.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer group",children:[M.jsxs("div",{className:"relative",children:[M.jsx("input",{type:"checkbox",className:"sr-only peer",checked:st,onChange:de=>ot(de.target.checked)}),M.jsx("div",{className:"w-10 h-6 bg-slate-700 rounded-full peer peer-focus:ring-4 peer-focus:ring-amber-800 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-amber-600"})]}),M.jsxs("div",{children:[M.jsx("div",{className:"flex items-center gap-2",children:M.jsx("span",{className:"font-semibold text-amber-300 group-hover:text-amber-200 transition-colors",children:" Lo-Fi Authenticity (/UGC)"})}),M.jsx("span",{className:"block text-xs text-slate-400",children:'Add digital noise, flash, and "imperfect" amateur aesthetic for trust.'})]})]})})]}),M.jsx(Ps,{title:"Close-up Details (/)",isOpen:be==="closeUp",onToggle:()=>ze(be==="closeUp"?"":"closeUp"),titleClassName:"text-sm font-medium text-slate-400",children:M.jsx("div",{className:"grid grid-cols-2 gap-2",children:ir.closeUpDetails.map(de=>M.jsx(zo,{isSelected:xt.closeUpDetails.includes(de.id),onClick:()=>Pr("closeUpDetails",de.id),children:M.jsx(vl,{text:de.label})},de.id))})}),M.jsx(Ps,{title:"Scene/Background (/)",isOpen:be==="scene",onToggle:()=>ze(be==="scene"?"":"scene"),titleClassName:"text-sm font-medium text-slate-400",children:M.jsx("div",{className:"grid grid-cols-2 gap-2",children:ir.scene.map(de=>M.jsx(zo,{isSelected:xt.scene.includes(de.id),onClick:()=>Pr("scene",de.id),children:M.jsx(vl,{text:de.label})},de.id))})}),M.jsxs(Ps,{title:"Props ()",isOpen:be==="props",onToggle:()=>ze(be==="props"?"":"props"),titleClassName:"text-sm font-medium text-slate-400",children:[M.jsx("div",{className:"grid grid-cols-2 gap-2",children:ir.props.map(de=>M.jsx(zo,{isSelected:xt.props.includes(de.id),onClick:()=>Pr("props",de.id),children:M.jsx(vl,{text:de.label})},de.id))}),M.jsx("input",{type:"text",value:Oi.props,onChange:de=>ws("props",de.target.value),placeholder:"Custom props (), e.g., sunglasses ()",className:"mt-2 block w-full bg-slate-800 border border-slate-700 text-slate-100 rounded-md shadow-sm py-2 px-3 text-sm focus:outline-none focus:ring-lime-400 focus:border-lime-400"})]}),M.jsxs(Ps,{title:"Atmosphere ()",isOpen:be==="atmosphere",onToggle:()=>ze(be==="atmosphere"?"":"atmosphere"),titleClassName:"text-sm font-medium text-slate-400",children:[M.jsx("div",{className:"grid grid-cols-2 gap-2",children:ir.atmosphere.map(de=>M.jsx(zo,{isSelected:xt.atmosphere.includes(de.id),onClick:()=>Pr("atmosphere",de.id),children:M.jsx(vl,{text:de.label})},de.id))}),M.jsx("input",{type:"text",value:Oi.atmosphere,onChange:de=>ws("atmosphere",de.target.value),placeholder:"Custom atmosphere (), e.g., morning light ()",className:"mt-2 block w-full bg-slate-800 border border-slate-700 text-slate-100 rounded-md shadow-sm py-2 px-3 text-sm focus:outline-none focus:ring-lime-400 focus:border-lime-400"})]}),M.jsxs(Ps,{title:M.jsxs(M.Fragment,{children:["Audience Context () ",M.jsx("span",{className:"text-slate-500 font-normal",children:"(Optional)"})]}),isOpen:be==="audience",onToggle:()=>ze(be==="audience"?"":"audience"),titleClassName:"text-sm font-medium text-slate-400",children:[M.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:ir.audience.map(de=>M.jsx(zo,{isSelected:xt.audience.includes(de.id),onClick:()=>Pr("audience",de.id),children:M.jsx(vl,{text:de.label})},de.id))}),M.jsx("input",{type:"text",value:Oi.audience,onChange:de=>ws("audience",de.target.value),placeholder:"Custom audience details ()",className:"mt-2 block w-full bg-slate-800 border border-slate-700 text-slate-100 rounded-md shadow-sm py-2 px-3 text-sm focus:outline-none focus:ring-lime-400 focus:border-lime-400"})]})]}),M.jsx(Ps,{title:"Style Filters ()",isOpen:Ce==="filters",onToggle:()=>Re(Ce==="filters"?"":"filters"),children:Rr.map(de=>M.jsxs("div",{className:"mb-4 last:mb-0",children:[M.jsx("h4",{className:"text-sm font-medium text-slate-400 mb-2",children:de.category}),M.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:de.filters.map(Ze=>M.jsx(zo,{isSelected:hi===Ze.id,onClick:()=>pi(Xe=>Xe===Ze.id?"":Ze.id),children:M.jsxs("div",{children:[M.jsx("span",{className:"font-semibold block text-lime-300",children:Ze.label}),M.jsx("span",{className:"text-xs text-slate-400 block font-normal",children:Ze.description})]})},Ze.id))})]},de.category))}),K&&M.jsxs(M.Fragment,{children:[M.jsx(Ps,{title:"Social Media Platforms ()",isOpen:Ce==="platforms",onToggle:()=>Re(Ce==="platforms"?"":"platforms"),children:M.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-2",children:bs.map(de=>M.jsxs("button",{onClick:()=>rr(de.id),className:`flex flex-col items-center justify-center gap-1 p-2 rounded-lg border transition-all duration-200 ${St.includes(de.id)?"bg-lime-900/50 border-lime-400 text-lime-300 ring-2 ring-lime-400/50":"bg-slate-800/60 border-slate-700 text-slate-400 hover:bg-slate-700/80 hover:border-slate-500"}`,children:[de.icon,M.jsx("span",{className:"text-xs font-semibold",children:de.id})]},de.id))})}),M.jsx(Ps,{title:"Social Media Strategy ()",isOpen:Ce==="strategies",onToggle:()=>Re(Ce==="strategies"?"":"strategies"),children:M.jsx("div",{className:"space-y-3",children:vr.map(de=>M.jsx(zo,{isSelected:oi.includes(de.id),onClick:()=>Nn(de.id),children:M.jsxs("div",{children:[M.jsx(kT,{text:de.label}),M.jsx("span",{className:"text-xs text-slate-400 block font-normal mt-1",children:de.description})]})},de.id))})})]}),M.jsx(Ps,{title:" Image-to-Video Director (Veo/Kling)",isOpen:Ce==="videoDirector",onToggle:()=>Re(Ce==="videoDirector"?"":"videoDirector"),children:M.jsxs("div",{className:"p-4 bg-slate-800/40 rounded-xl border border-slate-700 space-y-6",children:[M.jsxs("div",{className:"flex items-center gap-2 text-lime-400 font-bold mb-2",children:[M.jsx(E5,{}),M.jsx("span",{children:"Director Logic: Vertical Layering"})]}),M.jsxs("div",{className:"flex flex-col gap-6",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase mb-2",children:"1. Camera Movement ()"}),M.jsx("select",{value:He.cameraMovement,onChange:de=>Ve(Ze=>({...Ze,cameraMovement:de.target.value})),className:"w-full bg-slate-900 border border-slate-700 text-slate-200 text-sm rounded-lg p-3 outline-none focus:ring-1 focus:ring-lime-500 transition-all cursor-pointer",children:vi.map(de=>M.jsx("option",{value:de,children:de},de))})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase mb-2",children:"2. Action / Motion ()"}),M.jsxs("select",{value:He.action,onChange:de=>Ve(Ze=>({...Ze,action:de.target.value})),className:"w-full bg-slate-900 border border-slate-700 text-slate-200 text-sm rounded-lg p-3 outline-none focus:ring-1 focus:ring-lime-500 transition-all cursor-pointer",children:[M.jsx("option",{value:"",children:"Custom / Auto ( / )"}),nr.map(de=>M.jsx("option",{value:de.label,children:de.label},de.id))]}),He.action===""&&M.jsx("input",{type:"text",placeholder:"Type custom action here...",className:"mt-2 w-full bg-slate-900/50 border border-slate-800 text-slate-400 text-xs rounded p-2 outline-none focus:border-lime-500",onChange:de=>Ve(Ze=>({...Ze,action:de.target.value}))})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase mb-2",children:"3. Scene Override ()"}),M.jsxs("select",{value:He.scene,onChange:de=>Ve(Ze=>({...Ze,scene:de.target.value})),className:"w-full bg-slate-900 border border-slate-700 text-slate-200 text-sm rounded-lg p-3 outline-none focus:ring-1 focus:ring-lime-500 transition-all cursor-pointer",children:[M.jsx("option",{value:"",children:"Keep Image Scene ()"}),Mr.map(de=>M.jsx("option",{value:de.label,children:de.label},de.id))]}),He.scene===""&&M.jsx("input",{type:"text",placeholder:"Type custom scene here...",className:"mt-2 w-full bg-slate-900/50 border border-slate-800 text-slate-400 text-xs rounded p-2 outline-none focus:border-lime-500",onChange:de=>Ve(Ze=>({...Ze,scene:de.target.value}))})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase mb-2",children:"4. Visual Style ()"}),M.jsxs("select",{value:He.style,onChange:de=>Ve(Ze=>({...Ze,style:de.target.value})),className:"w-full bg-slate-900 border border-slate-700 text-slate-200 text-sm rounded-lg p-3 outline-none focus:ring-1 focus:ring-lime-500 transition-all cursor-pointer",children:[M.jsx("option",{value:"",children:"Auto-Inferred ()"}),tr.map(de=>M.jsx("option",{value:de,children:de},de))]})]})]}),M.jsxs("div",{className:"pt-4 border-t border-slate-700",children:[M.jsxs("label",{className:"flex items-center gap-2 text-[10px] text-lime-300 font-bold uppercase tracking-wider mb-1",children:[M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5",viewBox:"0 0 20 20",fill:"currentColor",children:M.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),"Director Constraint: Consistency Lock"]}),M.jsx("p",{className:"text-[10px] text-slate-500 leading-tight",children:"Subject appearance remains identical. No outfit, hair, or face changes. Lighting consistency locked."})]})]})})]})]}),M.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-sm border border-slate-700/50 p-6 rounded-xl shadow-lg",children:[M.jsx("h2",{className:"text-xl font-semibold mb-4 border-b border-slate-700 pb-2 text-white",children:"4. Presets ()"}),M.jsxs("div",{className:"space-y-4",children:[M.jsxs("button",{onClick:co,className:"w-full flex items-center justify-center gap-2 bg-slate-800/60 border border-slate-700 text-slate-300 hover:bg-slate-700/80 hover:border-slate-500 font-semibold py-2 px-4 rounded-lg transition-colors shadow-sm",children:[M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),"Save Current Settings as Preset"]}),_n.length>0&&M.jsxs("div",{children:[M.jsx("h3",{className:"text-base font-semibold text-slate-300 mt-4 mb-2",children:"Load Preset"}),M.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-2",children:_n.map(de=>M.jsxs("div",{className:"flex items-center justify-between bg-slate-800/50 p-2 rounded-lg",children:[M.jsx("span",{className:"text-sm text-slate-300 truncate font-medium",title:de.name,children:de.name}),M.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[M.jsx("button",{onClick:()=>Ia(de.name),className:"text-xs bg-lime-600 hover:bg-lime-500 text-white font-bold px-3 py-1 rounded-md transition-colors",children:"Load"}),M.jsx("button",{onClick:()=>fo(de.name),className:"p-1.5 bg-red-800/80 hover:bg-red-700/80 text-white rounded-md transition-colors",title:`Delete ${de.name}`,children:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]},de.name))})]})]})]}),M.jsx("button",{onClick:xs,disabled:C,className:"w-full mt-6 py-4 bg-gradient-to-r from-lime-500 to-emerald-500 hover:from-lime-400 hover:to-emerald-400 text-black font-bold text-lg rounded-xl shadow-lg shadow-lime-900/20 transition-all hover:scale-[1.02] disabled:opacity-50 disabled:scale-100 flex items-center justify-center gap-2",children:C?M.jsxs(M.Fragment,{children:[M.jsxs("svg",{className:"animate-spin h-5 w-5 text-black",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[M.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),M.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating Assets..."]}):M.jsxs(M.Fragment,{children:[M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"GENERATE CAMPAIGN"]})}),Z&&M.jsxs("div",{className:"mt-4 p-4 bg-red-900/50 border border-red-500/50 rounded-lg text-red-200 text-sm flex items-start gap-2 animate-fade-in",children:[M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 flex-shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),M.jsx("span",{children:Z})]})]}),M.jsxs("div",{className:"lg:col-span-8 space-y-6",children:[J?M.jsx(tE,{data:J,onPerspectiveImageUpdate:Fi,productName:f,campaignName:l,videoPrompt:"",onExpand:Zo,isExpanding:se,onRegenerate:Ma,onExtendFrame:Ur,onClearPerspectiveError:El}):M.jsxs("div",{className:"h-full min-h-[500px] flex flex-col items-center justify-center bg-slate-900/40 border-2 border-dashed border-slate-700/50 rounded-2xl p-12 text-slate-500",children:[M.jsx("div",{className:"w-24 h-24 mb-6 opacity-20 bg-slate-800 rounded-full flex items-center justify-center",children:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),M.jsx("p",{className:"text-xl font-monument text-slate-400 mb-2 uppercase tracking-wide",children:"Canvas Empty"}),M.jsx("p",{className:"text-sm text-center max-w-sm text-slate-500",children:"Configure your campaign settings on the left and hit Generate to start creating."})]}),(C||k||Fn)&&M.jsx(nE,{message:z||(k?"Brainstorming creative angles...":Fn?"Analyzing image structure...":"Generating your content...")})]})]})]}),M.jsx(iE,{isOpen:en,onClose:()=>Ir(!1),analysisText:mn})]}):M.jsxs("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center p-4 relative overflow-hidden font-sans",children:[M.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-30 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEgMWgydjJIMUMxeiIgZmlsbD0iIzMzMyIgZmlsbC1vcGFjaXR5PSIwLjEiLz48L3N2Zz4=')]"}),M.jsxs("div",{className:"bg-slate-900 border border-slate-700 p-10 rounded-2xl max-w-md text-center shadow-2xl relative z-10 animate-fade-in",children:[M.jsx("h1",{className:"text-3xl font-monument tracking-tighter apple-header-gradient mb-6 drop-shadow-lg",children:"RARE VISUAL CATALYST 3.6"}),M.jsxs("p",{className:"text-slate-400 mb-8 leading-relaxed",children:["This application now uses the advanced ",M.jsx("strong",{className:"text-white",children:"Nano Banana Pro (Gemini 3.0 Pro)"})," model for ultra-high-quality generation.",M.jsx("br",{}),M.jsx("br",{})," API Key "]}),M.jsx("button",{onClick:_s,className:"w-full py-3.5 bg-lime-400 hover:bg-lime-300 text-slate-900 font-bold rounded-xl transition-colors text-lg shadow-lg",children:"  API Key"}),M.jsx("p",{className:"text-xs text-slate-600 mt-6",children:" Gemini "})]}),M.jsx(tv,{isOpen:Lt,onClose:()=>{di(!1),Bt(!!ud())}})]})},M5=document.getElementById("root");if(!M5)throw new Error("Could not find root element to mount to");const PT=Xy.createRoot(M5);PT.render(M.jsx(Gy.StrictMode,{children:M.jsx(DT,{})}));export{En as _,Vf as c,jp as g};
